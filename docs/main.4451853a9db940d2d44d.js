(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},slli:function(t,e,n){t.exports=function(){"use strict";var t=null;function e(t,e,n){t&&(t.parentNode&&t.parentNode.removeChild(t),e&&e.appendChild(t),n())}function n(t,e){if(t&&"object"==typeof t)if(Array.isArray(t))t.forEach(e);else for(var n=Object.keys(t),r=n.length,i=0;i<r;i++){var o=n[i];e(t[o],o)}}function r(t){return"rtl"===window.getComputedStyle(t).direction}function i(t){return t*(Math.PI/180)}function o(t){return t*(180/Math.PI)}function a(t,e,r){var i,o=e,l=r;if(2===arguments.length&&"string"==typeof o&&(l=o,o=!0),null===t)return null;function c(t,e){o&&"_"===e.charAt(0)||(i[e]=a(t,o&&e!==l))}if("object"==typeof t){if(Array.isArray(t)){for(var d=[],f=0;f<t.length;f++)d.push(a(t[f],o,l));return d}return u(t)?s(t,!0):t instanceof Date?new Date(t.getTime()):(i={},n(t,c),i)}return"boolean"==typeof t||"string"==typeof t||"number"==typeof t?t:void 0}function s(t,e){void 0===e&&(e=!1);var n,r=Object.getPrototypeOf(t).constructor;return e?(n=new r,a(Array.from(t)).forEach(function(t){n.add?n.add(t):n.set(t[0],t[1])})):n=new r(t),n}function l(){return Object.isPrototypeOf&&Array.from&&"undefined"!=typeof Set&&"undefined"!=typeof Map}function u(e){return null==t&&l&&(t=l()),!!t&&(Object.prototype.isPrototypeOf.call(Map.prototype,e)||Object.prototype.isPrototypeOf.call(Set.prototype,e))}var c="undefined"!=typeof requestAnimationFrame;function d(t){return c?requestAnimationFrame(t):setTimeout(t,16.666666666666668)}function f(t){c?cancelAnimationFrame(t):clearTimeout(t)}function h(t,e){return void 0===e&&(e=0),x(t)?setTimeout(t,e):null}function p(t,e){if(x(t))return setInterval(t,e)}function g(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];KeyLines._loggerDisabled||console.log([].slice.call(t).join(" "))}var v=Number.isNaN||function(t){return t!=t},m=Number.isFinite||y;function y(t){return"number"==typeof t&&isFinite(t)}function b(t){return t>>>0===parseFloat(t)}function x(t){return"function"==typeof t}function w(t){return!("object"!=typeof t||P(t)||t instanceof Date||function(t){return Array.isArray(t)}(t))}function C(t){return"[object Date]"===Object.prototype.toString.call(t)&&!v(t.getTime())}function A(t,e){return w(t)&&w(e)?Object.keys(e).every(function(n){return A(t[n],e[n])}):function(t,e){return void 0===t&&void 0===e||!(!v(t)||!v(e)||"number"!=typeof t||"number"!=typeof e)||(Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every(function(t,n){return A(t,e[n])}):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t===e)}(t,e)}function _(t,e){x(t)&&h(function(){t(e)})}function M(t,e){x(t)&&t(e)}var E=Number.isInteger||function(t){return y(t)&&Math.floor(t)===t};function k(t){return"object"==typeof t&&t&&!Array.isArray(t)&&t.items?t.items:t}function S(t){return Array.isArray(t)?t:[t]}function I(t,e){for(var n=[],r=S(t),i=0;i<r.length;i++)e[r[i]]&&n.push(r[i]);return n}function T(t,e){var r=a(t)||{};return"string"==typeof t?t:(n(e,function(t,e){R(r,e)&&!V(r[e])||(r[e]=t)}),r)}function O(t){return void 0!==t}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function P(t){return null===t}function V(t){return P(t)||function(t){return void 0===t}(t)}function F(t){return!("number"!=typeof t||!v(t))||V(t)}function D(t){return t.lastIndexOf("\u2704")}function B(t){if(V(t))return null;var e=""+t,n=D(e);return-1!==n&&(e=e.substring(0,n)),e}function Z(t){if(V(t))return null;var e=""+t,n=D(e);return-1!==n?e.substring(n+1):null}function G(t,e){return t.indexOf(e)>-1}var z=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})};function j(t){return Object.keys(t)}function Y(t){return Object.keys(t).length>0}function N(t){return S(t).reduce(function(t,e){return t[B(e)]=!0,t},{})}function U(t){return S(t).reduce(function(t,e){return t.add(B(e)),t},new Set)}function W(t){var e={};return t.forEach(function(t){e[t.id]=t}),e}function X(t){return t.map(function(t){return t.id})}function H(t,e){return t?(n(e,function(e,n){t[n]=e}),t):e}var K=Number.assign||function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),i=function(t){var n=e[t];null!=n&&Object.keys(n).forEach(function(t){r[t]=n[t]})},o=0;o<e.length;o++)i(o);return r};function J(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}function Q(t,e){return Math.max(1e-4,J(0,0,t,e))}function q(t,e){var n=t,r=e,i=Q(n,r);return[n/=i,r/=i]}function $(t,e,n,r){var i=q(t,e),o=q(n,r);return i[0]*o[0]+i[1]*o[1]}function tt(){}function et(t,e){var n,r,i;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s=Date.now();function l(){r=Date.now(),t.apply(void 0,i)}i=o,n||(!r||s-r>=e?l():n=h(function(){n=null,l()},e-(s-r)))}}function nt(t){void 0===t&&(t=null);var e=t,n=2147483647,r=n/48271;return{setSeed:function(t){e=t},next:function(){if(e){var t=e%r*48271-e/r*3399;return 4.656612875245797e-10*(e=t>0?t:t+n)}return Math.random()}}}var rt,it={};function ot(t){if(!it[t]){var e=t;t.match(/'/)&&(e=t.replace(/'/g,"\\'")),e.match(/\s/)&&(e="'"+e+"'"),it[t]=e}return it[t]}function at(t){return w(t.pos)&&!V(t.pos.lat)&&!V(t.pos.lng)}function st(t,e){for(var n=t.split("."),r=e.split("."),i=0;i<n.length&&i<r.length;i++){var o=parseInt(n[i],10),a=parseInt(r[i],10);if(o!==a)return o-a}return n.length!==r.length?n.length-r.length:0}function lt(t){return 0===t?0:t<0?-1:1}function ut(t,e,n){return Math.max(e,Math.min(n,t))}function ct(t){for(var e=0,n=t.length;e<n;e++){var r=t.charCodeAt(e);if(r>=1536&&(r<=1791||r>=64336&&r<=65023||r>=65136&&r<=65279||r>=1872&&r<=1919||r>=2208&&r<=2303))return!0}return!1}function dt(t){return Math.floor(t*(11/14))}function ft(t){var e=t.charCodeAt(0);return e<=55295||e>=57344?e:1024*(e-55296)+(t.charCodeAt(1)-56320)+65536}function ht(t){return[[169,169],[174,174],[8252,8252],[8265,8265],[8419,8419],[8482,8482],[8505,8505],[8596,8601],[8617,8618],[8986,8987],[9e3,9e3],[9096,9096],[9167,9167],[9193,9203],[9208,9210],[9410,9410],[9642,9643],[9654,9654],[9664,9664],[9723,9726],[9728,9733],[9735,9746],[9748,9861],[9872,9989],[9992,10002],[10004,10004],[10006,10006],[10013,10013],[10017,10017],[10024,10024],[10035,10036],[10052,10052],[10055,10055],[10060,10060],[10062,10062],[10067,10069],[10071,10071],[10083,10087],[10133,10135],[10145,10145],[10160,10160],[10175,10175],[10548,10549],[11013,11015],[11035,11036],[11088,11088],[11093,11093],[12336,12336],[12349,12349],[12951,12951],[12953,12953],[65039,65039],[126976,127231],[127245,127247],[127279,127279],[127340,127345],[127358,127359],[127374,127374],[127377,127386],[127405,127487],[127489,127503],[127514,127514],[127535,127535],[127538,127546],[127548,127551],[127561,128317],[128326,128591],[128640,128767],[128884,128895],[128981,129023],[129036,129039],[129096,129103],[129114,129119],[129160,129167],[129198,129279],[129292,129338],[129340,129349],[129351,131069],[917536,917631]].some(function(e){return t>=e[0]&&t<=e[1]})}function pt(t){return gt(t).some(function(t){return ht(ft(t))})}function gt(t){for(var e,n=0,r=t.length,i=[];n<r;++n){e=!1;var o=t.charCodeAt(n);o>=55296&&o<=56319&&n+1<r&&(o=t.charCodeAt(n+1))>=56320&&o<=57343&&(i.push(t.slice(n,n+2)),++n,e=!0),e||i.push(t.charAt(n))}return i}function vt(t){var e,n,r,i=[],o=t.length;for(e=0;e<o;e++)r=ft(n=t[e]),0===e?i.push(n):l(r)||65038===r||65039===r||a(r)||s(r)&&2===i[i.length-1].length&&s(ft(i[i.length-1]))?i[i.length-1]+=n:8205===r&&pt(i[i.length-1])&&e<o-1&&ht(ft(t[e+1]))?(i[i.length-1]+=n,i[i.length-1]+=t[++e]):r>=917536&&r<=917631?i[i.length-1]+=n:i.push(n);function a(t){return t>=127995&&t<=127999}function s(t){return t>=127462&&t<=127487}function l(t){return t>=768&&t<=879||t>=8400&&t<=8447}return i}!function(t){t[t.Neutral=0]="Neutral",t[t.Ltr=1]="Ltr",t[t.Rtl=2]="Rtl"}(rt||(rt={}));var mt,yt={};!function(t){t[t.L=0]="L",t[t.R=1]="R",t[t.EN=2]="EN",t[t.AN=3]="AN",t[t.ON=4]="ON",t[t.B=5]="B",t[t.S=6]="S",t[t.AL=7]="AL",t[t.WS=8]="WS",t[t.CS=9]="CS",t[t.ES=10]="ES",t[t.ET=11]="ET",t[t.NSM=12]="NSM",t[t.LRE=13]="LRE",t[t.RLE=14]="RLE",t[t.PDF=15]="PDF",t[t.LRO=16]="LRO",t[t.RLO=17]="RLO",t[t.BN=18]="BN"}(mt||(mt={}));var bt,xt=mt.L,wt=mt.R,Ct=mt.EN,At=mt.AN,_t=mt.ON,Mt=mt.B,Et=mt.S,kt=mt.AL,St=mt.WS,It=mt.CS,Tt=mt.ES,Lt=mt.ET,Ot=mt.NSM,Rt=mt.LRE,Pt=mt.RLE,Vt=mt.PDF,Ft=mt.LRO,Dt=mt.RLO,Bt=mt.BN;!function(t){t[t.D=2]="D",t[t.C=3]="C",t[t.U=4]="U",t[t.T=5]="T"}(bt||(bt={}));var Zt=bt.D,Gt=bt.T,zt=[9,Bt,10,Et,11,Mt,12,Et,13,St,14,Mt,28,Bt,31,Mt,32,Et,33,St,35,_t,38,Lt,43,_t,44,Tt,45,It,46,Tt,48,It,58,Ct,59,It,65,_t,91,xt,97,_t,123,xt,127,_t,133,Bt,134,Mt,160,Bt,161,It,162,_t,166,Lt,170,_t,171,xt,173,_t,174,Bt,176,_t,178,Lt,180,Ct,181,_t,182,xt,185,_t,186,Ct,187,xt,192,_t,215,xt,216,_t,247,xt,248,_t,697,xt,699,_t,706,xt,720,_t,722,xt,736,_t,741,xt,750,_t,751,xt,768,_t,880,Ot,884,xt,886,_t,894,xt,895,_t,900,xt,902,_t,903,xt,904,_t,1014,xt,1015,_t,1155,xt,1162,Ot,1418,xt,1423,_t,1425,Lt,1470,Ot,1471,wt,1472,Ot,1473,wt,1475,Ot,1476,wt,1478,Ot,1479,wt,1488,Ot,1536,wt,1542,At,1544,_t,1545,kt,1547,Lt,1548,kt,1549,It,1550,kt,1552,_t,1563,Ot,1611,kt,1632,Ot,1642,At,1643,Lt,1645,At,1648,kt,1649,Ot,1750,kt,1757,Ot,1758,At,1759,_t,1765,Ot,1767,kt,1769,Ot,1770,_t,1774,Ot,1776,kt,1786,Ct,1809,kt,1810,Ot,1840,kt,1869,Ot,1958,kt,1969,Ot,1984,kt,2027,wt,2036,Ot,2038,wt,2042,_t,2070,wt,2074,Ot,2075,wt,2084,Ot,2085,wt,2088,Ot,2089,wt,2096,Ot,2137,wt,2142,Ot,2208,wt,2260,kt,2274,Ot,2275,At,2307,Ot,2362,xt,2363,Ot,2364,xt,2365,Ot,2369,xt,2377,Ot,2381,xt,2382,Ot,2385,xt,2392,Ot,2402,xt,2404,Ot,2433,xt,2434,Ot,2492,xt,2493,Ot,2497,xt,2503,Ot,2509,xt,2510,Ot,2530,xt,2534,Ot,2546,xt,2548,Lt,2555,xt,2561,Lt,2563,Ot,2620,xt,2622,Ot,2625,xt,2649,Ot,2672,xt,2674,Ot,2677,xt,2691,Ot,2748,xt,2749,Ot,2753,xt,2761,Ot,2765,xt,2768,Ot,2786,xt,2790,Ot,2801,xt,2809,Lt,2817,xt,2818,Ot,2876,xt,2877,Ot,2879,xt,2880,Ot,2881,xt,2887,Ot,2893,xt,2903,Ot,2914,xt,2918,Ot,2946,xt,2947,Ot,3008,xt,3009,Ot,3021,xt,3024,Ot,3059,xt,3065,_t,3066,Lt,3072,_t,3073,Ot,3134,xt,3137,Ot,3142,xt,3160,Ot,3170,xt,3174,Ot,3192,xt,3199,_t,3201,xt,3202,Ot,3260,xt,3261,Ot,3276,xt,3285,Ot,3298,xt,3302,Ot,3329,xt,3330,Ot,3393,xt,3398,Ot,3405,xt,3406,Ot,3426,xt,3430,Ot,3530,xt,3535,Ot,3538,xt,3544,Ot,3633,xt,3634,Ot,3636,xt,3647,Ot,3648,Lt,3655,xt,3663,Ot,3761,xt,3762,Ot,3764,xt,3773,Ot,3784,xt,3792,Ot,3864,xt,3866,Ot,3893,xt,3894,Ot,3895,xt,3896,Ot,3897,xt,3898,Ot,3902,_t,3953,xt,3967,Ot,3968,xt,3973,Ot,3974,xt,3976,Ot,3981,xt,4030,Ot,4038,xt,4039,Ot,4141,xt,4145,Ot,4146,xt,4152,Ot,4153,xt,4155,Ot,4157,xt,4159,Ot,4184,xt,4186,Ot,4190,xt,4193,Ot,4209,xt,4213,Ot,4226,xt,4227,Ot,4229,xt,4231,Ot,4237,xt,4238,Ot,4253,xt,4254,Ot,4957,xt,4960,Ot,5008,xt,5024,_t,5120,xt,5121,_t,5760,xt,5761,St,5787,xt,5792,_t,5906,xt,5920,Ot,5938,xt,5941,Ot,5970,xt,5984,Ot,6002,xt,6016,Ot,6068,xt,6070,Ot,6071,xt,6078,Ot,6086,xt,6087,Ot,6089,xt,6100,Ot,6107,xt,6108,Lt,6109,xt,6112,Ot,6128,xt,6155,_t,6158,Ot,6160,Bt,6277,xt,6279,Ot,6313,xt,6314,Ot,6432,xt,6435,Ot,6439,xt,6441,Ot,6450,xt,6451,Ot,6457,xt,6464,Ot,6470,_t,6622,xt,6656,_t,6679,xt,6681,Ot,6683,xt,6686,Ot,6742,xt,6743,Ot,6744,xt,6753,Ot,6754,xt,6755,Ot,6757,xt,6765,Ot,6771,xt,6784,Ot,6832,xt,6916,Ot,6964,xt,6965,Ot,6966,xt,6971,Ot,6972,xt,6973,Ot,6978,xt,6979,Ot,7019,xt,7028,Ot,7040,xt,7042,Ot,7074,xt,7078,Ot,7080,xt,7082,Ot,7083,xt,7086,Ot,7142,xt,7143,Ot,7144,xt,7146,Ot,7149,xt,7150,Ot,7151,xt,7154,Ot,7212,xt,7220,Ot,7222,xt,7227,Ot,7376,xt,7379,Ot,7380,xt,7393,Ot,7394,xt,7401,Ot,7405,xt,7406,Ot,7412,xt,7413,Ot,7416,xt,7424,Ot,7616,xt,7680,Ot,8125,xt,8126,_t,8127,xt,8130,_t,8141,xt,8144,_t,8157,xt,8160,_t,8173,xt,8178,_t,8189,xt,8192,_t,8203,St,8206,Bt,8207,xt,8208,wt,8232,_t,8233,St,8234,Mt,8235,Rt,8236,Pt,8237,Vt,8238,Ft,8239,Dt,8240,It,8245,Lt,8260,_t,8261,It,8287,_t,8288,St,8294,Bt,8298,_t,8304,Bt,8305,Ct,8308,xt,8314,Ct,8316,Tt,8319,_t,8320,xt,8330,Ct,8332,Tt,8336,_t,8352,xt,8400,Lt,8448,Ot,8450,_t,8451,xt,8455,_t,8456,xt,8458,_t,8468,xt,8469,_t,8470,xt,8473,_t,8478,xt,8484,_t,8485,xt,8486,_t,8487,xt,8488,_t,8489,xt,8490,_t,8494,xt,8495,Lt,8506,xt,8508,_t,8512,xt,8517,_t,8522,xt,8526,_t,8528,xt,8544,_t,8585,xt,8722,_t,8723,Tt,8724,Lt,9014,_t,9083,xt,9109,_t,9110,xt,9352,_t,9372,Ct,9450,xt,9900,_t,9901,xt,10240,_t,10496,xt,11264,_t,11493,xt,11499,_t,11503,xt,11506,Ot,11513,xt,11520,_t,11647,xt,11648,Ot,11744,xt,11776,Ot,12288,_t,12289,St,12293,_t,12296,xt,12321,_t,12330,xt,12334,Ot,12336,xt,12337,_t,12342,xt,12344,_t,12349,xt,12353,_t,12441,xt,12443,Ot,12445,_t,12448,xt,12449,_t,12539,xt,12540,_t,12736,xt,12784,_t,12829,xt,12832,_t,12880,xt,12896,_t,12924,xt,12927,_t,12977,xt,12992,_t,13004,xt,13008,_t,13175,xt,13179,_t,13278,xt,13280,_t,13311,xt,13312,_t,19904,xt,19968,_t,42128,xt,42192,_t,42509,xt,42512,_t,42607,xt,42611,Ot,42612,_t,42622,Ot,42624,_t,42654,xt,42656,Ot,42736,xt,42738,Ot,42752,xt,42786,_t,42888,xt,42889,_t,43010,xt,43011,Ot,43014,xt,43015,Ot,43019,xt,43020,Ot,43045,xt,43047,Ot,43048,xt,43056,_t,43064,xt,43072,Lt,43124,xt,43136,_t,43204,xt,43214,Ot,43232,xt,43250,Ot,43302,xt,43310,Ot,43335,xt,43346,Ot,43392,xt,43395,Ot,43443,xt,43444,Ot,43446,xt,43450,Ot,43452,xt,43453,Ot,43493,xt,43494,Ot,43561,xt,43567,Ot,43569,xt,43571,Ot,43573,xt,43584,Ot,43587,xt,43588,Ot,43596,xt,43597,Ot,43644,xt,43645,Ot,43696,xt,43697,Ot,43698,xt,43701,Ot,43703,xt,43705,Ot,43710,xt,43712,Ot,43713,xt,43714,Ot,43756,xt,43758,Ot,43766,xt,43777,Ot,44005,xt,44006,Ot,44008,xt,44009,Ot,44013,xt,44016,Ot,64285,xt,64286,wt,64287,Ot,64297,wt,64298,Tt,64336,wt,64830,kt,64848,_t,65021,kt,65024,_t,65040,Ot,65056,_t,65072,Ot,65104,_t,65105,It,65106,_t,65108,It,65109,_t,65110,It,65119,_t,65120,Lt,65122,_t,65124,Tt,65129,_t,65131,Lt,65136,_t,65279,kt,65281,Bt,65283,_t,65286,Lt,65291,_t,65292,Tt,65293,It,65294,Tt,65296,It,65306,Ct,65307,It,65313,_t,65339,xt,65345,_t,65371,xt,65382,_t,65504,xt,65506,Lt,65509,_t,65512,Lt,1114109,_t],jt={1536:{t:4},1537:{t:4},1538:{t:4},1539:{t:4},1540:{t:4},1541:{t:4},1544:{t:4},1547:{t:4},1568:{t:2},1569:{t:4,isolated:65152},1570:{t:1,isolated:65153,initial:65154},1571:{t:1,isolated:65155,initial:65156},1572:{t:1,isolated:65157,initial:65158},1573:{t:1,isolated:65159,initial:65160},1574:{t:2,isolated:65161,final:65163,median:65164,initial:65162},1575:{t:1,isolated:65165,initial:65166},1576:{t:2,isolated:65167,final:65169,median:65170,initial:65168},1577:{t:1,isolated:65171,initial:65172},1578:{t:2,isolated:65173,final:65175,median:65176,initial:65174},1579:{t:2,isolated:65177,final:65179,median:65180,initial:65178},1580:{t:2,isolated:65181,final:65183,median:65184,initial:65182},1581:{t:2,isolated:65185,final:65187,median:65188,initial:65186},1582:{t:2,isolated:65189,final:65191,median:65192,initial:65190},1583:{t:1,isolated:65193,initial:65194},1584:{t:1,isolated:65195,initial:65196},1585:{t:1,isolated:65197,initial:65198},1586:{t:1,isolated:65199,initial:65200},1587:{t:2,isolated:65201,final:65203,median:65204,initial:65202},1588:{t:2,isolated:65205,final:65207,median:65208,initial:65206},1589:{t:2,isolated:65209,final:65211,median:65212,initial:65210},1590:{t:2,isolated:65213,final:65215,median:65216,initial:65214},1591:{t:2,isolated:65217,final:65219,median:65220,initial:65218},1592:{t:2,isolated:65221,final:65223,median:65224,initial:65222},1593:{t:2,isolated:65225,final:65227,median:65228,initial:65226},1594:{t:2,isolated:65229,final:65231,median:65232,initial:65230},1595:{t:2},1596:{t:2},1597:{t:2},1598:{t:2},1599:{t:2},1600:{t:3,isolated:1600,final:1600,median:1600,initial:1600},1601:{t:2,isolated:65233,final:65235,median:65236,initial:65234},1602:{t:2,isolated:65237,final:65239,median:65240,initial:65238},1603:{t:2,isolated:65241,final:65243,median:65244,initial:65242},1604:{t:2,isolated:65245,final:65247,median:65248,initial:65246},1605:{t:2,isolated:65249,final:65251,median:65252,initial:65250},1606:{t:2,isolated:65253,final:65255,median:65256,initial:65254},1607:{t:2,isolated:65257,final:65259,median:65260,initial:65258},1608:{t:1,isolated:65261,initial:65262},1609:{t:2,isolated:65263,initial:65264},1610:{t:2,isolated:65265,final:65267,median:65268,initial:65266},1646:{t:2},1647:{t:2},1649:{t:1},1650:{t:1},1651:{t:1},1652:{t:4},1653:{t:1},1654:{t:1},1655:{t:1},1656:{t:2},1657:{t:2},1658:{t:2},1659:{t:2},1660:{t:2},1661:{t:2},1662:{t:2,isolated:64342,final:64344,median:64345,initial:64343},1663:{t:2},1664:{t:2},1665:{t:2},1666:{t:2},1667:{t:2},1668:{t:2},1669:{t:2},1670:{t:2,isolated:64378,final:64380,median:64381,initial:64379},1671:{t:2},1672:{t:1},1673:{t:1},1674:{t:1},1675:{t:1},1676:{t:1},1677:{t:1},1678:{t:1},1679:{t:1},1680:{t:1},1681:{t:1},1682:{t:1},1683:{t:1},1684:{t:1},1685:{t:1},1686:{t:1},1687:{t:1},1688:{t:1,isolated:64394,initial:64395},1689:{t:1},1690:{t:2},1691:{t:2},1692:{t:2},1693:{t:2},1694:{t:2},1695:{t:2},1696:{t:2},1697:{t:2},1698:{t:2},1699:{t:2},1700:{t:2},1701:{t:2},1702:{t:2},1703:{t:2},1704:{t:2},1705:{t:2,isolated:64398,final:64400,median:64401,initial:64399},1706:{t:2},1707:{t:2},1708:{t:2},1709:{t:2},1710:{t:2},1711:{t:2,isolated:64402,final:64404,median:64405,initial:64403},1712:{t:2},1713:{t:2},1714:{t:2},1715:{t:2},1716:{t:2},1717:{t:2},1718:{t:2},1719:{t:2},1720:{t:2},1721:{t:2},1722:{t:2},1723:{t:2},1724:{t:2},1725:{t:2},1726:{t:2},1727:{t:2},1728:{t:1},1729:{t:2},1730:{t:2},1731:{t:1},1732:{t:1},1733:{t:1},1734:{t:1},1735:{t:1},1736:{t:1},1737:{t:1},1738:{t:1},1739:{t:1},1740:{t:2,isolated:64508,final:64510,median:64511,initial:64509},1741:{t:1},1742:{t:2},1743:{t:1},1744:{t:2},1745:{t:2},1746:{t:1},1747:{t:1},1749:{t:1},1757:{t:4},1774:{t:1},1775:{t:1},1786:{t:2},1787:{t:2},1788:{t:2},1791:{t:2},1808:{t:1},1810:{t:2},1811:{t:2},1812:{t:2},1813:{t:1},1814:{t:1},1815:{t:1},1816:{t:1},1817:{t:1},1818:{t:2},1819:{t:2},1820:{t:2},1821:{t:2},1822:{t:1},1823:{t:2},1824:{t:2},1825:{t:2},1826:{t:2},1827:{t:2},1828:{t:2},1829:{t:2},1830:{t:2},1831:{t:2},1832:{t:1},1833:{t:2},1834:{t:1},1835:{t:2},1836:{t:1},1837:{t:2},1838:{t:2},1839:{t:1},1869:{t:1},1870:{t:2},1871:{t:2},1872:{t:2},1873:{t:2},1874:{t:2},1875:{t:2},1876:{t:2},1877:{t:2},1878:{t:2},1879:{t:2},1880:{t:2},1881:{t:1},1882:{t:1},1883:{t:1},1884:{t:2},1885:{t:2},1886:{t:2},1887:{t:2},1888:{t:2},1889:{t:2},1890:{t:2},1891:{t:2},1892:{t:2},1893:{t:2},1894:{t:2},1895:{t:2},1896:{t:2},1897:{t:2},1898:{t:2},1899:{t:1},1900:{t:1},1901:{t:2},1902:{t:2},1903:{t:2},1904:{t:2},1905:{t:1},1906:{t:2},1907:{t:1},1908:{t:1},1909:{t:2},1910:{t:2},1911:{t:2},1912:{t:1},1913:{t:1},1914:{t:2},1915:{t:2},1916:{t:2},1917:{t:2},1918:{t:2},1919:{t:2},2208:{t:2},2209:{t:2},2210:{t:2},2211:{t:2},2212:{t:2},2213:{t:2},2214:{t:2},2215:{t:2},2216:{t:2},2217:{t:2},2218:{t:1},2219:{t:1},2220:{t:1},2221:{t:4},2222:{t:1},2223:{t:2},2224:{t:2},2225:{t:1},2226:{t:1},2227:{t:2},2228:{t:2},2230:{t:2},2231:{t:2},2232:{t:2},2233:{t:1},2234:{t:2},2235:{t:2},2236:{t:2},2237:{t:2},2274:{t:4},8204:{t:4},8205:{t:3},8239:{t:4},8294:{t:4},8295:{t:4},8296:{t:4},8297:{t:4},65269:{t:1,isolated:65269,initial:65270},65271:{t:1,isolated:65271,initial:65272},65273:{t:1,isolated:65273,initial:65274},65275:{t:1,isolated:65275,initial:65276}},Yt={1611:!0,1612:!0,1613:!0,1614:!0,1615:!0,1616:!0,1617:!0,1618:!0,1619:!0,1620:!0,1621:!0,1648:!0},Nt={1456:!0,1457:!0,1458:!0,1459:!0,1460:!0,1461:!0,1462:!0,1463:!0,1464:!0,1465:!0,1466:!0,1467:!0,1473:!0,1474:!0},Ut={"\u0644":{"\u0627":"\ufefb","\u0622":"\ufef5","\u0623":"\ufef7","\u0625":"\ufef9"},"\u0627":{"\u0644":{"\u0644":{"\u0647":"\ufdf2"}}}},Wt={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{",">":"<","<":">"};function Xt(t,e){if(yt[e])return yt[e];var n={characters:[],logicalOrder:t,result:[]},r=function(t){return t.map(function(t){return function(t){for(var e=t.charCodeAt(0),n=0;n<zt.length;n+=2)if(e<zt[n])return zt[n+1];return _t}(t)||0})}(t),i=function(t,e){var n=0,r=[],i=[];function o(e){var i=n,o=e.map(function(e){return{text:t[n++],level:0,embeddingLevel:void 0,type:e,index:0}}),a=t.slice(i,i+e.length);r.push({symbols:a,level:0,characters:o})}return e.forEach(function(t){t!==Mt?i.push(t):i.length>0&&(o(i),n++,i.length=0)}),i.length>0&&o(i),r}(t,r),o=i.length;return i.forEach(function(t,e){(function(t){t.level=1})(t),function(t){var e=t.level,n=[];n.push({level:t.level,override:rt.Neutral});var r=0,i=n[0],o=i.level,a=[];function s(t,e){if(t<63)return n.push({level:t,override:e}),t}t.characters.forEach(function(t){var l=t.type;l===Pt?(o+=$t(o)?2:1,e=s(o,rt.Neutral)):l===Rt?(o+=qt(o)?2:1,e=s(o,rt.Neutral)):l===Dt?(o+=$t(o)?2:1,e=s(o,rt.Rtl)):l===Ft&&(o+=qt(o)?2:1,e=s(o,rt.Ltr)),l===Vt?n.length>1&&(i=n.pop()):i=n[n.length-1],o=e=i.level,-1===[Bt,Pt,Rt,Dt,Ft,Vt].indexOf(l)&&(i.override>rt.Neutral&&(t.type=i.override===rt.Rtl?wt:xt),t.embeddingLevel=e,t.index=r++,a.push(t))}),t.characters=a}(t),0!==t.characters.length&&(function(t){(function(t){t.characters.filter(te(Ot)).forEach(function(e){if(e.isNSM=!0,e.index>0){var n=t.characters[e.index-1].type;n===kt&&(e.type=kt),wt===n&&(e.type=wt)}})})(t),function(t){t.characters.filter(te(Ct)).forEach(function(e){for(var n=e.index-1;n>=0;n--){var r=t.characters[n].type;if(r===kt){e.type=At;break}if([wt,xt].indexOf(r)>-1)break}})}(t),function(t){t.characters.filter(te(kt)).forEach(function(t){t.type=wt,t.isAL=!0})}(t),function(t){t.characters.filter(te([Tt,It])).forEach(function(e){var n=e.index;if(n>0&&n<t.characters.length-1){var r=t.characters[n-1].type;r!==t.characters[n+1].type||r!==Ct&&r!==At||(e.type=r)}})}(t),function(t){t.characters.filter(te(Lt)).forEach(function(e){var n=e.index,r=n;if(n>0){for(var i=t.characters[n-1].type;r-- >0&&i===Lt;)i=t.characters[r].type;if(i===Ct)return void(e.type=Ct)}if(n<t.characters.length-1){var o=t.characters[n+1].type;for(r=n;r++<t.characters.length-1&&o===Lt;)o=t.characters[r].type;o===Ct&&(e.type=Ct)}})}(t),function(t){t.characters.filter(te([Lt,It,Tt,At])).forEach(function(t){t.type=_t})}(t),function(t){t.characters.filter(te(Ct)).forEach(function(e){for(var n=e.index-1;n>=0;n--){var r=t.characters[n].type;if(r===wt)return;if(r===xt)return void(e.type=xt)}})}(t)}(t),function(t){(function(t){t.characters.filter(te([Mt,Et,St,_t])).forEach(function(e){var n=e.index;if(t.level<e.embeddingLevel)e.type=qt(e.embeddingLevel)?xt:wt;else if(0!==n&&n!==t.characters.length-1&&n>0&&n<t.characters.length-1){for(var r=t.characters[n-1].type,i=t.characters[n+1].type,o=n;o-- >0&&-1===[wt,kt,Ct,At,xt].indexOf(r);)r=t.characters[o].type;for(o=n;o++<t.characters.length-1&&-1===[wt,kt,Ct,At,xt].indexOf(i);)i=t.characters[o].type;e.type=[wt,kt,Ct,At].indexOf(r)>-1&&[wt,kt,Ct,At].indexOf(i)>-1?wt:r===xt&&i===xt||qt(e.embeddingLevel)?xt:wt}})})(t),function(t){t.characters.filter(te([Mt,Et,St,_t])).forEach(function(t){t.type=qt(t.embeddingLevel)?xt:wt})}(t)}(t),function(t){var e;t.characters.forEach(function(t){var n=t.type;e=t.embeddingLevel,n===xt?$t(e)&&e++:n===wt||n===kt?qt(e)&&e++:n!==Ct&&n!==At||(qt(e)?e+=2:e++),t.level=e})}(t),function(t){t.characters.filter(function(t){return Wt[t.text]&&$t(t.level)}).forEach(function(t){t.text=Wt[t.text]})}(t),function(t){var e=0;t.characters.forEach(function(t){t.level>e&&(e=t.level)}),t.highestLevel=e}(t),function(t){var e=[],n=0,r=0,i={idx:0,length:0,level:t.characters[0].level};t.characters.forEach(function(t){t.level!==n&&0!==r&&(e.push(i),i={idx:r,length:0,level:t.level}),i.length++,r++,n=t.level}),e.push(i),t.levelRuns=e}(t),function(t){var e=t.highestLevel;for(t.reorderedCharacters=a(t.characters);e>0;)Ht(t,e),e--}(t),Kt(t,Nt,!1),function(t){Kt(t,Yt,!0),function(t){for(var e=t.reorderedCharacters.reverse(),n=[],r=0,i=e.length;r<i;r++){var o=e[r],a=Ut[o.text[0]];if(a){var s=Qt(r,a,e);s&&(r+=s.length,o.text=s.text)}n.push(o)}var l=0;t.reorderedCharacters=n.reverse(),t.reorderedCharacters.forEach(function(t){t.index=l++})}(t),function(t){var e,n=function(){t.arabicTextRuns.push(e),e=void 0},r=t.reorderedCharacters;t.arabicTextRuns=[];for(var i=0,o=r.length;i<o;i++){var a=r[i].text.charCodeAt(0),s=jt[a];if(s&&[wt,Zt,xt].indexOf(s.t)>-1){if(e?e.endIndex=i+1:e={startIndex:i,endIndex:i+1},i+1<o){var l=r[i+1].text.charCodeAt(0),u=jt[l];u&&u.t===wt&&n()}else n();s.t===xt&&n()}else s&&s.t===Gt||e&&n()}e&&n()}(t),function(t){t.arabicTextRuns.forEach(function(e){for(var n,r=e.startIndex,i=e.endIndex,o=r;o<i;o++){var a=t.reorderedCharacters[o],s=jt[a.text.charCodeAt(0)];n=null,i-r>1?o===r?n=s.initial:o===i-1?n=s.final:o>r&&o<i-1&&(n=s.median):n=s.isolated,n&&(a.text=String.fromCharCode(n)+a.text.substring(1))}})}(t)}(t),n.result=n.result.concat(t.reorderedCharacters),e<o-1&&n.result.push({text:"\n",level:0,type:Mt,index:0}),n.characters=n.characters.concat(t.characters))}),n.types=r,yt[e]=n,n}function Ht(t,e){var n,r=[];t.levelRuns.forEach(function(t){t.level>=e?n?n.endIndex+=t.length:r.push(n={startIndex:t.idx,endIndex:t.idx+t.length}):n=null}),r.forEach(function(e){!function(t,e){var n=e.startIndex,r=e.endIndex,i=t.reorderedCharacters.slice(n,r).reverse();t.reorderedCharacters=t.reorderedCharacters.slice(0,n).concat(i).concat(t.reorderedCharacters.slice(r))}(t,e)})}function Kt(t,e,n){for(var r=t.reorderedCharacters.reverse(),i=[],o=0,a=r.length;o<a;o++){var s=r[o],l=Jt(o,r,e);o+=l.length,n||(s.text+=l.join("")),i.push(s)}var u=0;t.reorderedCharacters=i.reverse(),t.reorderedCharacters.forEach(function(t){t.index=u++})}function Jt(t,e,n){for(var r=[],i=t+1;i<e.length;i++){if(!n[e[i].text.charCodeAt(0)])return r;r.push(e[i].text)}return r}function Qt(t,e,n){for(var r=0,i=e,o=t+1;o<n.length;o++){var a=i[n[o].text[0]];if(!a)return!1;if(r++,"string"==typeof a)return{text:a,length:r};i=a}return!1}function qt(t){return t%2==0}function $t(t){return t%2!=0}function te(t){var e=S(t);return function(t){return e.indexOf(t.type)>-1}}var ee={},ne={},re="rgb(128, 128, 128)",ie={aqua:"rgb(0, 255, 255)",black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",fuchsia:"rgb(255, 0, 255)",green:"rgb(0, 128, 0)",grey:re,gray:re,lime:"rgb(0, 255, 0)",maroon:"rgb(128, 0, 0)",navy:"rgb(0, 0, 128)",olive:"rgb(128, 128, 0)",orange:"rgb(255,165,0)",purple:"rgb(128, 0, 128)",red:"rgb(255, 0, 0)",silver:"rgb(192, 192, 192)",teal:"rgb(0, 128, 128)",yellow:"rgb(255, 255, 0)",white:"rgb(255, 255, 255)",ci:"rgb(0, 174, 239)",cia:"rgba(0, 174, 239, 0.5)",keyline:"rgb(88, 89, 91)",midgrey:"rgb(145, 146, 149)",lightgrey:"rgb(208, 209, 211)",edit:"rgb(114, 179, 0)",attention:"rgb(220, 0, 0)",information:"rgb(0, 150, 255)",description:"rgb(255, 175, 0)",textback:"rgba(255,255,255,0.6)",transparent:"rgba(255,255,255,0.0)",touch:"rgba(255,0,0,0.6)"};function oe(t,e,n){return"rgb("+t+","+e+","+n+")"}function ae(t,e,n,r){return"rgba("+t+","+e+","+n+","+r+")"}var se,le,ue,ce,de=/^(?:rgb)?\(\s?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\s?,\s?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\s?,\s?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\s?\)$/i,fe=/^(?:rgba)?\(\s?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\s?,\s?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\s?,\s?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),\s?(0|1|0\.\d{0,20}|1\.0)\)$/i,he=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i,pe=/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i;function ge(t){return!!ve(t).length}function ve(t){var e=[];if("string"!=typeof t)return e;var n=ie[t.toLowerCase()]||t,r=n.match(de);if(r||(r=n.match(fe)),r){for(var i=1;i<4;i++)e.push(parseInt(r[i],10));void 0!==r[4]&&e.push(+r[4])}else{if(!(r=n.match(pe))&&(r=n.match(he)))for(i=1;i<4;i++)r[i]+=r[i];if(r)for(i=1;i<4;i++)e.push(parseInt(r[i],16))}return e}function me(t){if("transparent"===t)return 0;var e=t.match(fe);return e?parseFloat(e[4]):1}function ye(t){var e=ve(t),n=Ae(e[0],e[1],e[2]);return n.push(me(t)),n}function be(t){var e=Me(t[0],t[1],t[2]);return ae(e[0],e[1],e[2],t[3])}function xe(t,e){return 1===e?t:Ee(t,e)}function we(t){function e(){return Math.floor(239*Math.random())+1}var n=oe(e(),e(),e());return t&&n in t?we(t):n}function Ce(t,e,n){var r=null;return t&&(t.bg&&t.gh?r=e*n:t.bg?r=e:t.gh&&(r=n)),0===r?1e-6:r}function Ae(t,e,n){var r,i=t/255,o=e/255,a=n/255,s=Math.max(i,o,a),l=Math.min(i,o,a),u=0,c=(s+l)/2;if(s===l)u=0,r=0;else{var d=s-l;switch(r=c>.5?d/(2-s-l):d/(s+l),s){case i:u=(o-a)/d+(o<a?6:0);break;case o:u=(a-i)/d+2;break;case a:u=(i-o)/d+4}u/=6}return[u,r,c]}function _e(t,e,n){var r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Me(t,e,n){var r,i,o;if(0===e)r=n,i=n,o=n;else{var a=n<.5?n*(1+e):n+e-n*e,s=2*n-a;r=_e(s,a,t+1/3),i=_e(s,a,t),o=_e(s,a,t-1/3)}return[Math.round(255*r),Math.round(255*i),Math.round(255*o)]}function Ee(t,e){if(t){if(null===e||1===e)return t;var n=t+e;if(!ee[n]){var r=ve(t),i=me(t);ee[n]=ae(r[0],r[1],r[2],i*e)}return ee[n]}}function ke(t){var e=ve(t),n=me(t);return[e[0],e[1],e[2],Math.floor(255*n)]}function Se(t,e){if(void 0===e&&(e=!1),t){if(e)return ke(t);var n=ne[t];return n||(n=ke(t),ne[t]=n),n}}function Ie(t,e){var n=ve(t),r=n[3],i=Ae(n[0],n[1],n[2]),o=Me(i[0],i[1],Math.min(i[2]*e,1)),a=o[0],s=o[1],l=o[2];return void 0===r?oe(a,s,l):ae(a,s,l,r)}function Te(t,e){void 0===e&&(e=1);var n=ve(t);return{colour:"rgb("+n[0]+","+n[1]+","+n[2]+")",opacity:4===n.length?n[3]*e:e}}!function(t){t[t.None=0]="None",t[t.Line=1]="Line",t[t.Arc=2]="Arc",t[t.Bezier=3]="Bezier"}(se||(se={})),function(t){t.arc="arc",t.bezier="bezier",t.circle="circle",t.image="image",t.line="line",t.rect="rectangle",t.text="text",t.triangle="triangle"}(le||(le={})),function(t){t.smootharea="smootharea"}(ue||(ue={})),function(t){t[t.MoveTo=0]="MoveTo",t[t.LineTo=1]="LineTo"}(ce||(ce={}));var Le=14,Oe=26,Re=Math.PI/2,Pe={},Ve=(new Date).getTime()/36774,Fe={};function De(){Fe={}}var Be="sans-serif",Ze={browserMinimumFontSize:1,minimumFontChecked:!1};function Ge(t){Ze.browserMinimumFontSize=t}function ze(t,e,n,r){var i=!!n,o=ot(r||Be);t===Fe.context&&e===Fe.fontSize&&i===Fe.bold&&o===Fe.family||(Fe.context=t,Fe.fontSize=e,Fe.bold=i,Fe.family=o,t.font="normal "+(i?"bold":"normal")+" "+e+"px "+o,t.textBaseline="bottom")}function je(t,e){var n=0,r=0,i=0,o=0,a=function(t){var e={x:0,y:0},n=t.itemPrimitives;if(n.hiddenByGenerator)return e;if(t.anchorIndex>-1){var r=n.positionIndex[t.anchorIndex];r>-1&&(e.x=n.anchorBuffer.getData()[r],e.y=n.anchorBuffer.getData()[r+1])}return e}(e);switch(e.type){case le.circle:n=e.x-e.r,r=e.x+e.r,i=e.y-e.r,o=e.y+e.r;break;case le.line:case le.rect:case le.image:case le.text:n=Math.min(e.x1,e.x2),r=Math.max(e.x1,e.x2),i=Math.min(e.y1,e.y2),o=Math.max(e.y1,e.y2);break;case le.triangle:n=Math.min(e.x1,e.x2,e.x3),r=Math.max(e.x1,e.x2,e.x3),i=Math.min(e.y1,e.y2,e.y3),o=Math.max(e.y1,e.y2,e.y3);break;case le.arc:var s=e.x+e.r*Math.cos(e.startAngle),l=e.y+e.r*Math.sin(e.startAngle),u=e.x+e.r*Math.cos(e.endAngle),c=e.y+e.r*Math.sin(e.endAngle);n=Math.min(s,u),r=Math.max(s,u),i=Math.min(l,c),o=Math.max(l,c);for(var d=(Math.floor(e.startAngle/Re)+1)*Re;d<e.endAngle;){var f=e.x+e.r*Math.cos(d),h=e.y+e.r*Math.sin(d);n=Math.min(n,f),r=Math.max(r,f),i=Math.min(i,h),o=Math.max(o,h),d+=Re}break;case le.bezier:var p=e.bezier.xs,g=e.bezier.ys;n=p[0],r=p[0],i=g[0],o=g[0];for(var v=1;v<p.length;v++)n=Math.min(n,p[v]),r=Math.max(r,p[v]),i=Math.min(i,g[v]),o=Math.max(o,g[v])}return{x1:n+=a.x,y1:i+=a.y,x2:r+=a.x,y2:o+=a.y}}function Ye(t,e,n){return t.x1<=e&&e<=t.x2&&t.y1<=n&&n<=t.y2}function Ne(t,e,n,r,i,o){var a=o||0;return Math.sqrt((t-r)*(t-r)+(e-i)*(e-i))+a<n}function Ue(t,e,n,r,i){return t.x1<e&&r<t.x2&&t.y1<n&&i<t.y2}function We(t){return"transparent"===t||t===ie.transparent}function Xe(t,e,n,r,i,o,a){var s=e.x(n.x),l=e.y(n.y),u=We(a)?ie.transparent:ie.white;t.rect(s-r,l-r,s+r,l+r,a,i,u,!0,o,-1)}function He(t,e,n,r,i,o,a){var s=We(a)?ie.transparent:ie.white;t.circle(e.x(n.x),e.y(n.y),r+1,a,i,s,!0,o,-1,void 0,!1)}function Ke(t,e,n,r,i,o,a,s){!function(t,e,n,r,i,o,a){var s=Math.floor((n.x2-n.x1)/2),l=Math.floor((n.y2-n.y1)/2),u="-resize",c=Math.floor(4*r);He(t,e,{x:n.x1,y:n.y1},c,1,i+a+"nw"+u,o),Xe(t,e,{x:n.x1+s,y:n.y1},c,1,i+a+"n"+u,o),He(t,e,{x:n.x2,y:n.y1},c,1,i+a+"ne"+u,o),Xe(t,e,{x:n.x2,y:n.y1+l},c,1,i+a+"e"+u,o),He(t,e,{x:n.x2,y:n.y2},c,1,i+a+"se"+u,o),Xe(t,e,{x:n.x2-s,y:n.y2},c,1,i+a+"s"+u,o),He(t,e,{x:n.x1,y:n.y2},c,1,i+a+"sw"+u,o),Xe(t,e,{x:n.x1,y:n.y2-l},c,1,i+a+"w"+u,o)}(t,n,je(0,r),i,o,a,s)}function Je(t,e,n,r,i,o){var a=xe(e,n);o?(t.fillStyle=a,t.fillRect(0,0,r,i)):qe(t.webgl?t.webglCanvas:t.canvas,[{r:0,c:a},{r:1,c:a}],n)}function Qe(t,e,n,r,i,o){if(e)if(o){for(var a=t.createLinearGradient(0,0,0,i),s=0;s<e.length;s++)a.addColorStop(e[s].r,xe(e[s].c,n));t.fillStyle=a,t.fillRect(0,0,r,i)}else qe(t.webgl?t.webglCanvas:t.canvas,e,n)}function qe(t,e,n){for(var r="linear-gradient(",i=0,o=e.length;i<o;i++){var a=e[i];r+=xe(a.c,n),r+=" "+100*a.r+"%",i+1<o&&(r+=",")}t.style.background=r+=")"}function $e(t){var e;return"string"==typeof t&&(e=t.split(",")[0]),e}var tn=null;function en(){if(tn)return tn;var t=document.createElement("span");return t.style.position="absolute",t.style.left="-10000px",t.style.top="-10000px",t.style.visibility="hidden",t.style.lineHeight="normal",t.style.fontSize="200px",t.style.fontVariant="normal",t.style.fontStyle="normal",t.style.letterSpacing="0",t.style.width="auto",t.style.height="auto",t.style.display="block",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="nowrap",tn=t,t}function nn(t,e,n){t.style.fontFamily=n,t.innerText=e}function rn(t,e,n){var r=en();document.body.appendChild(r),nn(r,t,n);var i=r.offsetHeight;return nn(r,"",""),i/200*e||e}var on={},an={};function sn(t,e,n,r,i,o){var a=i||Be,s=e+!!r+a,l=0,u=0,c=on[s],d=(m(n)?n:Le)/Oe;return an[a]||(an[a]=rn("|M",Oe,a)),u=an[a],void 0===c&&(ze(t,Oe,r,i),o&&(u=rn(e,Oe,a)),t.webgl?(ct(e)&&(u=dt(Oe)),l=function(t,e,n,r,i,o){var a,s,l=0,u=vt(gt(e));if(ct(e)){var c=Xt(u,e).result;for(a=0,s=c.length;a<s;a++){var d=c[a];ct(d.text)?ze(t,n,i,o):ze(t,26,i,o),l+=t.measureText(d.text).width}}else for(a=0,s=u.length;a<s;a++)l+=t.measureText(u[a]).width;return l}(t,e,u,0,r,a)):l=t.measureText(e).width,on[s]=c={width:l,height:u}),{width:Math.round(c.width*d),height:Math.round(c.height*d)}}function ln(t){var e=t.id||"canvas";return void 0===Pe[e]&&(Pe[e]=r(t)),Pe[e]}function un(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}function cn(){for(var t=arguments.length,e=[],n=0;n<t;n++)for(var r=arguments[n],i=r.length,o=0;o<i;o++)e.push(r[o]);return e}function dn(t){var e;if(t){var n=t.match(/[\d.]+/g);if(null===(e=n)||void 0===e?void 0:e.length)return Math.round(n.map(Number)[0])}return null}function fn(t,e,n,r){var i=window.devicePixelRatio,o=t.width,a=t.height;if(r){t.style.width="100%",t.style.height="100%",t.style.display="block";var s=window.getComputedStyle(t),l=Math.round(t.clientWidth-o),u=Math.round(t.clientHeight-a),c=dn(s.width),d=dn(s.height);c&&(o=c-l),d&&(a=d-u)}t.style.width=o+"px",t.style.height=a+"px",t.width=Math.round(o*i),t.height=Math.round(a*i),n||e.scale(i,i),De()}function hn(t,e,n){var r=Math.max(n-t,0),i=Math.max(1e-4,e-t);return Math.min(1,r/i)}function pn(t,e,n){return t*(1-n)+e*n}function gn(t){return t>.15?pn(.75,1,hn(.15,.2,t)):t>.08?pn(.4,.75,hn(.08,.15,t)):pn(.2,.4,hn(.01,.08,t))}function vn(t){var e=null;if(t)if("string"==typeof t){if(!(e=document.getElementById(t)))throw new Error("container element not found with id: "+t)}else{if("object"!=typeof t||!t||void 0===t.parentNode)throw new Error("container must be valid DOM element or element id");e=t}return e}function mn(t,e,n){var r={all:!0,colours:!0,textures:!0,positions:!0,shadow:!0},i=Date.now(),o=!1,a=!0;return{update:function(){var s=Date.now(),l=e(s-i);if(i=s,o=o||l){var u=n();if(u){var c=u.canvas;u.webgl&&(c=u.webglCanvas),c&&c.clientWidth>0&&c.clientHeight>0&&(o=!1,a&&t(!0,!1,r))}}else t(!1,!1,r)},redraw:function(t){o=!0;var e=t||{all:!0,colours:!0,textures:!0,positions:!0,shadow:!0};r.all||(r.all=e.all),r.positions||(r.positions=e.positions),r.shadow||(r.shadow=e.shadow),r.textures||(r.textures=e.textures),r.colours||(r.colours=e.colours)},allowDraw:function(t){t&&!a&&(o=!0),a=t}}}function yn(t,e){var n=!0;return{rebuild:e,animate:function(e){var r=t(e,n);return n=!1,r}}}function bn(t){var e=[],n=[];return{push:function(t,r){t&&(t.queue=r,r?n.push(t):e.push(t))},cancel:function(){e=[],n=[],t()},animate:function(r,i){var o=!1,a=!1;if(e.length>0){var s=e;e=[];for(var l=0;l<s.length;l++){var u=s[l].rebuild;s[l].animate(r)&&(a=a||s[l].queue,e.push(s[l])),t(u)}o=!0}return!a&&n.length>0&&(e.push(n.shift()),o=!0),i&&(o=o||i.animated()),o}}}function xn(t,e){var n,r,i,o=null;return function(a,s,l){var u=e();u===a||o&&r===a||(n=u,r=a,i=0,o||(o=yn(function(t){i=Math.min(s,i+t),e(s<=0?r:n+(r-n)*i/s);var a=i<s;return a||(o=null,M(l)),a}),t.push(o,!1)))}}var wn=!1;function Cn(t,e){for(var n=t.replace(/^\s*|\s*$/g,"").split(/[(\s*,\s*)|(\s+)]/),r=0;r<n.length;r++)e(n[r])}function An(){var t={};function e(e,n,r){Cn(e,function(e){t[e]||(t[e]=[]),t[e].push({handler:n,context:r})})}function n(e,n){e?Cn(e,function(e){if(n){if(t[e]){for(var r=[],i=0;i<t[e].length;i++)n!==t[e][i].handler&&r.push(t[e][i]);t[e]=r}}else t[e]=[]}):t={}}function r(e){var n=!1,r=Array.prototype.slice.call(e);return t&&(n=function(e){if(wn)return!1;var n=e[0],r=!1;if(t)for(var i=2,o=void 0;i--;){var s=i?n:"all",l=i?e.slice(1):e;if(t[s]){var u=t[s].slice(0);for(o=0;o<u.length;o++){var c=u[o];try{r=c.handler.apply(c.context||this,l)||r}catch(t){a(n,t)}}}}return r}(r)),n}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t)}var o=[];function a(t,e){var n=(new Date).toString()+" Function bound to '"+t+"' threw error: "+e.toString();i("error",n,e),g(n),o.push(n),o.length>10&&o.shift()}return{bind:function(t,n,r){e(t,n,r)},getErrors:function(){return o},suppress:function(t){wn=t},trigger:i,unbind:function(t,e){n(t,e)}}}var _n=[0,0],Mn=[];function En(t,e){t.lineCap=e.dash>1?"butt":"round",_n[0]=e.dash,_n[1]=e.gap,t.setLineDash(_n)}function kn(t){_n[0]&&(_n[0]=0,t.setLineDash(Mn),t.lineCap="butt",t.lineDashOffset=0)}function Sn(t,e){return"gradient"===e.type?function(t,e){for(var n=t.createLinearGradient(e.direction.start.x,e.direction.start.y,e.direction.end.x,e.direction.end.y),r=0;r<e.stops.length;r++)In(n,e.stops[r]);return n}(t,e):Ee(e.colour,e.opacity)}function In(t,e){var n=Ee(e.colour,e.opacity);t.addColorStop(e.offset,n)}function Tn(t,e){var n=e.dashing,r=e.strokeWidth,i=e.x,o=e.y,a=e.r,s=e.segments,l=0;n&&(En(t,n),l=n.dashOffset||0),t.lineWidth=r,s.forEach(function(e){var r=e.strokeStyle,s=e.startAngle,u=e.endAngle;n&&(t.lineDashOffset=e.offset+l),t.beginPath(),t.strokeStyle=Sn(t,r),t.arc(i,o,a,s,u,!1),t.stroke(),t.closePath()}),e.dashing&&kn(t)}var Ln=2*Math.PI;function On(t,e){var n=e.fill,r=e.stroke,i=e.dashing,o=e.x,a=e.y,s=e.r;t.fillStyle=n?Ee(n.colour,n.opacity):ie.transparent;var l=r&&r.width>0;if(l){var u=r.width,c=r.colour,d=r.opacity;i&&En(t,i),t.lineWidth=u,t.strokeStyle=Ee(c,d)}t.beginPath(),t.arc(o,a,s,0,Ln,!1),t.closePath(),n&&t.fill(),l&&(t.stroke(),i&&kn(t))}function Rn(t,e,n){var r=e.src,i=e.rotation,o=e.origin,a=e.x1,s=e.y1,l=e.x2,u=e.y2,c=e.alpha,d="url"===r.type?n.getHTMLElement(r.url,e.specifier):r.el;if(d){var f=t.globalAlpha;t.globalAlpha=c,i&&(t.save(),t.translate(o.x,o.y),t.rotate(i)),t.imageSmoothingQuality="high",t.drawImage(d,a,s,l-a,u-s),e.rotation&&t.restore(),t.globalAlpha=f}}function Pn(t,e){var n=e.dashing,r=e.strokeWidth,i=e.strokeStyle,o=e.start,a=e.end;n&&(En(t,n),t.lineDashOffset=n.dashOffset||0),t.lineWidth=r,t.beginPath(),t.strokeStyle=Sn(t,i),t.moveTo(o.x,o.y),t.lineTo(a.x,a.y),t.stroke(),t.closePath(),n&&kn(t)}function Vn(t,e){var n,r=function(t,e){var n=e.rotation,r=e.origin,i=e.x1,o=e.y1,a=e.x2,s=e.y2;return n?(t.save(),t.translate(r.x,r.y),t.rotate(n)):r&&(i+=r.x,o+=r.y,a+=r.x,s+=r.y),{x1:i,y1:o,x2:a,y2:s}}(t,e),i=r.x1,o=r.y1,a=r.x2,s=r.y2,l=e.stroke,u=e.dashing,c=e.rotation,d=e.fill;if(d&&(n=Sn(t,d)),e.cornerRadius&&e.cornerRadius>0)!function(t,e,n,r){var i=r.x1,o=r.y1,a=r.x2,s=r.y2,l=e.stroke,u=e.rotation,c=e.cornerRadius;if(t.beginPath(),t.moveTo(i+c,o),t.lineTo(a-c,o),t.arcTo(a,o,a,o+c,c),t.lineTo(a,s-c),t.arcTo(a,s,a-c,s,c),t.lineTo(i+c,s),t.arcTo(i,s,i,s-c,c),t.lineTo(i,o+c),t.arcTo(i,o,i+c,o,c),t.closePath(),n&&(t.fillStyle=n,t.fill()),l&&l.width>=0){var d=l.colour,f=l.opacity;t.lineWidth=Math.max(1,l.width),t.strokeStyle=Ee(d,f),t.stroke()}u&&t.restore()}(t,e,n,{x1:i,y1:o,x2:a,y2:s});else{if(n&&(t.fillStyle=n,t.fillRect(i,o,a-i,s-o)),l&&l.width>=0){var f=l.width,h=l.colour,p=l.opacity;if(t.lineWidth=f,t.strokeStyle=Ee(h,p),u){var g=f/2,v={dash:u.dash,gap:u.horizGap},m={dash:u.dash,gap:u.vertGap};En(t,v),Fn(t,i-g,o,a+g,o),En(t,m),Fn(t,a,o-g,a,s+g),En(t,v),Fn(t,a+g,s,i-g,s),En(t,m),Fn(t,i,s+g,i,o-g),kn(t)}else t.strokeRect(i,o,a-i,s-o)}c&&t.restore()}}function Fn(t,e,n,r,i){t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),t.stroke(),t.closePath()}function Dn(t,e){var n=e.colour,r=e.textAlign,i=e.rotation,o=e.origin;ze(t,e.size,e.isBold,e.fontFamily),t.fillStyle=Ee(n.colour,n.opacity),t.textAlign=r;var a=e.x,s=e.y;i?(t.save(),t.translate(o.x,o.y),t.rotate(i)):o&&(o.x||o.y)&&(a+=o.x,s+=o.y),t.fillText(e.text,a,s),i&&t.restore()}function Bn(t,e){var n=e.rotation,r=e.origin,i=e.fill,o=e.stroke,a=e.x1,s=e.x2,l=e.x3,u=e.y1,c=e.y2,d=e.y3;if(n?(t.save(),t.translate(r.x,r.y),t.rotate(n)):r&&(r.x&&(a+=r.x,s+=r.x,l+=r.x),r.y&&(u+=r.y,c+=r.y,d+=r.y)),(Math.abs(s-a)>1||Math.abs(c-u)>1)&&(t.beginPath(),t.moveTo(a,u),t.lineTo(s,c),t.lineTo(l,d),t.lineTo(a,u),t.closePath(),i&&(t.fillStyle=Ee(i.colour,i.opacity),t.fill()),o&&o.colour&&o.width>=0)){var f=o.colour,h=o.opacity;t.lineWidth=Math.max(1,o.width),t.strokeStyle=Ee(f,h),t.stroke()}n&&t.restore()}function Zn(t,e){var n,r=e.dashing,i=e.strokeWidth,o=e.segments,a=0;r&&(En(t,r),a=r.dashOffset||0,t.lineDashOffset=(null===(n=e.dashing)||void 0===n?void 0:n.dashOffset)||0),t.lineWidth=i,t.beginPath(),o.forEach(function(e,n){var i=e.strokeStyle,o=e.offset,s=e.xs,l=e.ys;i&&(n>0&&(t.stroke(),t.closePath(),r&&(t.lineDashOffset=o+a),t.beginPath()),t.strokeStyle=Sn(t,i),t.moveTo(s[0],l[0])),t.bezierCurveTo(s[1],l[1],s[2],l[2],s[3],l[3])}),t.stroke(),t.closePath(),e.dashing&&kn(t)}function Gn(t){var e=0,n=0,r=[],i={bg:!1,gh:!1,anchorBuffer:t,dirty:0,positionIndex:[-1,-1,-1],hiddenByGenerator:!1,isHitTested:!0,goToBeginning:function(){n=0},reset:function(){e=0,n=0,i.hiddenByGenerator=!1},getNext:function(){return r[n++]},getPrevious:function(){return n>0?r[n-1]:null},add:function(t){r[e++]=t,i.dirty=e,n++},forEach:function(t){for(var n=0;n<e;n++)t(r[n])},setAnchorPosition:function(n,r,o,a){var s=i.positionIndex[a];-1===s&&(s=t.getUsedSize(),i.positionIndex[a]=s,t.add());var l=t.getData();l[s]=n,l[s+1]=r,l[s+2]=o,i.dirty=e},getAnchorPosition:function(t){var e=i.positionIndex[t],n=i.anchorBuffer.getData();return{x:n[e],y:n[e+1]}},getAnchorAngle:function(t){var e=i.positionIndex[t];return i.anchorBuffer.getData()[e+2]}};return i}function zn(t,e,n,r,i){t[0]=e,t[1]=n,t[2]=0;var o=r.anchorBuffer.getData();if(i>-1){var a=r.positionIndex[i];if(a>-1){var s=o[a+2];if(s){var l=Math.sin(-s),u=Math.cos(-s);t[0]=e*u+n*l,t[1]=n*u-e*l}t[0]+=o[a],t[1]+=o[a+1],t[2]=s}}}function jn(t,e,n,r,i,o,a){t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=0;var s=o.anchorBuffer.getData();if(a>-1){var l=o.positionIndex[a];if(l>-1){var u=s[l],c=s[l+1],d=s[l+2];t[0]+=u,t[1]+=c,t[2]+=u,t[3]+=c,t[4]=d}}}function Yn(t){return"solid"!==t&&"flow"!==t}function Nn(t,e,n,r){var i,o;void 0===r&&(r=!1),"dotted"===n?(i=.5,o=2*e):o=(i=Math.max(2,2*e))/2;var a=Math.round(r?t/(i+o):(t+o)/(i+o));return a>1&&(o=r?(t-a*i)/a:(t-a*i)/(a-1)),{dash:i,gap:o}}function Un(t,e,n,r){var i=15*t*e;return(i=lt(t)*Math.min(16*n,Math.abs(i)))*(r/1e3)%n}function Wn(t,e,n,r,i,o,a){if("flow"===t||Yn(t))return"flow"===t?function(t,e,n,r,i){var o=Math.max(30*r,3*e)/3,a=2*o;return{dash:a,gap:o,dashOffset:-(t/2-o+Un(n,r,a+o,i))}}(o,a,e*n,r,i):Nn(o,a,t)}function Xn(t,e,n){return t>=0&&void 0!==n&&Yn(e)}function Hn(t,e,n,r){return t+n<0||t-n>r.scale(r.width())||e+n<0||e-n>r.scale(r.height())}function Kn(t,e,n,r,i){return t>i.scale(i.width())||n<0||e>i.scale(i.height())||r<0}var Jn=new Float32Array(3);function Qn(t,e,n,r,i,o,a,s){return{type:"gradient",direction:{start:qn(t,e,n,r),end:qn(t,e,n,i)},stops:o.map(function(t,e){return un(un({},Te(t,a)),{offset:s[e]})})}}function qn(t,e,n,r){return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}}function $n(t,e,n){return n?e>=0?Math.max(1,e):-1:e>0?t-e<4?Math.max(.2,e*((t-e)/4)):Math.max(1,e):-1}function tr(t,e,n,r,i){var o,a,s=!(!t.isFilled||!t.fillColour),l=!!(e>0&&t.borderColour);if(!s&&!l)return null;if(n){if(!t.shadowColour)return null;s&&(o=Te(t.shadowColour)),l&&(a=un(un({},Te(t.shadowColour)),{width:e}))}else{var u=Ce(t.itemPrimitives,r,i),c=null===u?1:u;s&&(o=Te(t.fillColour,c)),l&&(a=un(un({},Te(t.borderColour,c)),{width:e}))}return{fill:o,stroke:a}}var er=2*Math.PI,nr=new Float32Array(3),rr=new Float32Array(5);function ir(t,e,n,r){zn(rr,0,0,t.itemPrimitives,t.anchorIndex);var i,o,a,s,l,u,c=t.anchorIndex>-1&&rr[2]||void 0,d=r._rendering&&r._rendering.canvasSkipItemsOutOfView;if(c){if(i=e.worldToViewDistance(t.x1+n),o=e.worldToViewDistance(t.y1+n),a=e.worldToViewDistance(t.x2-n),s=e.worldToViewDistance(t.y2-n),l=e.x(rr[0]),u=e.y(rr[1]),d&&Kn(i+l,o+u,a+l,s+u,e))return}else if(jn(rr,t.x1,t.y1,t.x2,t.y2,t.itemPrimitives,t.anchorIndex),i=e.x(rr[0]+n),o=e.y(rr[1]+n),a=e.x(rr[2]-n),s=e.y(rr[3]-n),d&&Kn(i,o,a,s,e))return;return{x1:i,y1:o,x2:a,y2:s,origin:l&&u?{x:l,y:u}:void 0,rotation:c}}var or,ar=new Float32Array(5),sr=new Float32Array(3),lr=new Float32Array(3),ur=50,cr=[[-.058808,.057624,.001176,8e-6],[-.056456,.052968,.003432,56e-6],[-.054152,.048456,.005544,152e-6],[-.051896,.044088,.007512,296e-6],[-.049688,.039864,.009336,488e-6],[-.047528,.035784,.011016,728e-6],[-.045416,.031848,.012552,.001016],[-.043352,.028056,.013944,.001352],[-.041336,.024408,.015192,.001736],[-.039368,.020904,.016296,.002168],[-.037448,.017544,.017256,.002648],[-.035576,.014328,.018072,.003176],[-.033752,.011256,.018744,.003752],[-.031976,.008328,.019272,.004376],[-.030248,.005544,.019656,.005048],[-.028568,.002904,.019896,.005768],[-.026936,408e-6,.019992,.006536],[-.025352,-.001944,.019944,.007352],[-.023816,-.004152,.019752,.008216],[-.022328,-.006216,.019416,.009128],[-.020888,-.008136,.018936,.010088],[-.019496,-.009912,.018312,.011096],[-.018152,-.011544,.017544,.012152],[-.016856,-.013032,.016632,.013256],[-.015608,-.014376,.015576,.014408],[-.014408,-.015576,.014376,.015608],[-.013256,-.016632,.013032,.016856],[-.012152,-.017544,.011544,.018152],[-.011096,-.018312,.009912,.019496],[-.010088,-.018936,.008136,.020888],[-.009128,-.019416,.006216,.022328],[-.008216,-.019752,.004152,.023816],[-.007352,-.019944,.001944,.025352],[-.006536,-.019992,-408e-6,.026936],[-.005768,-.019896,-.002904,.028568],[-.005048,-.019656,-.005544,.030248],[-.004376,-.019272,-.008328,.031976],[-.003752,-.018744,-.011256,.033752],[-.003176,-.018072,-.014328,.035576],[-.002648,-.017256,-.017544,.037448],[-.002168,-.016296,-.020904,.039368],[-.001736,-.015192,-.024408,.041336],[-.001352,-.013944,-.028056,.043352],[-.001016,-.012552,-.031848,.045416],[-728e-6,-.011016,-.035784,.047528],[-488e-6,-.009336,-.039864,.049688],[-296e-6,-.007512,-.044088,.051896],[-152e-6,-.005544,-.048456,.054152],[-56e-6,-.003432,-.052968,.056456],[-8e-6,-.001176,-.057624,.058808]],dr=[[-.115264,.110592,.004608,64e-6],[-.106048,.092544,.013056,448e-6],[-.097216,.075648,.020352,.001216],[-.088768,.059904,.026496,.002368],[-.080704,.045312,.031488,.003904],[-.073024,.031872,.035328,.005824],[-.065728,.019584,.038016,.008128],[-.058816,.008448,.039552,.010816],[-.052288,-.001536,.039936,.013888],[-.046144,-.010368,.039168,.017344],[-.040384,-.018048,.037248,.021184],[-.035008,-.024576,.034176,.025408],[-.030016,-.029952,.029952,.030016],[-.025408,-.034176,.024576,.035008],[-.021184,-.037248,.018048,.040384],[-.017344,-.039168,.010368,.046144],[-.013888,-.039936,.001536,.052288],[-.010816,-.039552,-.008448,.058816],[-.008128,-.038016,-.019584,.065728],[-.005824,-.035328,-.031872,.073024],[-.003904,-.031488,-.045312,.080704],[-.002368,-.026496,-.059904,.088768],[-.001216,-.020352,-.075648,.097216],[-448e-6,-.013056,-.092544,.106048],[-64e-6,-.004608,-.110592,.115264]],fr={num:ur,segmentDelta:function(t,e){var n=cr[t];return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}},hr={num:25,segmentDelta:function(t,e){if(t>=25&&7===e.length){var n=dr[t-25];return n[0]*e[3]+n[1]*e[4]+n[2]*e[5]+n[3]*e[6]}var r=dr[t];return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]+r[3]*e[3]}};function pr(t,e,n){return n>1?t(e,3,n-1):t(e,0,n)}function gr(t,e,n){return.5===n?e:n<.5?2*e*n:e+2*(t-e)*(n-.5)}function vr(t,e){var n=mr(t[0],t[1],e),r=mr(t[1],t[2],e),i=mr(t[2],t[3],e),o=mr(n,r,e),a=mr(r,i,e),s=yr(t,0,e);return[t[0],n,o,s,a,i,t[3]]}function mr(t,e,n){return t+n*(e-t)}function yr(t,e,n){var r=1-n,i=r*r,o=n*n;return i*r*t[e]+3*i*n*t[e+1]+3*r*o*t[e+2]+o*n*t[e+3]}function br(t,e,n){var r=1-n,i=n*n;return-3*r*r*t[e]+3*r*(1-3*n)*t[e+1]+3*(2*n-3*i)*t[e+2]+3*i*t[e+3]}function xr(t,e){return J(t.x,t.y,e.x,e.y)}function wr(t,e,n,r){return(n-t)*(n-t)+(r-e)*(r-e)}function Cr(t,e,n,r,i){var o=Math.atan2(e-i,t-r),a=J(r,i,t,e)*Math.cos(o-n);return{x:r+a*Math.cos(n),y:i+a*Math.sin(n)}}function Ar(t,e,n,r,i,o,a,s,l,u,c,d,f,h){var p,g={x:t,y:e},v=Cr(n,r,i,t,e),m=Cr(o,a,i,t,e),y=0;if(l===o&&u===a)p=m;else{var b=Cr(l,u,i,t,e),x=xr(m,p={x:m.x+(b.x-m.x)/c,y:m.y+(b.y-m.y)/c}),w=s?v:g,C=xr(m,w);C<x&&(w.x=p.x,w.y=p.y,y=(x-C)/x)}var A=xr(g,v),_=xr(g,m)/A,M=xr(g,p)/A;return{gradient:{type:"gradient",direction:{start:g,end:v},stops:[un(un({},Te(s?d:f,h)),{offset:Math.min(1,_)}),un(un({},Te(s?f:d,h)),{offset:Math.min(1,M)})]},undrawnFrac:y}}var _r,Mr=((or={})[le.arc]=function(t,e,n,r,i,o,a,s,l){zn(Jn,t.x,t.y,t.itemPrimitives,t.anchorIndex);var u=e.x(Jn[0]),c=e.y(Jn[1]),d=e.worldToViewDistance(t.r),f=a.zoom&&a.zoom.adaptiveStyling,h=n?e.sw(t.width):e.w(t.width);if(h=Math.max(f?gn(e.getZoomScale()):1,h),!a._rendering||!a._rendering.canvasSkipItemsOutOfView||!Hn(u,c,d+h,e)){var p,g,v=1;if(n){var m=t.colour&&t.shadowColour;if(!m)return;p=un({type:"solid"},Te(m))}else{var y=Ce(t.itemPrimitives,r,i);p=un({type:"solid"},Te(t.colour,v=null===y?1:y)),g=Wn(t.lineStyle,t.flowVelocity,lt(t.offset),s,l,d*(t.endAngle-t.startAngle),h)}var b=!n&&t.colour2?function(t,e,n,r,i,o,a,s,l,u){var c=l?[a,o]:[o,a];if(0===u)return[{startAngle:r,endAngle:i,strokeStyle:g=Qn(t,e,n,r,i,c,s,[.5,.5]),offset:0}];var d=[],f=i-r,h=0,p=0;if(u<1){h=f*(1-u)/2;var g=un({type:"solid"},Te(c[0],s));d.push({startAngle:r,endAngle:r+h,strokeStyle:g,offset:p}),p+=n*h}for(var v=f-2*h,m=Math.ceil(v/(Math.PI/2)),y=v/m,b=n*y,x=function(t,e){var n=[t[0]],r=ve(t[0]);3===r.length&&r.push(1);var i=ve(t[1]);3===i.length&&i.push(1);for(var o=(i[0]-r[0])/e,a=(i[1]-r[1])/e,s=(i[2]-r[2])/e,l=(i[3]-r[3])/e,u=1;u<=e;u++)n.push(ae(Math.floor(r[0]+u*o),Math.floor(r[1]+u*a),Math.floor(r[2]+u*s),r[3]+u*l));return n}(c,m),w=1/n,C=0;C<m;C++){var A=r+h+C*y-.25*w,_=r+h+(C+1)*y;C===m-1&&(_+=.25*w),g=Qn(t,e,n,A,_,[x[C],x[C+1]],s,[0,1]),d.push({startAngle:A,endAngle:_,strokeStyle:g,offset:p}),p+=b}return h>0&&(g=un({type:"solid"},Te(c[1],s)),d.push({startAngle:i-h,endAngle:i,strokeStyle:g,offset:p})),d}(u,c,d,t.startAngle,t.endAngle,t.colour,t.colour2,v,t.offset<0,a.linkStyle.transition):[{strokeStyle:p,startAngle:t.startAngle,endAngle:t.endAngle,offset:0}];o({type:t.type,x:u,y:c,r:d,strokeWidth:h,dashing:g,segments:b})}},or[le.circle]=function(t,e,n,r,i,o,a){zn(nr,t.x,t.y,t.itemPrimitives,t.anchorIndex);var s=a._rendering&&a._rendering.canvasSkipItemsOutOfView,l=e.x(nr[0]),u=e.y(nr[1]),c=e.worldToViewDistance(t.r);if(!s||!Hn(l,u,c,e)){var d=n?e.sw(t.borderWidth):e.w(t.borderWidth);d=t.noMinBorderWidth?Math.max(1,d):$n(c,d,n);var f=!n&&Xn(d,t.borderStyle,t.borderColour)?Nn(er*c,d,t.borderStyle,!0):void 0,h=tr(t,d,n,r,i);h&&o(un(un({type:t.type,x:l,y:u,r:c},h),{dashing:f}))}},or[le.image]=function(t,e,n,r,i,o,a){var s=ir(t,e,0,a);if(s)if(t.imageInflate&&(s.x1-=t.imageInflate,s.y1-=t.imageInflate,s.x2+=t.imageInflate,s.y2+=t.imageInflate),n){if(!t.shadowColour)return;var l=Te(t.shadowColour);o(un(un({type:le.rect},s),{stroke:void 0,fill:un({type:"solid"},l)}))}else{var u=Ce(t.itemPrimitives,r,i);o(un(un({type:t.type},s),{src:{type:"url",url:t.url},specifier:t.specifier,alpha:null===u?1:u}))}},or[le.line]=function(t,e,n,r,i,o,a,s,l,u){jn(ar,t.x1,t.y1,t.x2,t.y2,t.itemPrimitives,t.anchorIndex);var c=e.x(ar[0]),d=e.y(ar[1]),f=e.x(ar[2]),h=e.y(ar[3]),p=n?e.sw(t.width):e.w(t.width);if(!u){var g=a.zoom&&a.zoom.adaptiveStyling?gn(e.getZoomScale()):1;p=Math.max(g,p)}if(!a._rendering||!a._rendering.canvasSkipItemsOutOfView||!function(t,e,n,r,i,o){var a=i/2;return t+a<0&&n+a<0||e+a<0&&r+a<0||t-a>o.scale(o.width())&&n-a>o.scale(o.width())||e-a>o.scale(o.height())&&r-a>o.scale(o.height())}(c,d,f,h,p,e)){var v,m,y={x:c,y:d},b={x:f,y:h};if(n){if(!t.shadowColour)return;v=un({type:"solid"},Te(t.colour&&t.shadowColour))}else{var x=Ce(t.itemPrimitives,r,i),w=null===x?1:x;if(t.colour2){var C=a.linkStyle.transition;v={type:"gradient",direction:{start:y,end:b},stops:[un(un({},Te(t.colour,w)),{offset:(1-C)/2}),un(un({},Te(t.colour2,w)),{offset:(1+C)/2})]}}else v=un({type:"solid"},Te(t.colour,w));var A=J(c,d,f,h);m=Wn(t.lineStyle,t.flowVelocity,1,s,l,A,p)}o({type:t.type,start:y,end:b,strokeWidth:p,strokeStyle:v,offset:0,dashing:m})}},or[le.rect]=function(t,e,n,r,i,o,a){var s,l,u=0;t.rectMargins&&(u=Math.max(0,t.borderWidth/2)+t.rectMargins.reduce(function(t,e){return t+e},0));var c=ir(t,e,u,a);if(c){var d=c.x2-c.x1,f=c.y2-c.y1,h=n?e.sw(t.borderWidth):e.w(t.borderWidth);h>=0&&(h=$n(Math.min(d,f)/2,h,n));var p=tr(t,h,n,r,i);if(p||t.gradientStops&&0!==t.gradientStops.length){var g,v;if(t.gradientStops){var m=c.x1;g={type:"gradient",direction:{start:{x:m,y:c.y1},end:{x:m,y:c.y2}},stops:t.gradientStops}}else(null===(s=p)||void 0===s?void 0:s.fill)&&(g=un({type:"solid"},p.fill));if(!n&&Xn(h,t.borderStyle,t.borderColour)){var y=Nn(d+h,h,t.borderStyle,!1),b=Nn(f+h,h,t.borderStyle,!1);v={dash:y.dash,horizGap:y.gap,vertGap:b.gap}}o(un(un({type:t.type},c),{stroke:null===(l=p)||void 0===l?void 0:l.stroke,fill:g,dashing:v,cornerRadius:t.cornerRadius?e.worldToViewDistance(t.cornerRadius):void 0}))}}},or[le.text]=function(t,e,n,r,i,o,a,s,l,u){zn(sr,0,0,t.itemPrimitives,t.anchorIndex);var c=e.x(sr[0]),d=e.y(sr[1]),f=e.worldToViewDistance(t.x1),h=e.worldToViewDistance(t.y1),p=e.worldToViewDistance(t.x2),g=e.worldToViewDistance(t.y2),v=a.linkStyle&&a.linkStyle.inline,m=v&&sr[2]||void 0,y=Math.max(Math.abs(f),Math.abs(h),Math.abs(p),Math.abs(g));if(!a._rendering||!a._rendering.canvasSkipItemsOutOfView||!Kn(c-y,d-y,c+y,d+y,e)){var b={origin:{x:c,y:d},rotation:m},x=function(t,e,n,r,i){return un(un({type:le.rect,x1:t,y1:e,x2:n,y2:r},b),{stroke:void 0,fill:un({type:"solid"},i)})};if(n){if(!t.shadowColour)return;t.back&&o(x(f,h,p,g+e.worldToViewDistance(t.fontSize)*t.paddingFactor,Te(t.shadowColour)))}else{var w=e.worldToViewDistance(t.x),C=e.worldToViewDistance(t.y);v||(C+=e.worldToViewDistance(t.yOffset));var A=e.worldToViewDistance(t.fontSize),_=A*t.paddingFactor,M=Ce(t.itemPrimitives,r,i),E=null===M?1:M,k=Te(t.fontColour,E),S=1;if(!u)if(a.zoom&&a.zoom.adaptiveStyling){if(!t.isFontIcon&&A<=5){if(0==(S=Math.max(0,A-3)/2))return;k.opacity*=S}}else if(t.textWidth&&(A<=3||A<Ze.browserMinimumFontSize)){var I=e.worldToViewDistance(t.textWidth);return t.isCentred&&(w-=Math.floor(I/2)),t.back&&t.backColour!==ie.textback&&o(x(w,C-A,w+I,C+_,Te(t.backColour,E))),void o(x(w,C-A,w+I,C+_,t.isSel?Te(t.backColour,E):Te(t.fontColour,.4*E)))}t.back&&o(x(f,h,p,g+_,Te(t.backColour,E*S))),o(un(un({type:t.type},b),{x:w,y:C+_/2,text:t.text,colour:k,size:A,isBold:t.isBold,isFontIcon:t.isFontIcon,fontFamily:t.fontFamily,textAlign:t.isCentred?"center":"left"}))}}},or[le.triangle]=function(t,e,n,r,i,o,a){zn(lr,0,0,t.itemPrimitives,t.anchorIndex);var s=e.worldToViewDistance(t.x1),l=e.worldToViewDistance(t.y1),u=e.worldToViewDistance(t.x2),c=e.worldToViewDistance(t.y2),d=e.worldToViewDistance(t.x3),f=e.worldToViewDistance(t.y3),h=e.x(lr[0]),p=e.y(lr[1]),g=t.anchorIndex>-1&&lr[2]||void 0,v=Math.min(s,Math.min(u,d)),m=Math.min(l,Math.min(c,f)),y=Math.max(s,Math.max(u,d)),b=Math.max(l,Math.max(c,f));if(!a._rendering||!a._rendering.canvasSkipItemsOutOfView||!Kn(v+h,m+p,y+h,b+p,e)){var x=tr(t,n?e.sw(t.borderWidth):e.w(t.borderWidth),n,r,i);x&&o(un(un({type:t.type,x1:s,y1:l,x2:u,y2:c,x3:d,y3:f},x),{origin:{x:h,y:p},rotation:g}))}},or[le.bezier]=function(t,e,n,r,i,o,a,s,l){var u,c,d=t.bezier.xs.map(e.x),f=t.bezier.ys.map(e.y),h=a.zoom&&a.zoom.adaptiveStyling,p=n?e.sw(t.width):e.w(t.width);if(p=Math.max(h?gn(e.getZoomScale()):1,p),a._rendering&&a._rendering.canvasSkipItemsOutOfView){for(var g=1/0,v=-1/0,m=1/0,y=-1/0,b=0;b<d.length;b++)g=Math.min(g,d[b]),v=Math.max(v,d[b]),m=Math.min(m,f[b]),y=Math.max(y,f[b]);if(Kn(g,m,v,y,e))return}if(n){var x=t.colour&&t.shadowColour;if(!x)return;u=[un({type:"solid"},Te(x))]}else{var w=Ce(t.itemPrimitives,r,i),C=null===w?1:w;u=t.colour2&&t.colour2!==t.colour?function(t,e,n,r,i,o,a){var s=(1-a)/2,l=(1+a)/2,u=[],c=4===t.length?1:2,d=n<1?0:3,f=pr(br,t,n),h=pr(br,e,n),p=Math.atan2(h,f),g=gr(c,n,s),v=pr(yr,t,g),m=pr(yr,e,g),y=gr(c,n,l),b=pr(yr,t,y),x=pr(yr,e,y),w=pr(yr,t,n),C=pr(yr,e,n);if(4===t.length||y<=1||g>=1)g>=1&&u.push(un({type:"solid"},Te(r,o))),u.push(Ar(t[d],e[d],t[d+3],e[d+3],p,v,m,!0,b,x,1,r,i,o).gradient),y<=1&&7===t.length&&u.push(un({type:"solid"},Te(i,o)));else if(n<1){var A=Ar(t[d],e[d],t[d+3],e[d+3],p,v,m,!0,w,C,.5,r,i,o);if(u.push(A.gradient),A.undrawnFrac){var _=Math.atan2(e[6]-e[3],t[6]-t[3]);u.push(Ar(t[3],e[3],t[6],e[6],_,b,x,!1,t[3],e[3],A.undrawnFrac,r,i,o).gradient)}else u.push(un({type:"solid"},Te(i,o)))}else(A=Ar(t[d],e[d],t[d+3],e[d+3],p,b,x,!1,w,C,.5,r,i,o)).undrawnFrac?(_=Math.atan2(e[3]-e[0],t[3]-t[0]),u.push(Ar(t[0],e[0],t[3],e[3],_,v,m,!0,t[3],e[3],A.undrawnFrac,r,i,o).gradient)):u.push(un({type:"solid"},Te(r,o))),u.push(A.gradient);return u}(d,f,t.bezier.midpoint,t.colour,t.colour2,C,a.linkStyle.transition):[un({type:"solid"},Te(t.colour,C))],c=Wn(t.lineStyle,t.flowVelocity,1,s,l,100,p)}var A,_={strokeStyle:u[0],offset:0,xs:d.slice(0,4),ys:f.slice(0,4)};if(d.length<7&&f.length<7)A=[_];else{var M=q(d[4]-d[3],f[4]-f[3]),E=d.slice(3,7),k=f.slice(3,7);E[0]=d[3]-M[0]/2,k[0]=f[3]-M[1]/2;var S=c?function(t,e,n){for(var r=0,i=0;i<n.num;i++){var o=n.segmentDelta(i,t),a=n.segmentDelta(i,e);r+=Math.sqrt(o*o+a*a)}return r}(d,f,fr):-1;A=1===u.length?[_,{xs:E,ys:k,offset:S,strokeStyle:void 0}]:[_,{xs:E,ys:k,offset:S,strokeStyle:u[1]}]}o({type:t.type,strokeWidth:p,dashing:c,segments:A})},or[ue.smootharea]=function(t,e,n,r,i,o){var a,s;if(n){if(!t.shadowColour)return;a=un(un({},Te(t.lineColour&&t.shadowColour)),{width:Math.max(1,e.sw(t.lineWidth))}),s=t.fillColour?Te(t.fillColour&&t.shadowColour):void 0}else{var l=Ce(t.itemPrimitives,r,i);a=un(un({},Te(t.lineColour,null===l?1:l)),{width:Math.max(1,e.w(t.lineWidth))}),s=t.fillColour?Te(t.fillColour):void 0}o(un(un({type:t.type},t.custom),{stroke:a,fill:s}))},or);function Er(t,e,n,r,i,o,a,s,l,u,c,d){void 0===c&&(c=1);var f,h=e,p=!1,g="boolean"==typeof l,v=e?e.settings().zoom:1,m=performance.now(),y=!1,b=function(t){var e=function(e){return e*t};return{getZoomScale:function(){return t},height:function(){return 1/0},scale:e,sw:e,viewToWorldDistance:function(e){return e/t},w:e,width:function(){return 1/0},worldToViewDistance:function(e){return e*t},x:e,y:e}}(c),x=u.drawPrimitive;function w(){y&&(y=!1,u.commitBackground())}t.forEach(function(t){if(!p){f.bg&&(y=!0);var e=!0;g&&!r&&(e=l?h!==b:h===b),e&&function(t,e,n,r,i,o,a,s,l,u,c){var d,f;if(!t.itemPrimitives.hiddenByGenerator){var h=void 0;if(r){var p=r.shadowType;h=n?t.shadowColour&&(!p||p>-1)&&(null===(d=t.itemPrimitives)||void 0===d?void 0:d.isHitTested):!p||p<1}else h=!n||t.shadowColour&&(null===(f=t.itemPrimitives)||void 0===f?void 0:f.isHitTested);if(h){var g=Mr[t.type];if(g){var v=t.itemPrimitives;g(t,e,n,v.bg?i:1,v.gh?o:1,a,s,l,u,c)}}}}(t,h,r,f,o,a,x,n,v,m,d)}},function(t,n){(f=t).layerHasContent=!1,u.overview&&t.blatOverview&&!s&&u.overview(),p=t.hideFromExport&&s||i&&!t.overview,n.bg&&(t.bg?u.drawToBackground():(u.drawToForeground(),w())),h=t.useView&&e?e:b},!1,!1),w()}var kr=((_r={})[le.arc]=Tn,_r[le.circle]=On,_r[le.image]=Rn,_r[le.line]=Pn,_r[le.rect]=Vn,_r[le.text]=Dn,_r[le.triangle]=Bn,_r[le.bezier]=Zn,_r);function Sr(t){t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.restore()}function Ir(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n.getContext("2d")}function Tr(t,e,n,r,i,o,a,s,l,u,c,d,f,h){var p=f?f.createImageLookup():void 0,g=e,v={overview:s?function(){s(e,r)}:void 0,commitBackground:function(){var t;e!==n&&(null===(t=n)||void 0===t?void 0:t.canvas)&&(function(t,e,n){t.globalAlpha=n,t.drawImage(e,0,0,e.width,e.height),t.globalAlpha=1}(e,n.canvas,u),Sr(n))},drawToForeground:function(){g=e},drawToBackground:function(){n&&(g=n)},drawPrimitive:function(t){var e=t.type;h&&h[t.type]?h[e](g,t):kr[e]&&(0,kr[e])(g,t,p)}};n&&Sr(n),Er(t,r,i,o,a,u,c,l,d,v)}function Lr(t,e,n,r){var i,o,a=we(),s=!0,l=null,u={webgl:[0,0,0,0],rgb:void 0},c=(i={},o={},{getColour:function(t){if(!t)return u;var e=i[t];if(!e){var n=we(o);e={rgb:n,webgl:Se(n,!0)},i[t]=e,o[n]=t}return e},getId:function(t){return o[t]||null}});return{dirty:function(){s=!0},debugCanvas:function(t){l=t},getShadowColourMap:function(){return c},test:function i(o,u,d,f){var h;e.webgl?h=r.drawShadowCanvas(Math.floor(o),Math.floor(u)):(s&&(l&&d.drawShadowCanvas(e,n),d.drawShadowCanvas(t,n),s=!1),h=t.getImageData(Math.floor(o),Math.floor(u),1,1).data);var p=oe(h[0],h[1],h[2]);if(p===a)return null;var g=c.getId(p);if(g)return g;if(r)return null;var v=f||1;return v>5?null:o+v>5&&u+v>5?i(o-1,u-1,d,++v):i(o+1,u+1,d,++v)}}}function Or(t){var e=new Map;return{append:function(n,r){var i=function(t,e,n){var r=new Map,i=K({},t,{isStart:!0,isGroup:!0}),o=K({},t,{isStart:!1,isGroup:!0});return i.endMarker=o,o.startMarker=i,{insert:function(t){n.insertBefore(o,t)},getStartMarker:function(){return i},getEndMarker:function(){return o},getValue:function(){return t},getParent:function(){return e},getChildren:function(){return r}}}(n,r,t);return r?(r.getChildren().set(n.id,i),t.insertBefore(r.getEndMarker(),i.getStartMarker()),t.insertAfter(i.getStartMarker(),i.getEndMarker())):(e.set(n.id,i),t.append(i.getStartMarker()),t.append(i.getEndMarker())),i},hasPath:function(t){var n;return t.every(function(t){return!!(n=n?n.getChildren().get(t):e.get(t))})},get:function(t){var n,r;if(!t.every(function(t){return(n=n?n.getChildren().get(t):e.get(t))&&(r=t),!!n}))throw new Error("Path not found: "+t+". Last entry: "+r);return n}}}function Rr(t,e){return function(n,r,i,o,a,s,l,u,c,d,f,h,p){var g=e(c,le.arc);g.x=n,g.y=r,g.r=i,g.startAngle=o,g.endAngle=a,g.width=u,g.lineStyle=p?"flow":d||"solid",g.colour=s,g.webglColour=Se(s),g.colour2=l,g.webglColour2=Se(l),g.isDonut=f,g.anchorIndex=f?0:-1,g.offset=h,g.flowVelocity=p&&p.velocity||0,t(g)}}function Pr(t,e){return function(n,r,i,o,a,s,l){var u,c=e(a,le.bezier);c.bezier=n,c.width=o,c.anchorIndex=-1,c.colour=r,c.webglColour=Se(r),c.colour2=i,c.webglColour2=Se(i),c.lineStyle=l?"flow":s||"solid",c.flowVelocity=(null===(u=l)||void 0===u?void 0:u.velocity)||0,t(c)}}function Vr(t,e){return function(n,r,i,o,a,s,l,u,c,d,f){void 0===d&&(d="solid");var h=e(u,le.circle);h.x=n,h.y=r,h.anchorIndex=c,h.r=i,h.borderWidth=a,h.isFilled=l,h.borderStyle=d,h.noMinBorderWidth=f,h.borderColour=o,h.webglBorderColour=Se(o),h.fillColour=s,h.webglFillColour=Se(s),t(h)}}function Fr(t,e){return function(n,r,i,o,a,s,l,u,c,d){var f=e(s,le.image);f.x1=n,f.y1=r,f.x2=i,f.y2=o,f.anchorIndex=l,f.url=a,f.specifier=u,f.imageInflate=c,f.useHighRes=d,t(f)}}function Dr(t,e){return function(n,r,i,o,a,s,l,u,c,d){var f,h=e(u,le.line);h.x1=n,h.y1=r,h.x2=i,h.y2=o,h.anchorIndex=-1,h.colour=a,h.webglColour=Se(a),h.colour2=s,h.webglColour2=Se(s),h.width=l,h.lineStyle=d?"flow":c||"solid",h.flowVelocity=(null===(f=d)||void 0===f?void 0:f.velocity)||0,t(h)}}function Br(t,e){return function(n,r,i,o,a,s,l,u,c,d,f,h,p,g){void 0===h&&(h="solid"),void 0===g&&(g=!1);var v=e(c,le.rect);v.x1=n,v.y1=r,v.x2=i,v.y2=o,v.cornerRadius=f,v.borderWidth=s,v.isFilled=u,v.borderStyle=h,v.rectMargins=p,v.anchorIndex=d,v.isSelectionBorder=g,v.borderColour=a,v.webglBorderColour=Se(a),v.fillColour=l,v.webglFillColour=Se(l),t(v)}}function Zr(t,e){return function(n,r,i,o,a,s,l,u,c,d,f,h,p,g,v,m,y,b,x,w,C){void 0===x&&(x=!1);var A=e(l,le.text);A.x=n,A.y=r,A.yOffset=0|(C||0),A.text=i,A.anchorIndex=u,A.fontSize=a,A.isBold=s,A.fontFamily=c||Be,A.wmargin=w||0,A.isCentred=d,A.textWidth=f,A.isFontIcon=h,A.isSel=x,A.fontColour=o,A.webglFontColour=Se(o),A.x1=g,A.y1=v,A.x2=m,A.y2=y,A.back=p,A.backColour=p?b:void 0,A.webglBackColour=p?Se(b):void 0,A.paddingFactor=.08,t(A)}}function Gr(t,e){return function(n,r,i,o,a,s,l,u,c,d,f,h,p){var g=e(f,le.triangle);g.x1=n,g.y1=r,g.x2=i,g.y2=o,g.x3=a,g.y3=s,g.anchorIndex=h,g.borderWidth=u,g.isFilled=d,g.arrowhead=p,g.borderColour=l,g.webglBorderColour=Se(l),g.fillColour=c,g.webglFillColour=Se(c),g.borderStyle="solid",t(g)}}var zr=[8,16,32,64,128,256,512,1024,2048,4096];function jr(t,e,r){var i,o,a,s,l,u,c,d,f,h,p=t||{},g={isContentLayer:!1,alwaysUpdate:!1},v=T(e,g),m=Object.keys(v),y=!1;try{var b=new Date/12636}catch(t){}function x(t,e){var n;if(y)(n=d.getNext()).type=e;else{var r=w(t);n={id:t,type:e,itemPrimitives:d,shadowColour:r.rgb,webglShadowColour:r.webgl}}return n}function w(t){return a.getColour(t)}function C(){c=new Map,h=function(){var t=8,e=new Float32Array(t*t),n=0;return{getData:function(){return e},add:function(){if(n+3>e.length){var r=e;t=function(t){for(var e=Math.ceil(Math.sqrt(t)),n=8,r=1,i=zr.length;r<i&&!(e<=n);r++)n=zr[r];return n}(n+3),(e=new Float32Array(t*t)).set(r)}n+=3},getUsedSize:function(){return n},getTextureSize:function(){return t}}}(),c.set("_extras",Gn(h)),i=function(){var t=null,e=null;function n(t){r(e,t)}function r(n,r){if(!r||"object"!=typeof r)throw new Error("Object Required");var i=r;i._prev=n||null,n?(i._next=n._next,n._next=i):(i._next=t,t=i),i._next?i._next._prev=i:e=i}return{append:n,clear:function(){t=null,e=null},forEach:function(e){for(var n=t;n;n=n._next){var r=e(n);r&&(n=r)}},getFirst:function(){return t},getLast:function(){return e},getNext:function(t){return t._next},getPrevious:function(t){return t._prev},insertAfter:r,insertBefore:function(t,e){t?r(t._prev||null,e):n(e)},remove:function(n){var r=n;r._prev?r._prev._next=r._next:t=r._next,r._next?r._next._prev=r._prev:e=r._prev},toArray:function(){for(var e=[],n=t;n;n=n._next)e.push(n);return e}}}(),o=Or(i)}function A(t){y||(d.add(t),l.insert(t))}function _(t){var e=c.get(t);e&&(e.forEach(i.remove),e.reset())}function M(t,e,n){var r=e[n];return t[n]!==r&&(t[n]=r,!0)}function E(){d=c.get("_extras"),y=!1}function k(t){return c.get(t)}C();var S={arc:Rr(A,x),circle:Vr(A,x),image:Fr(A,x),line:Dr(A,x),rect:Br(A,x),bezier:Pr(A,x),text:Zr(A,x),triangle:Gr(A,x),copyPrimitive:function(t){var e=x(t.id,t.type);n(t,function(t,n){e[n]=t}),A(e)},createDummyShapePrimitive:function(t,e,n,r){var i,o,a,s;if("circle"===r){var l=Math.min(e,n);i=-l,o=-l,a=l,s=l}else i=-e,o=-n,a=e,s=n;var u=w(t);return{id:t,type:le.rect,itemPrimitives:d,shadowColour:u.rgb,webglShadowColour:u.webgl,x1:i,y1:o,x2:a,y2:s,fillColour:void 0,webglFillColour:void 0,isFilled:!1,anchorIndex:0,borderColour:void 0,webglBorderColour:void 0,borderStyle:"solid",borderWidth:0}},createLayer:function(t,e){var n="";e&&(n=e.getValue().data.path+".");var r={id:t,data:K({path:n+=t},p[t])};return e&&(r.data=T(r.data,e.getValue().data)),r.data=T(r.data,v),r.data.bg=r.data.bg&&!r.data.perItemAlpha,o.append(r,e)},destroy:function(){c&&c.clear(),p={},g={},v={},m=[],i.clear(),o=Or(i),a=null,l=null,u=null,c=new Map,d=null,f=null;var t=S;Object.keys(t).forEach(function(e){t[e]=void 0,delete t[e]}),S=void 0},drawShadowCanvas:function(t,e){Sr(t),Tr(S,t,t,e,{},!0,!1,null,!1,1,1,!1,void 0,s||void 0)},forEach:function(t,e,n,r){var o,a,s,l,u=K({},v),c={},d=127986324-b;d===Math.abs(d)&&(d=0,i.forEach(function(i){if(i.isGroup){if(i.isStart){var d=i;if(r)return e(d.data);if(n&&!d.data.alwaysUpdate)return i.endMarker._prev;for(a=0,s=m.length;a<s;a++){var f=M(u,d.data,l=m[a]);f&&(c[l]=!0),o=o||f}if(o&&d.data.isContentLayer)for(e(d.data,c),o=!1,a=0,s=m.length;a<s;a++)c[l=m[a]]=!1}}else t(i);return!1}))},getAnchorBuffer:function(){return h},getAnchorPosition:function(t,e){return k(t).getAnchorPosition(e)},getItem:k,getLayer:function(){return l?l.getValue().id:null},getLayerAt:function(t){return o.get(t)},getLayerPath:function(){return f},hasLayerPathAt:function(t){return o.hasPath(t)},itemExtents:function(t,e){var n=null,r=[];return t&&t.size?t.forEach(function(t){var e=c.get(t);e&&r.push(e)}):c.forEach(function(t,e){"_extras"!==e&&r.push(t)}),r.forEach(function(t){n=function(t,e,n){return e.forEach(function(t){if(!t.itemPrimitives.hiddenByGenerator){var e=je(0,t);e&&(n=n?function(t,e){return{x1:Math.min(t.x1,e.x1),y1:Math.min(t.y1,e.y1),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}}(n,e):e)}}),n}(0,t,n)}),n},removeItem:function(t){_(t),c.delete(t)},resetExtras:function(){E(),_("_extras")},setAnchorPosition:function(t,e,n,r,i){k(t).setAnchorPosition(e,n,r,i)},setHiddenByGenerator:function(){d.hiddenByGenerator=!0},setLayer:function(t){if(t){if(!(l=u?u.getChildren().get(t)||null:o.get([t])))throw new Error("Layer: "+t+" at "+f+" not found")}else l=null},setLayerPath:function(t){f=t,u=t?o.get(t):null},setShadowColourMap:function(t){a=t},setShadowCustomCanvasPrimitives:function(t){s=t},setup:C,startGeneratingForExtras:E,useItem:function(t,e){return d=k(t),y=e,d?e?d.goToBeginning():_(t):(d=Gn(h),c.set(t,d)),d}};return r&&r(A,x),S}var Yr={MAIN:"MAIN",BG:"BG",FG:"FG",COMBOS:"COMBOS",REVEALED:"REVEALED",TRANSIENT:"TRANSIENT",OVERVIEW_IMAGE:"OVERVIEW_IMAGE",COMBO_CONTAINER:"COMBO_CONTAINER",TIMEBAR:"TIMEBAR",BANDS:"BANDS",UNDERLAYS:"UNDERLAYS",SHAPES_SEL_BORDER:"SHAPES_SEL_BORDER",SHAPES:"SHAPES",HALOS:"HALOS",HANDLES:"HANDLES",NODES_SEL_BORDER:"NODES_SEL_BORDER",LINKS:"LINKS",NODES:"NODES",DRAGGERS:"DRAGGERS",BUBBLES:"BUBBLES",NODESSEL:"NODESSEL",BUBBLESSEL:"BUBBLESSEL",BANDLABELS:"BANDLABELS",OVERLAYS:"OVERLAYS",OVERLAYS_REQUIRED:"OVERLAYS_REQUIRED",OVERLAYSSHADOW:"OVERLAYSSHADOW",OVERVIEW:"OVERVIEW",OVERVIEWSHADOW:"OVERVIEWSHADOW",WAIT:"WAIT"},Nr={};Nr[Yr.COMBO_CONTAINER]=Yr.NODES_SEL_BORDER,Nr[Yr.NODES]=Yr.NODES_SEL_BORDER,Nr[Yr.SHAPES]=Yr.SHAPES_SEL_BORDER;var Ur={UNDERLAYS:{alwaysUpdate:!0,isContentLayer:!0,useView:!1},BANDLABELS:{alwaysUpdate:!0,isContentLayer:!0,useView:!1},BANDS:{alwaysUpdate:!0,isContentLayer:!0,useView:!1},MAIN:{overview:!0},COMBOS:{perItemAlpha:!0,overview:!0},COMBO_CONTAINER:{isContentLayer:!0,overview:!0},REVEALED:{},OVERLAYS:{shadowType:-1,useView:!1,alwaysUpdate:!0,isContentLayer:!0,hideFromExport:!0},OVERLAYS_REQUIRED:{shadowType:-1,useView:!1,alwaysUpdate:!0,isContentLayer:!0,hideFromExport:!1},HANDLES:{useView:!1,alwaysUpdate:!0,isContentLayer:!0,hideFromExport:!0},OVERLAYSSHADOW:{shadowType:1,useView:!1,alwaysUpdate:!0,isContentLayer:!0,hideFromExport:!0},OVERVIEWSHADOW:{shadowType:1,useView:!1,alwaysUpdate:!0,isContentLayer:!0,hideFromExport:!0},WAIT:{useView:!1,alwaysUpdate:!0,isContentLayer:!0,hideFromExport:!0},OVERVIEW:{shadowType:-1,useView:!1,alwaysUpdate:!0,isContentLayer:!0,hideFromExport:!0},OVERVIEW_IMAGE:{shadowType:-1,blatOverview:!0,useView:!1,alwaysUpdate:!0,isContentLayer:!0,hideFromExport:!0},DRAGGERS:{alwaysUpdate:!0,isContentLayer:!0},BG:{bg:!0,overview:!1},FG:{bg:!1,overview:!0},SHAPES_SEL_BORDER:{isContentLayer:!0},NODES_SEL_BORDER:{isContentLayer:!0},LINKS:{isContentLayer:!0,newDrawCall:!0},SHAPES:{isContentLayer:!0},NODES:{isContentLayer:!0},HALOS:{isContentLayer:!0},BUBBLES:{isContentLayer:!0}},Wr=[Yr.SHAPES_SEL_BORDER,Yr.SHAPES,Yr.HALOS,Yr.NODES_SEL_BORDER,Yr.LINKS,Yr.NODES,Yr.BUBBLES],Xr={shadowType:0,bg:!1,blatOverview:!1,useView:!0,alwaysUpdate:!1,isContentLayer:!1,overview:!1,newDrawCall:!1,perItemAlpha:!1,hideFromExport:!1};var Hr="_combolink_",Kr={small:6,normal:10,large:20,xlarge:30};function Jr(t,e,n,r){return e*(1.7*t+n*(m(Kr[r])?Kr[r]:Kr.normal))}var Qr=Math.PI/7,qr=Math.cos(Qr);function $r(t,e,n,r){return qr*Jr(t,e,n,r)}function ti(t,e,n,r,i,o,a,s,l,u,c){var d=Jr(r,i,u,c.arrows),f=o+Math.PI;t.triangle(e+d*Math.cos(f+Qr),n+d*Math.sin(f+Qr),e+d*Math.cos(f-Qr),n+d*Math.sin(f-Qr),e,n,a,-1,a,!0,s,-1,l)}function ei(t){return Math.abs(t)<1e-5}function ni(t){return t&&t.length>0&&Array.isArray(t)}function ri(t){return ni(t.g)}function ii(t){return bu(t)||t._combo&&t._combo.open}function oi(t){return t._combo&&t._combo.open}function ai(){return new Float32Array(6)}var si=function(t,e,n,r){if(!e)return t[0]=-n,t[1]=-r,t[2]=n,t[3]=r,t[4]=0,t[5]=0,t;t[4]=e.dx/100*n,t[5]=e.dy/100*r;var i=e.e*n,o=e.e*r;return t[0]=t[4]-i,t[1]=t[5]-o,t[2]=t[4]+i,t[3]=t[5]+o,t};function li(t,e){return t.oc&&(void 0===t.oc.bw?e.defaultOpenComboStyle.bw:t.oc.bw)||0}function ui(t,e,n,r){var i,o=t.getLayerPath(),a=t.getLayer();e&&(n.isRevealed&&(n.isParentRevealed||(i=o.slice(1)),n.isParentTransient&&(i||(i=o.slice(0)),i.unshift(Yr.TRANSIENT))),!n.isTransient||n.isInCombo&&n.isParentTransient||(i=o.slice(1)),n.isOpenCombo&&((i=(i=i||o).slice(0,i.length-1))[i.length-1]===Yr.COMBOS&&(i[i.length-1]=Yr.MAIN),i.push(n.isInBackground?Yr.BG:Yr.FG)),i&&(t.hasPath(i)||t.createItemLayersAt(i),t.setLayerPath(i)),t.setLayer(e)),r(),e&&(t.setLayerPath(o),t.setLayer(a))}function ci(t){return!!t.r}function di(t,e,n,r,i,o,a){var s=o-r,l=a-i;return{x:(s*n-l*e)/t,y:(s*e+l*n)/t}}function fi(t,e,n,r,i,o,a,s,l,u){var c=di(e,n,r,i,o,a,s),d=di(e,n,r,i,o,l,u);if(c.y>t&&d.y>t||c.y<-t&&d.y<-t)return-1/0;if(ei(d.y-c.y))return Math.max(c.x,d.x);var f,h,p=c.y>d.y?c:d,g=c.y>d.y?d:c;return(f=t<p.y?p.x-(p.y-t)*(p.x-g.x)/(p.y-g.y):p.x)>(h=g.y<-t?g.x-(g.y- -t)*(g.x-p.x)/(g.y-p.y):g.x)?f:h}function hi(t,e,n,r,i,o,a,s){void 0===a&&(a=0),void 0===s&&(s=0);var l=r.x1+i-a,u=r.y1+o-s,c=r.x2+i-a,d=r.y2+o-s,f=[fi(0,t,e,n,i,o,l,u,c,u),fi(0,t,e,n,i,o,c,u,c,d),fi(0,t,e,n,i,o,c,d,l,d),fi(0,t,e,n,i,o,l,d,l,u)].filter(function(t){return t>=0});if(1===f.length)return f[0];if(2===f.length){var h=Math.max(f[0],f[1]);if(h<=1)return h}return-1/0}function pi(t,e,n,r,i,o,a){var s=i.x1+o,l=i.y1+a,u=i.x2+o,c=i.y2+a,d=t/e/2;return Math.max(fi(d,e,n,r,o,a,s,l,u,l),fi(d,e,n,r,o,a,u,l,u,c),fi(d,e,n,r,o,a,u,c,s,c),fi(d,e,n,r,o,a,s,c,s,l))}function gi(t,e,n,r,i,o){var a=-1/0,s=t*t,l=-2*t*(i*n-o*e),u=l*l-4*s*(i*i+o*o-r*r);return u>=0&&(a=(-l+Math.sqrt(u))/(2*s)),a}function vi(t,e,n,r,i,o,a){var s=0;return r&&(s=r/e),s>1||i&&(s=Math.max(s,function(t,e,n,r,i,o){for(var a,s=-1/0,l=Math.sin(-n),u=Math.cos(-n),c=0;c<r.length;c++){var d=r[c];if((a=ci(d)?gi(e,l,u,d.r,d.cx,d.cy):pi(t,e,l,u,d,i,o))>1)return a;s=Math.max(s,a)}return s}(t,e,n,i,o,a))),s}var mi=9007199254740,yi={xs:[0,0,0,0],ys:[0,0,0,0],midpoint:.5,joinFraction:1};function bi(t,e,n,r,i,o,a,s,l,u,c,d,f,h){t.setHiddenByGenerator();var p=se.Line;"arc"===u?(t.arc(0,0,0,0,0,a,s,l,e,c,!1,d,f),p=se.Arc):"bezier"===u?(t.bezier(yi,a,s,l,e,c,f),p=se.Bezier):t.line(0,0,0,0,a,s,l,e,c,f),n&&t.triangle(0,0,0,0,0,0,a,-1,a,!0,e+"\u2704a1",-1,p),r&&t.triangle(0,0,0,0,0,0,s||a,-1,s||a,!0,e+"\u2704a2",-1,p),h&&(h.pos.t.lx=(i._sx+o._sx)/2,h.pos.t.ly=(i._sy+o._sy)/2),t.setAnchorPosition(e,mi,mi,0,0),t.setAnchorPosition(e,mi,mi,0,1),t.setAnchorPosition(e,mi,mi,0,2)}function xi(t,e,n){var r,i,o=ii(t);return e&&n.selectedNode?(r=n.selectedNode.b||t.b,i=n.selectedNode.c||t.c):(r=t.b,i=t.c),!(!r&&!i||o)}var wi={t:.5,t1:.15,t2:.85},Ci=Math.PI/2;function Ai(t){var e=t;return(e>Ci+.01||e<.01-Ci)&&(e+=Math.PI),e}function _i(t,e,n,r,i,o,a,s,l,u,c,d,f,h,p,g,v,m,y,b,x,w,C){var A=!0,_=p,M=v;0===n.length&&(A=!1);for(var E=o+"\u2704"+(y||"t");d&&_>h;)_=sn(t,n,M*=.85,u,m).width;var k,S=4*x*b,I=r-_/2,T={x1:I-S,y1:(k=f?i+(b||1)+M/2:i+(1+M)/2)-M,x2:I+_+S,y2:k};return A&&e.text(r,k,n,s,M,u,E,C,m,!0,_,!1,a,T.x1,T.y1,T.x2,T.y2,l,g,S,f?w.labelOffset:0),c&&function(t,e,n,r,i){if(t._edit){t._edit.hib=!1;var o=t._edit;o.x1=Math.min(o.x1,e.x1),o.x2=Math.max(o.x2,e.x2),o.y1=Math.min(o.y1,e.y1),o.y2=Math.max(o.y2,e.y2)}else t._edit={fs:n,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,hib:!1};i.avoidLabels&&r&&t._cl&&t._cl.push(e)}(c,T,M,A,w),A}function Mi(t,e,n,r,i,o,a,s,l,u,c,d,f,h,p){void 0===p&&(p=i);var g={},v=n-t,m=r-e,y=Math.sqrt(v*v+m*m);if(ei(y))g.skip=!0;else{var b=Math.atan2(m,v),x=vi(h.tight&&l&&p!==i?0:i,y,b,a._c,a._cl,t,e),w=vi(h.tight&&u&&p!==i?0:i,y,b+Math.PI,s._c,s._cl,n,r),C=d||0,A=1-((x=Math.max(c||0,x))+(w=Math.max(C,w))),_=0;(l||u)&&(_=$r(i,o,f.unzoom,h.arrows)/y,l&&u&&(_*=1.5)),g.skip=A<Math.max(Math.min(6/y,.1),_),g.skip||(g.cx1=t+x*v,g.cy1=e+x*m,g.cx2=n+w*-v,g.cy2=r+w*-m)}return g}function Ei(t,e,n,r,i,o){var a=t,s=e,l=Math.ceil(o/8),u=J(a,s,n,r);return{x:a+=(a-n)/u*(l-i),y:s+=(s-r)/u*(l-i)}}function ki(t,e,r,i,o,a,s,l,u,c,d,f,h,p,g,v,m,y,b,x){void 0===b&&(b=!0),void 0===x&&(x=d);var w=Mi(s._sx,s._sy,l._sx,l._sy,x,f,s,l,e,r,i,o,m,y);if(w.skip)return bi(t,a,e,r,s,l,u,c,d,"straight",h,0,g,v),!1;var C,A=w.cx1,_=w.cy1,M=w.cx2,E=w.cy2,k=M-A,S=E-_,I=0,T=0,L=0,O=0,R=0,P=0,V=0;(e||r)&&(V=$r(d,f,m.unzoom,y.arrows));var F,D=0,B=0,Z=0,G=!1,z=!1,j=!1,Y=!1,N=!1,U=b&&e,W=b&&r;if(y.tight&&(e||(z=xi(s,p,y),Y=oi(s),G=z||Y),r||(j=xi(l,p,y),N=oi(l),G=G||j||N),G)){var X=Math.max(.001,S*S+k*k),H=Math.sqrt(X);D=k/H,B=S/H,Z=.25*x}if(e?(I=Math.atan2(S,k),L=A,O=_,C=Ei(A,_,M,E,V,d),A=C.x,_=C.y):y.tight&&z?(A-=Z*D,_-=Z*B):y.tight&&Y&&(F=li(s,y),A-=D*F,_-=B*F),r?(T=Math.atan2(S,k),R=M,P=E,C=Ei(M,E,A,_,V,d),M=C.x,E=C.y):y.tight&&j?(M+=Z*D,E+=Z*B):y.tight&&N&&(F=li(l,y),M+=D*F,E+=B*F),t.line(A,_,M,E,u,c,d,a,h,g),U&&ti(t,L,O,d,f,I+Math.PI,u,a+"\u2704a1",se.Line,m.unzoom,y),W&&ti(t,R,P,d,f,T,c||u,a+"\u2704a2",se.Line,m.unzoom,y),v){var K=0,J=0;y.labelAlongLink&&(J=Ai(J=+Math.atan2(l.y-s.y,l.x-s.x).toFixed(14))),n(v.pos,function(e,n){if("t"===n||v.present[n]){var r=wi[n];if(e.lx=A+r*(M-A),e.ly=_+r*(E-_),y.glyphsAlongLink){var i=l._sx-s._sx,o=l._sy-s._sy;0===i&&0===o&&(i=1,o=-1);var u=Q(i,o);e.tdx=i/u,e.tdy=o/u,e.tangent=Math.atan2(o,i),e.R=0}t.setAnchorPosition(a,e.lx,e.ly,J,K)}K++})}return!0}function Si(t,e,n,r,i,o,a,s,l,u,c,d,f,h,p,g,v,m,y,b,x){void 0===b&&(b=!0),void 0===x&&(x=c);var w=a._sx,C=a._sy,A=s._sx,_=s._sy,M=xr(a,s),E=x+1;if(Mi(w,C,A,_,x,d,a,s,!1,!1,0,0,v,m).skip||r+i>1)return bi(t,o,e,n,a,s,l,u,c,"bezier",f,y,p,g),!1;var k=function(t,e,n,r,i,o){var a=n-t,s=r-e,l="horizontal"===i?Math.min(.5+45/Math.abs(a)*Math.min(Math.abs(s)/80,1),1)*a:0,u="vertical"===i?Math.min(.5+45/Math.abs(s)*Math.min(Math.abs(a)/80,1),1)*s:0,c=[t,t+l,n-l,n],d=[e,e+u,r-u,r];if(0!==o){c=vr(c,.5);for(var f=(d=vr(d,.5))[4]-d[2],h=c[2]-c[4],p=J(f,h,0,0),g=f/p,v=h/p,m=.45*o,y=2;y<=4;y++)c[y]+=g*m,d[y]+=v*m}return{xs:c,ys:d}}(w,C,A,_,m.linkStylePath,y),S=k.xs,I=k.ys,T=r||i?(s.x-a.x)/M:0,L=r||i?(s.y-a.y)/M:0,O=Math.max(r*M-.5*E,0),R=Math.max(i*M-.5*E,0);7===S.length&&(Ti(S[3],I[3],a,E,O,T,L)?(S.splice(0,3),I.splice(0,3)):Ti(S[3],I[3],s,E,R,-T,-L)&&(S.splice(4,3),I.splice(4,3)));var P=[],V=function(t,e,n,r,i,o,a,s,l,u,c,d,f,h,p,g){var v=4===t.length?fr:hr,m=o?a:0,y=[0],b=[0],x=Ri(t,e,n,f,v,i?a:0,s,u,c,h,g,y),w=x?Ri(t.reverse(),e.reverse(),r,f,v,m,l,-u,-c,p,g,b):void 0;if(w&&x&&!(w.t+x.t>=50/v.num)){var C=function(t,e,n,r,i,o,a){for(var s=51-i.length,l=r.length-1;l<s;l++){var u=n.segmentDelta(l,t),c=n.segmentDelta(l,e);r.push(r[l]+Math.sqrt(u*u+c*c))}for(var d=i.length-1,f=r[l]+i[d--];d>=0;d--)r.push(f-i[d]);var h=o*n.num|0,p=mr(r[h],r[h+1],o*n.num-h),g=ur-a*n.num|0,v=g<ur?mr(r[g],r[g+1],ur-a*n.num-g):r[ur],m=.5*(v-p)+p;for(l=25;r[l]>m;)l--;for(;r[l]<m;)l++;return{midpoint:(l-(r[l]-m)/(r[l]-r[l-1]))/n.num,joinFraction:h<=n.num&&g>n.num?(r[n.num]-p)/(v-p):0}}(t,e,v,b,y,w.t,x.t),A=C.joinFraction,_=function(t,e,n,r,i){var o=4===t.length?1:2,a=i,s=n,l=r;s>1&&(t.splice(0,3),e.splice(0,3),o=1,s-=1,a-=1);for(var u=vr(t,s),c=vr(e,s),d=0;d<4;d++)t[d]=u[d+3],e[d]=c[d+3];for(t.reverse(),e.reverse(),a=o-a,1===o?(l/=1-s,a/=1-s):a>1&&(a=1+(a-1)/(1-s)),l>1&&(t.splice(0,3),e.splice(0,3),o=1,l=(l-1)/(1-s)),u=vr(t,l),c=vr(e,l),d=0;d<4;d++)t[d]=u[d+3],e[d]=c[d+3];if(a<1&&(a=(a-l)/(1-l)),2===o){var f=function(t,e){var n=wr(t[0],e[0],t[3],e[3]),r=wr(t[3],e[3],t[6],e[6]);return n<r/2500?(t.splice(1,3),e.splice(1,3),1):r<n/2500?(t.splice(3,3),e.splice(3,3),2):0}(t,e);f&&(a=1===f?Math.max(0,a-1):Math.min(1,a))}return a}(t,e,w.t,x.t,C.midpoint),M=i&&o;if(M||!function(t,e,n,r,i,o){var a=J(t,e,n,r)-2*o;return Math.min(6,.1*i)>a}(x.x,x.y,w.x,w.y,d,f)){if(i||o){var E=g[0]||x,k=g[1]||w;if(function(t,e,n,r,i,o){return(i?1.5*o:o)>J(t,e,n,r)}(E.x,E.y,k.x,k.y,M,a))return}return t[0]=x.x,e[0]=x.y,t.splice(-1,1,w.x),e.splice(-1,1,w.y),{joinFraction:1-A,midpoint:_}}}}(S,I,a,s,e,n,b?$r(c,d,v.unzoom,m.arrows):0,O,R,T,L,M,E,Ii(m,a,e,h,E),Ii(m,s,n,h,E),P);if(!V)return bi(t,o,e,n,a,s,l,u,c,"bezier",f,y,p,g),!1;var F=V.midpoint;return t.bezier({xs:S,ys:I,midpoint:F,joinFraction:V.joinFraction},l,u,c,o,f,p),P[0]&&ti(t,P[0].x,P[0].y,c,d,P[0].angle,l,o+"\u2704a1",se.Bezier,v.unzoom,m),P[1]&&ti(t,P[1].x,P[1].y,c,d,P[1].angle,u||l,o+"\u2704a2",se.Bezier,v.unzoom,m),g&&Li(t,o,S,I,4===S.length?1:2,F,g,m),!0}function Ii(t,e,n,r,i){if(t.tight&&!n){if(xi(e,r,t))return i;if(oi(e))return li(e,t)}return 0}function Ti(t,e,n,r,i,o,a){var s=J(n.x,n.y,t,e),l=Math.atan2(e-n.y,t-n.x),u=(t-n.x)*o+(e-n.y)*a;return vi(0,s+r,l,n._c,[],n.x,n.y)>1||i>0&&u<i}function Li(t,e,r,i,o,a,s,l){var u=0,c=l.labelAlongLink?function(n,l){if("t"===l||s.present[l]){var c=gr(o,a,wi[l]),d=0;n.lx=pr(yr,r,c),n.ly=pr(yr,i,c);var f=pr(br,r,c),h=pr(br,i,c);0!==(d=Math.atan2(h,f))&&(d=Ai(d=+d.toFixed(14))),t.setAnchorPosition(e,n.lx,n.ly,d,u)}u++}:l.glyphsAlongLink?function(n,l){if("t"===l||s.present[l]){var c=gr(o,a,wi[l]);n.lx=pr(yr,r,c),n.ly=pr(yr,i,c);var d=pr(br,r,c),f=pr(br,i,c),h=J(d,f,0,0);n.tdx=d/h,n.tdy=f/h,n.tangent=Math.atan2(f,d),n.R=0,t.setAnchorPosition(e,n.lx,n.ly,0,u)}u++}:function(n,l){if("t"===l||s.present[l]){var c=gr(o,a,wi[l]);n.lx=pr(yr,r,c),n.ly=pr(yr,i,c),t.setAnchorPosition(e,n.lx,n.ly,0,u)}u++};n(s.pos,c)}function Oi(t,e,n,r,i,o,a,s,l,u,c,d,f,h){var p=function(t,e,n,r,i,o,a,s,l,u){var c=-1/0;return r&&r>u&&(c=gi(t,e,n,r-u,-s,-l)),c>1||i&&(c=Math.max(c,function(t,e,n,r,i,o,a,s,l){for(var u,c=-1/0,d=0;d<r.length;d++){var f=r[d];if(ci(f))f.r>l&&(u=gi(t,e,n,f.r-l,f.cx-a,f.cy-s));else{var h=hi(t,e,n,f,i,o,a,s);h>0&&(u=h)}if(u){if(u>1)return u;c=Math.max(c,u)}}return c}(t,e,n,i,o,a,s,l,u))),c}(u,-c,d,t,e,f.x+o,f.y+a,o,a,h);return p>1||0===n?p:Math.max(p,(n-(o*r+a*i))/(s*r+l*i))}function Ri(t,e,n,r,i,o,a,s,l,u,c,d){for(var f,h,p,g,v,m,y,b,x,w=function(t){var e=t._c||0;return(t._cl||[]).reduce(function(t,e){return ci(e)?(t.x1=Math.min(t.x1,e.cx-e.r),t.y1=Math.min(t.y1,e.cy-e.r),t.x2=Math.max(t.x2,e.cx+e.r),t.y2=Math.max(t.y2,e.cy+e.r),t):(t.x1=Math.min(t.x1,e.x1),t.y1=Math.min(t.y1,e.y1),t.x2=Math.max(t.x2,e.x2),t.y2=Math.max(t.y2,e.y2),t)},{x1:-e,y1:-e,x2:e,y2:e})}(n),C=!0,A=t[0]-n.x,_=e[0]-n.y,M=n._cl&&n._cl.length>0?function(){return m>1||Oi(0,[w],a,s,l,A,_,f,h,p,g,v,n,0)>1}:function(){return m>1},E=0;E<ur&&(C||y);E++){if(f=i.segmentDelta(E,t),h=i.segmentDelta(E,e),p=Math.sqrt(f*f+h*h),g=h/p,v=f/p,C&&((m=Oi(n._c,n._cl,a,s,l,A,_,f,h,p,g,v,n,u))<0&&!b&&!y&&(m=0),m>=0&&m<=1&&(o>0?(b=void 0,x=void 0,y={cx:A+m*f,cy:_+m*h,r:Math.max(o-r,2*o/3)}):b={x:n.x+A+m*f,y:n.y+_+m*h,t:(E+m)/i.num}),M()||(C=!1)),y&&(m=Oi(0,[y],a,s,l,A,_,f,h,p,g,v,n,0))>=0&&m<=1){var k=n.x+y.cx,S=n.y+y.cy;b={x:n.x+A+m*f,y:n.y+_+m*h,t:(E+m)/i.num},x={x:k,y:S,angle:Math.atan2(S-b.y,k-b.x)},y=void 0}d[E+1]=d[E]+p,A+=f,_+=h}return c.push(x),b}function Pi(t){return"b"in t?t.b:ie.keyline}function Vi(t){var e=9;return Pi(t)&&(e+=1),t.e&&(e*=t.e),e}function Fi(t){return Vi(t)+3}function Di(t,e){return Vi(t)+1+Vi(e)}var Bi=ai();function Zi(t,e){return J(t,e,0,0)}function Gi(t,e,n,r,i,o,a,s,l,u,c,d){t.rect(o-s,a-s,o+s,a+s,ie.transparent,-1,ie.transparent,!0,r,i,0);var f=2*s,h=sn(n,l,f,!1,c||e.fontFamily,!0),p=Zi(h.width,h.height),g=f-(p-f)/2;p=Zi((h=sn(n,l,g,!1,c||e.fontFamily,!0)).width,h.height);var v=d.getImage(l);si(Bi,v,s,s);var m=v?v.e:1,y=g*m,b=.8333333333333334*s*m;t.text(o+Bi[4],a+y/2+Bi[5],l,u,y,!1,r,i,c,!0,p,!0,!1,o-b+Bi[4],a-b+Bi[5],o+b+Bi[4],a+b+Bi[5])}var zi=ai(),ji=[12,9,7,7];function Yi(t,e,n,r){t._cl.push({cx:e,cy:n,r:r})}function Ni(t,e,n,r,i,o,a,s,l,u,c,d,f,h){var p=r,g=i,v=o,y=0;if(a&&!(s&&s._combo&&s._combo.open)){a.e&&(v*=a.e);var b=a.a?c.easingValue:1,x=9*v*b,w=Pi(a),C=w?2*v:-1,A=!!(a.u||a.fi&&a.fi.t);y=x+(w?C/2:0);var _=s&&!m(a.r);if(a.c){if(a.t){var M=!R(a,"fb")||a.fb,E=a.fc||ie.white,k=a.ff||d.fontFamily,S=void 0,I=void 0,T=void 0,L=void 0;if(a.w&&u){S=v*ji[1]*b,I=sn(e,T=(""+a.t).substring(0,25),S,M,k).width;var O=(L=Math.max(I,x))+x,P=void 0,V=void 0;switch(l){case"left":P=(V=p+x)-O,p=V-O/2;break;case"centre":P=p-O/2,V=p+O/2;break;default:V=(P=p-x)+O,p=P+O/2}var F=g-x,D=g+x;t.rect(P,F,V,D,w,C,a.c,!0,n,f,x),_&&(Yi(s,P+x,g,y),Yi(s,V-x,g,y),function(t,e,n,r,i){t._cl.push({x1:e,x2:r,y1:n,y2:i})}(s,P+x,F-C/2,V-x,D+C/2))}else t.circle(p,g,x,w,C,a.c,!0,n,f,void 0,!1),I=sn(e,T=(""+a.t).substring(0,4),S=v*ji[T.length-1]*b,M,k).width,L=1.7*x,_&&Yi(s,p,g,y);_i(e,t,T,p,g,n,!1,E,ie.white,M||!1,null,!0,!1,L,I,!1,S,k,null,1,c.unzoom,d,f)}else if(t.circle(p,g,x,w,C,a.c,!0,n,f,void 0,!1),_&&Yi(s,p,g,y),A){var Z=x/1.41421;if(a.u){var G=h.getImage(a.u);si(zi,G,Z,Z),t.image(p+zi[0],g+zi[1],p+zi[2],g+zi[3],a.u,n,f,null,0,!1)}else Gi(t,d,e,n,f,p,g,Z,a.fi.t,a.fi.c||ie.black,a.fi.ff||d.iconFontFamily,h)}}else if(A)if(_&&Yi(s,p,g,x),a.u){var z=1,j=0,Y=0;(G=h.getImage(a.u))&&(z=G.e,j=G.dx/100*x,Y=G.dy/100*x),t.image(p-x*z+j,g-x*z+Y,p+x*z+j,g+x*z+Y,a.u,n,f,null,0,!1)}else Gi(t,d,e,n,f,p,g,x,a.fi.t,a.fi.c||ie.black,a.fi.ff||d.iconFontFamily,h);a.a&&c.stillDirty.set(B(n),2)}return y}function Ui(t,e,n,r,i){var o=e;return""===o||o||(o=t.t||""),o?(function(t,e,n,r,i){return!!n&&!function(t){return"node"!==t.type&&"link"!==t.type}(t)&&i.unicodeAwareLength(e)>n&&!function(t,e){return!(!e||e!==t)}(t.id,r)}(t,o,n,r,i)&&(o=i.unicodeAwareTruncate(o,n-3)+"..."),o.split(/\r\n|\r|\n/)):[""]}function Wi(t,e,n,r,i,o){for(var a=[],s=0;s<t.length;s++)a[s]=sn(e,t[s],n,r,i||o).width;return a}function Xi(t,e,n,r,i,o,a,s,l,u,c,d,f,h){var p=i*s.unzoom;if(o.t){var g=0,v=0,m=t.getLayer();a||t.setLayer(Yr.BUBBLES);var y=o.p?""+o.p:"ne",b="w"===y.substring(1,2),x="s"===y.substring(0,1),w=n+"\u2704bu",C=+(o.fs?o.fs:d)*p,A=o.b?o.b:ie.keyline,_=o.c?o.c:ie.white,M=o.fc?o.fc:ie.black,E=Ui(o,null,l.truncateLabel,u.showFullLabel||null,c),k=C+3*p,S=k*E.length,I=Wi(E,e,C,!!o.fb,o.ff,l.fontFamily),T=function(t){for(var e=0,n=0;n<t.length;n++)e=Math.max(e,t[n]);return e}(I),L=13*p,O=6*p,R=2*i,P=9*p,V=13*p,F=10*p,D=r+V,B=S+2*O,Z=2*p,G=Math.max(Z/2,1),z=3*p;o.g&&delete o.g.e;var j=o.g?17*p:0;b&&(g-=T+2*R+2*L+j),x&&(v+=(C+3)*E.length+2*D+2*O);var Y=g+R+.5,N=g+R+2*L+T+j+.5,U=v-D-B+.5,W=v-D+.5;t.rect(Y,U,N,W,A,Z,_,!0,w,f,8*p),Ni(t,e,w,g+j,(U+W)/2,p,o.g,null,null,!1,s,l,f,h);var X=U-.5+O+k,H=Y+L+j-.5,K=void 0;for(K=0;K<E.length;K++)t.text(H,X,E[K],M,C,!!o.fb,w,f,o.ff||l.fontFamily,!1,I[K],!1,!1,H-1.5,X-C,N,W),X+=k;b&&(Y=N,P=-P,F=-F,G=-G),x&&(W=U,V=-V,z=-z),t.triangle(Y+P,W,Y+P+F,W,Y+P,W+V,A,Z,_,!0,w,f,se.None),t.triangle(Y+P+G,W-z,Y+P+F+G,W-z,Y+P+G,W+V-z,A,-1,_,!0,w,f,se.None),t.setLayer(m)}}function Hi(t,e,n,r,i,o){var a=r-e;if(Math.abs(a)>n)return[];var s=Math.max(i,o),l=Math.min(i,o);if(s<t-n||t+n<l)return[];var u=Math.asin(a/n),c=n*Math.cos(u),d=[];return l<=t-c&&t-c<=s&&d.push(a>0?Math.PI-u:-Math.PI-u),l<=t+c&&t+c<=s&&d.push(u),d}function Ki(t,e,n,r,i,o){var a=r-t;if(Math.abs(a)>n)return[];var s=Math.max(i,o),l=Math.min(i,o);if(s<e-n||e+n<l)return[];var u=Math.acos(a/n),c=n*Math.sin(u),d=[];return l<=e-c&&e-c<=s&&d.push(-u),l<=e+c&&e+c<=s&&d.push(u),d}function Ji(t,e,n,r,i,o){var a=Hi(t,e,n,r.y2+o,r.x1+i,r.x2+i),s=Hi(t,e,n,r.y1+o,r.x1+i,r.x2+i),l=Ki(t,e,n,r.x1+i,r.y1+o,r.y2+o),u=Ki(t,e,n,r.x2+i,r.y1+o,r.y2+o);return a.concat(s,u,l)}function Qi(t,e,n,r,i,o){var a=r-t,s=i-e,l=Math.sqrt(a*a+s*s);if(l>n+o||l<Math.abs(n-o)||0===l)return[];var u=n*n,c=(u-o*o+l*l)/(2*l),d=Math.sqrt(u-c*c),f=t+c*a/l,h=e+c*s/l,p=d*(a/l),g=d*(s/l),v=f-g,m=h+p;return[Math.atan2(h-p-e,f+g-t),Math.atan2(m-e,v-t)]}function qi(t,e,n,r,i){for(var o=Math.PI,a=t,s=0;s<e.length;s++)e[s]+2*Math.PI<r&&(e[s]+=2*Math.PI),n<e[s]&&e[s]<r&&(i?e[s]-a<o&&(a=Math.max(a,e[s])):a-e[s]<o&&(a=Math.min(a,e[s])));return a}function $i(t,e,n,r,i,o,a){var s=a?r:i,l=o._sx,u=o._sy;if(o._c&&(s=qi(s,Qi(t,e,n,l,u,o._c),r,i,a)),o._cl)for(var c=0;c<o._cl.length;c++){var d=o._cl[c];s=qi(s,ci(d)?Qi(t,e,n,l+d.cx,u+d.cy,d.r):Ji(t,e,n,d,l,u),r,i,a)}return s}function to(t,e,n,r,i,o,a,s){var l=t+n*Math.cos(r),u=e+n*Math.sin(r),c=t+n*Math.cos(i),d=e+n*Math.sin(i);if(ci(s)){var f=o+s.cx,h=a+s.cy,p=J(l,u,f,h),g=J(c,d,f,h);if(p<=s.r+4&&g<=s.r+4)return!0}else{var v=o+s.x1-4,m=o+s.x2+4,y=a+s.y1-4,b=a+s.y2+4;if(v<=l&&l<=m&&y<=u&&u<=b&&v<=c&&c<=m&&y<=d&&d<=b)return!0}return!1}function eo(t,e,n,r,i,o){var a=o.x,s=o.y;if(o._c&&to(t,e,n,r,i,a,s,{cx:0,cy:0,r:o._c}))return!1;if(o._cl)for(var l=0;l<o._cl.length;l++)if(to(t,e,n,r,i,a,s,o._cl[l]))return!1;return!0}var no=2*Math.PI;function ro(t,e,n,r,i,o,a,s,l,u,c,d,f){var h=Qi(i,o,$r(s,l,d,f.arrows),e,n,r);2===h.length?ti(t,i,o,s,l,(a?h[0]:h[1])-Math.PI,u,c,se.Arc,d,f):t.triangle(0,0,0,0,0,0,u,-1,u,!0,c,-1,se.Arc)}function io(t,e,n,r,i){return.9*$r(t,e,r,i)/n}function oo(t,e,r,i,o,a,s,l,u,c,d,f,h,p,g,v,m,y,b,x,w){void 0===x&&(x=!0),void 0===w&&(w=f);var C=l===u,A=l._sx,_=l._sy,M=u._sx,E=u._sy,k=i||0,S=o||0,I=+(a||0)*h;C&&(I+=34*l._sl.e);var T=I>0;if(C){var L=(l._sl.w?180:225)*(Math.PI/180),O=Math.cos(L),R=Math.sin(L),P=.5;M=A+=l._sl.x,E=_+=l._sl.y;var V=34*-l._sl.e/2;A+=O*V+R*P,_+=R*V-O*P,M+=O*V-R*P,E+=R*V+O*P}var F=(A+M)/2,D=(_+E)/2,B=M-A,Z=E-_,G=Math.max(.001,Z*Z+B*B),z=Math.sqrt(G),j=+(G/4+I*I)/(2*Math.abs(I)),Y=j-Math.abs(I);if(j>1e5)return y.useSlowPathRendering=!0,y.useSlowPathRenderingLastTime=!0,ki(t,e,r,k,S,s,l,u,c,d,f,h,p,g,v,m,y,b);var N=T?1:-1,U=F-Z*N*Y/z,W=D+B*N*Y/z,X=Math.atan2(_-W,A-U),H=Math.atan2(E-W,M-U),K=T?X:H,J=T?H:X;K>J&&(J+=2*Math.PI);var Q,q,$,tt,et,nt,rt=K+(T?k:S)*(J-K),it=K+(T?1-S:1-k)*(J-K),ot=$i(U,W,j,K,J,I>0?l:u,!0),at=$i(U,W,j,ot,J,I>0?u:l,!1),st={startangle:0,endangle:0};if(l===u||eo(U,W,j,ot,at,l)&&eo(U,W,j,ot,at,u)?(st.startangle=ot,st.endangle=at):(st.startangle=no,st.endangle=no),st.startangle=Math.max(rt,st.startangle),st.endangle=Math.min(it,st.endangle),st.startangle>=st.endangle)return bi(t,s,e,r,l,u,c,d,f,"arc",p,I,v,m),!1;var lt=0;(e||r)&&(lt=io(f,h,j,y.unzoom,b.arrows));var ut,ct,dt,ft=-.25;if(b.tight&&(!e||!r)){if(oi(l)||oi(u)){var ht=st.endangle-st.startangle;ut=ht/(ht*j)}(xi(l,g,b)||xi(u,g,b))&&(lt=io(w,h,j,y.unzoom,b.arrows))}var pt=x&&e,gt=x&&r;if(e?(Q=T?st.startangle:st.endangle,q=U+j*Math.cos(Q),$=W+j*Math.sin(Q),T?st.startangle+=lt:st.endangle-=lt):b.tight&&(xi(l,g,b)?T?st.startangle+=ft*lt:st.endangle-=ft*lt:oi(l)&&(ct=li(l,b))&&(dt=ct*ut,T?st.startangle-=dt:st.endangle+=dt)),r?(tt=T?st.endangle:st.startangle,et=U+j*Math.cos(tt),nt=W+j*Math.sin(tt),T?st.endangle-=lt:st.startangle+=lt):b.tight&&(xi(u,g,b)?T?st.endangle-=ft*lt:st.startangle+=ft*lt:oi(u)&&(ct=li(u,b))&&(dt=ct*ut,T?st.endangle+=dt:st.startangle-=dt)),st.startangle>=st.endangle)return bi(t,s,e,r,l,u,c,d,f,"arc",p,I,v,m),!1;if(t.arc(U,W,j,st.startangle,st.endangle,c,d,f,s,p,!1,I,v),pt&&ro(t,U,W,j,q,$,T,f,h,c,s+"\u2704a1",y.unzoom,b),gt&&ro(t,U,W,j,et,nt,!T,f,h,d||c,s+"\u2704a2",y.unzoom,b),m){var vt=0,mt=0;n(m.pos,function(e,n){if("t"===n||m.present[n]){var r=N>0?st.startangle:st.endangle,i=r+((N>0?st.endangle:st.startangle)-r)*wi[n];e.lx=U+j*Math.cos(i),e.ly=W+j*Math.sin(i),b.glyphsAlongLink&&(e.tdx=-N*Math.sin(i),e.tdy=N*Math.cos(i),e.tangent=i,e.R=j,e.signf=N),b.labelAlongLink&&(i>no&&(i%=no),mt=Ai(mt=+((i-Math.PI/2)*N).toFixed(14))),t.setAnchorPosition(s,e.lx,e.ly,mt*N,vt)}vt++})}return!0}var ao=Math.PI/256;function so(){var t=new Map;function e(e){var n=t.get(e);return n||(n=vt(gt(e)),t.set(e,n)),n}return{destroy:function(){t=null},unicodeAwareCharacters:e,unicodeAwareLength:function(t){return e(t).length},unicodeAwareTruncate:function(t,n){return e(t).slice(0,Math.max(n,0)).join("")}}}var lo={b:"grey",bw:1,c:"rgba(240,240,240,0.8)",bs:"solid",re:!1,w:0,h:0},uo=["_ha0","_ha1","_ha2","_ha3","_ha4"],co=uo.concat(["ha0","ha1","ha2","ha3","ha4","ha5","ha6","ha7","ha8","ha9"]),fo=co.reduce(function(t,e){return t[e]=!0,t},{});function ho(t,e){return t+(m(e)?"-"+e:"")}function po(t){if(t&&t.maxLength&&m(t.maxLength)&&t.maxLength>0)return t.maxLength}function go(t,e,r,i){var o=e||tt,s=r||tt,l=i||tt,u=so(),c={b:"rgb(255, 255, 255)",bw:2,c:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],w:10},d=T(t,{numbers:{},numOrString:{},negatives:{},strings:{},stringValues:{},colours:{},booleans:{},reserved:{},mapPos:{},halos:[]});function f(t){if(w(t)){var e=t;n(e,function(t,n){A(e,n),e.g&&(e.g=S(e.g,!0)),I(e,n,d.reserved)})}}function h(t){"w"in t&&(t.w=!!t.w)}function p(t,e,n){var r=t,i=n||{};y(r,e),_(r),r.g&&(Array.isArray(r.g)?(g(r.g),r.g.forEach(h),r.g=S(r.g,"link"===r.type||!!i[r.id])):delete r.g),function(t,e){d.halos.forEach(function(n){var r=t[n];r&&(e?"c"in r||"r"in r||"w"in r||delete t[n]:"c"in r&&"r"in r&&"w"in r?(C(r,"c"),V(r.c)||V(r.r)||V(r.w)||!m(+r.r)||!m(+r.w)?delete t[n]:(r.r=+r.r,r.w=+r.w)):delete t[n])})}(r,e),r.donut&&function(t,e){if(e||Array.isArray(t.donut.v)){if(t.donut.v){var n=t.donut.v;n.forEach(function(t,e){(!m(t)||t<0)&&(n[e]=0)})}t.donut.c&&(Array.isArray(t.donut.c)&&0!==t.donut.c.length&&!t.donut.c.some(function(t){return!ge(t)})||delete t.donut.c),["bw","w"].forEach(function(e){e in t.donut&&b(t.donut,e)}),"b"in t.donut&&C(t.donut,"b"),e||(t.donut=T(t.donut,c))}else delete t.donut}(r,e),r.oc&&function(t){w(t.oc)?p(t.oc):delete t.oc}(r),r.bu&&function(t){if(Array.isArray(t.bu))delete t.bu;else{var e=t.bu;e.p||(e.p="ne"),/^(ne|nw|se|sw)$/.test(e.p)?e.g&&_(e.g):delete t.bu}}(r),r.t1&&f(r.t1),r.t2&&f(r.t2),r.flow&&function(t){var e=t.flow;if(!0===e)t.flow={velocity:2};else if(w(e)){var n=e;m(n.velocity)?n.velocity=Math.max(-10,Math.min(10,+n.velocity)):delete t.flow}else delete t.flow}(r)}function g(t,e,n){if(t)for(var r=0;r<t.length;r++)p(t[r],e,n)}function y(t,e){n(t,function(n,r){A(t,r),I(t,r,d.reserved),e&&I(t,r,d.booleans)})}function b(t,e){var n=+t[e];(n<0&&!d.negatives[e]||v(n))&&(n=null),t[e]=n}function x(t,e){V(t[e])||(t[e]+="",d.stringValues[e]&&!d.stringValues[e][t[e]]&&delete t[e])}function C(t,e){t[e]&&(t[e]=ge(t[e])?t[e]:void 0)}function A(t,e){d.strings[e]?x(t,e):d.numbers[e]?b(t,e):d.numOrString[e]?function(t,e){if(!V(t[e])){var n=""+t[e];v(+n)||""===n?x(t,e):b(t,e)}}(t,e):d.colours[e]?C(t,e):d.mapPos[e]&&function(t,e){var r=t[e],i=!0;w(r)&&n(r,function(t,e){b(r,e),i=i&&m(+t)}),i||delete t[e]}(t,e)}function _(t){if(w(t.fi)){var e=t.fi;if(!V(e.t))if("string"==typeof e.t){var n=u.unicodeAwareCharacters(e.t);e.t=n[0]}else e.t=String.fromCharCode(e.t);e.c&&(e.c=ge(e.c)?e.c:void 0),"ff"in e&&"string"!=typeof e.ff&&(e.ff=void 0)}else null!==t.fi&&delete t.fi}function M(t){return/^(ne|nw|se|sw|n|s|e|w)$/.test(t)}function k(t){return E(t)&&t>=0&&t<360}function S(t,e){var n=t;if(!Array.isArray(n))return!1;if(!e){var r=function(t){var e=function(t){for(var e=0;e<t.length;e++){var n=t[e].p;if(k(n))return!0;if(M(n))return!1}return!1}(t),n=e?k:M,r={};return function(t){var i=t,o=i.p;if(!n(o))return!1;(!e||i.r<0)&&delete i.r;var a=e?ho(o,i.r):o;return!r[a]&&(r[a]=!0,!0)}}(n);n=n.filter(r)}return n.forEach(_),n}function I(t,e,n){n[e]&&delete t[e]}function L(t){"node"===t.type&&(t.x=t.x||0,t.y=t.y||0)}function O(t){var e=a(t);return n(t,function(t){t.parentId&&delete e[t.parentId]}),e}function R(t,e,r,i){var o={};return n(t,function(t,n){if(P(t,e,r,i))o[n]=t;else{var a=t.parentId;if(a){var s=e[a]||r[a];s&&s._combo&&(s._combo.linkIds=s._combo.linkIds.filter(function(e){return e!==t.id}))}}}),o}function P(t,e,n,r){if(!r&&t.id1===t.id2)return!1;var i=e||{},o=n||{};return!(!o[t.id1]&&!i[t.id1]||!o[t.id2]&&!i[t.id2])}function F(t,e,n){var r={};B(t,e,n,r),D(r,t,n),l(t),"hi"===t&&s()}function D(t,e,n){Object.keys(t).forEach(function(t){var r=n[t];r._combo.linkIds.every(function(t){return n[t][e]})?(r[e]=!0,o(t)):void 0!==r[e]&&(delete r[e],o(t))})}function B(t,e,r,i){n(r,function(n,a){var s=n.parentId;!0!==e[n.id1][t]&&!0!==e[n.id2][t]||!0===n[t]||(n[t]=!0,s&&r[s]&&(i[s]=!0),o(a))})}return{donutDefaults:c,typeCheck:function(t,e){g(t.items,!1,e)},filterNodesAndLinks:function(t,e,n,r){var i=r||{},o=function(t,e,n,r){var i=e||{},o=n||{},a={nodes:{},links:{}};function s(t){return!!("node"===t.type&&t.id in o||"link"===t.type&&t.id in i)}return t&&(a=t.reduce(function(t,e){if(e.id&&!function(t,e){return t.id in e.nodes||t.id in e.links}(e,t)&&!s(e)){if("node"===e.type){var n=!0;r&&i[e.id]&&(n=!1),n&&L(e)}var o="node"===e.type?"nodes":"links";o in t&&(t[o][e.id]=e)}return t},a)),a}(t,e,n,!!i.carefulWithXandY);return r.filterComboNodes&&(o.nodes=O(o.nodes)),o.links=R(o.links,o.nodes,e,i.selfLinks),o},ensureObject:p,ensureTypesInArray:g,setZeroXY:L,hasValidEnds:P,ensureHiddenItemConsistency:function(t,e){F("hi",t,e)},ensureConsistency:F,applyPropertyRuleToComboLinks:D}}function vo(t,e,n,r,o){var a,s,l=i(t);if("circle"===o)a=Math.sin(l)*r,s=-Math.cos(l)*r;else{var u=[Math.atan2(e,n),Math.atan2(e,-n),Math.atan2(-e,-n),Math.atan2(-e,n)],c=void 0;for(c=0;c<u.length;c++)u[c]<0&&(u[c]+=2*Math.PI);l<u[0]||l>u[3]?a=-(s=-n)*Math.tan(l):l<u[1]?(a=e,s=l===Math.PI/2?0:-a/Math.tan(l)):l<u[2]?a=-(s=n)*Math.tan(l):(a=-e,s=l===Math.PI/2*3?0:-a/Math.tan(l))}return{gdx:a,gdy:s}}function mo(t,e){return{gdx:Math.sin(i(t))*e,gdy:-Math.cos(i(t))*e}}function yo(t,e,n,r,i,o,a,s,l,u,c,d,f,h,p){var g,v=0,y=m(u.r);if(-1!==["n","ne","e","se","s","sw","w","nw"].indexOf(u.p))g=function(t,e,n,r,i,o){var a=0,s=0,l="centre";return-1===t.indexOf("n")&&-1===t.indexOf("s")||(s=-n,2===t.length&&(s-=r.dy),-1!==t.indexOf("s")&&(s*=-1)),-1===t.indexOf("e")&&-1===t.indexOf("w")||(a=e,l="right",2===t.length&&(a+=r.dx),-1!==t.indexOf("w")&&(a*=-1,l="left")),!i&&o&&(-1!==["n","s"].indexOf(t)?s*=Math.sqrt(2):-1!==["e","w"].indexOf(t)&&(a*=Math.sqrt(2))),{gdx:a,gdy:s,growDirection:l}}(u.p,n,r,c,l,s);else{var b="box",x=0;s&&(b="circle",x=l?Math.min(n,r):Math.sqrt(2)*n);var w=u.p;(g=y?mo(w,u.r*o):vo(w,n,r,x,b)).growDirection=function(t){var e="centre";return t>0&&t<180?e="right":t>180&&(e="left"),e}(w)}return null!==g.gdx&&(g.gdx<0&&g.gdy<0&&u.e&&(i._sl.e=Math.max(i._sl.e,u.e)),v=Ni(t,e,a+"\u2704"+ho(u.p,u.r),g.gdx,g.gdy,o,u,i,g.growDirection,!0,d,f,h,p)),g.gdy+v}function bo(t,e,n,r,i,o){var a=e+r,s=n+r;"circle"===t?i(Math.min(a,s)):o(-a,-s,a,s)}function xo(t,e,n,r,i,o,a,s,l,u,c,d,f,h){bo(d,e,n,r,function(e){t.circle(0,0,e,i,o,s,l,u,c,a,!1)},function(e,n,r,d){t.rect(e,n,r,d,i,o,s,l,u,c,0,a,f,h)})}function wo(t){return t<0?0:t>1?1:t}function Co(t){return t<0?0:t>1?1:function(t,e,n,r,i,o){var a=3*e,s=3*(r-e)-a,l=1-a-s,u=3*n,c=3*(i-n)-u,d=1-u-c;function f(t){return((l*t+s)*t+a)*t}return function(t,e){var n=function(t,e){var n,r,i,o,u,c;for(i=t,c=0;c<8;c++){if(o=f(i)-t,Math.abs(o)<e)return i;if(u=(3*l*i+2*s)*i+a,Math.abs(u)<1e-6)break;i-=o/u}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=f(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=(r-n)/2+n}return i}(t,e);return((d*n+c)*n+u)*n}(t,1/(200*o))}(t,.25,.01,.25,1,1)}function Ao(t){return Math.atan(t-.5)/(2*Math.atan(.5))+.5}var _o=27,Mo=ai();function Eo(t,e,r){var i=Le,o="\u2704",a={b1:0,b2:0,c:"",c2:void 0,fb:!1,fbc:"",fc:"",ff:"",flow:void 0,fs:0,t1:void 0,t2:void 0,w:0},s={arrows:"normal",combos:{shape:"circle"},fontFamily:void 0,glyphsAlongLink:!1,iconFontFamily:void 0,editcolour:void 0,tight:!1,avoidLabels:!1,selectionFontColour:void 0,selectedNode:null,isNodeSelStyle:!1,selectedLink:null,isLinkSelStyle:!1,labelOffset:0,truncateLabel:!1,defaultOpenComboStyle:lo,labelAlongLink:!1,linkStylePath:"direct"},l={dx:0,dy:0},u={},c={present:{t:!0,t1:!1,t2:!1},pos:{t:{lx:0,ly:0,tdx:1,tdy:0,tangent:0,R:0,signf:1},t1:{lx:0,ly:0,tdx:1,tdy:0,tangent:0,R:0,signf:1},t2:{lx:0,ly:0,tdx:1,tdy:0,tangent:0,R:0,signf:1}}},d={},f={unzoom:1,easingValue:0,resizeRect:null,stillDirty:new Map,useSlowPathRendering:!1,useSlowPathRenderingLastTime:!1,alwaysRedraw:!1};function h(){var t;return null!=(t=s.editcolour)?t:ie.edit}function p(){return s.selectionFontColour||ie.white}function g(e,n,r,i,o,l,u){var h,p=u.isSelected,g=u.isRevealed,m=1;n._edit=null;var y=n.id;p&&s.isLinkSelStyle?v(h=a,s.selectedLink,n):h=n;var b=!1;g&&(b=t.privateTopParentId(n.id1)!==t.privateTopParentId(n.id2)),i.parentId&&(m=x(1,i.parentId,r)),o.parentId&&(m=Math.min(m,x(1,o.parentId,r)));var w=(h.w||1)*m*f.unzoom,C=h.c||ie.midgrey;if(c.present.t=!!(n.t||n.g&&n.g.length||l),c.present.t1=!!n.t1,c.present.t2=!!n.t2,d[n.id])Si(e,!!n.a1,!!n.a2,h.b1||0,h.b2||0,y,i,o,C,h.c2,w,m,h.ls,p,h.flow,c,f,s,n.off||0);else if(n.off||i===o){var A=n.off||0;b&&(A/=m),oo(e,!!n.a1,!!n.a2,h.b1||0,h.b2||0,A,y,i,o,C,h.c2,w,m,h.ls,p,h.flow,c,f,s)}else ki(e,!!n.a1,!!n.a2,h.b1||0,h.b2||0,y,i,o,C,h.c2,w,m,h.ls,p,h.flow,c,f,s);n._x=c.pos.t.lx,n._y=c.pos.t.ly}function v(t,e,n){t.b1=(e.b1||0)>=0?e.b1:n.b1,t.b2=(e.b2||0)>=0?e.b2:n.b2,t.c=e.c||n.c,t.c2=e.c2||n.c2,t.fb=e.fb||n.fb,t.fbc=e.fbc||n.fbc,t.fc=e.fc||n.fc,t.flow=e.flow||n.flow,t.ff=e.ff||n.ff,t.fs=e.fs||n.fs,t.t1=e.t1||n.t1,t.t2=e.t2||n.t2,t.ls=e.ls||n.ls,t.w=e.w||n.w}function y(o,l,g,m,y,C,A,_){var M,E=_.isSelected,k=_.isRevealed,S=1;g._edit=null;var I=g.id,T=E&&!s.isLinkSelStyle,L=T;E&&s.isLinkSelStyle?v(M=a,s.selectedLink,g):M=g,w(M.flow)&&(f.alwaysRedraw=!0);var O=!1;k&&(O=t.privateTopParentId(g.id1)!==t.privateTopParentId(g.id2)),y.parentId&&(S=x(1,y.parentId,m)),C.parentId&&(S=Math.min(S,x(1,C.parentId,m)));var R=(M.w||1)*S*f.unzoom,P=M.c||ie.midgrey,V=0;c.present.t=!!(g.t||g.g&&g.g.length||A),c.present.t1=!!g.t1,c.present.t2=!!g.t2;var F,D=c.present.t||c.present.t1||c.present.t2;if(d[g.id]=function(e,n,r){return("horizontal"===e||"vertical"===e)&&n!==r&&t.privateTopParentId(n)!==t.privateTopParentId(r)}(s.linkStylePath,y.id,C.id),d[g.id])F=Si(l,!!g.a1,!!g.a2,M.b1||0,M.b2||0,I,y,C,P,M.c2,R,S,M.ls,E,M.flow,c,f,s,g.off||0);else if(g.off||y===C){var B=g.off||0;O&&(B/=S),F=oo(l,!!g.a1,!!g.a2,M.b1||0,M.b2||0,B,I,y,C,P,M.c2,R,S,M.ls,E,M.flow,c,f,s)}else F=ki(l,!!g.a1,!!g.a2,M.b1||0,M.b2||0,I,y,C,P,M.c2,R,S,M.ls,E,M.flow,c,f,s);if(g._x=c.pos.t.lx,g._y=c.pos.t.ly,D){var Z=0;n(c.pos,function(t,n){if(c.present[n]){var a=void 0,d=void 0,v=void 0,m=void 0,y=void 0,b=void 0,x=null;if("t"===n||"string"==typeof g[n])b=g[n];else{var w=g[n];b=(x="t1"===n?M.t1:"t2"===n?M.t2:g[n]).t?x.t:w.t,a=x.fb?x.fb:w.fb,d=x.fbc?x.fbc:w.fbc,v=x.fc?x.fc:w.fc,m=x.ff?x.ff:w.ff,y=x.fs?x.fs:w.fs}var C=!1;y=+(y||M.fs||i)*S*f.unzoom,b=b||"",m=m||M.ff||s.fontFamily;var A=v||M.fc||ie.black,_=d||M.fbc||ie.textback,E=!!(void 0!==a?a:M.fb);T&&(A=p(),_=h());var k=Ui(g,b,s.truncateLabel,u.showFullLabel||null,e),O=Wi(k,o,y,E,m,s.fontFamily),R=y+3*f.unzoom;V=R*k.length;var P=0,D=0;k.length>0&&(P-=O[0]/2);for(var B=-(k.length-1)*R/2,G=0;G<k.length;G++){0===G&&(D=B);var z=k[G],j=_i(o,l,z,0,B,I,!0,A,_,E,g,!1,!0,99,O[G],T,y,m,n,1,f.unzoom,s,Z);z.length>0&&!F&&(g._edit={hib:!0}),C=C||j,B+=R}C&&(L=!1);var Y="t"===n?g.g:x&&x.g;ni(Y)&&(function(t,e,n,r,i,o,a,s,l,u,c,d,f,h,p,g){var v,m,y,b=n||[],x=r,w=i,C=0,A=function(t,e){return Di(t,e)*o},_=function(t,e){return 0};if(a)if(c.R&&h.glyphsAlongLink){var M=0,E=c.signf,k=c.R;for(C=c.tangent,y=0;y<b.length-1;y++)m=Di(b[y],b[y+1]),M+=E*Math.asin(m/(2*k));var S=C+M/2,I=2*E*k*Math.sin(M/2);x+=E*I*-Math.sin(S),w+=E*I*Math.cos(S),C+=M,A=function(t,e){v-=E*Math.asin(Di(t,e)/(2*k));var n=-E*Math.sin(v);return Di(t,e)*o*n},_=function(t,e){var n=E*Math.cos(v);return v-=E*Math.asin(Di(t,e)/(2*k)),Di(t,e)*o*n}}else{var T=0;for(y=0;y<b.length-1;y++)T+=Di(b[y],b[y+1])*o;h.glyphsAlongLink?(A=function(t,e){return Di(t,e)*o*c.tdx},_=function(t,e){return Di(t,e)*o*c.tdy},x+=T*c.tdx/2,w+=T*c.tdy/2):x+=T/2}else x-=b.length>0?Fi(b[b.length-1])*o:Fi({});function L(t){v=C;for(var e=b.length-1,n=x,r=w;e>=0;e--)t(b[e],n,r),e>0&&(n-=A(b[e-1],b[e]),r-=_(b[e-1],b[e]))}a&&s&&L(function(e,n,r){t.circle(n,r,Vi(e)*o*1.25,ie.white,-1,d(),!0,l,p,void 0,!1)});var O=0;L(function(n,r,i){var a=l+"\u2704"+O;u&&(a+="-"+u),Ni(t,e,a,r,i,o,n,null,null,!1,f,h,p,g),O++})}(l,o,Y,P,D,S,!C,T,I,"t"===n?null:n,t,h,f,s,Z,r),L=!1)}Z++})}if(L){var G=Math.max(.66*(M.w||0),+(M.fs||i)*f.unzoom/2);l.circle(0,0,G,ie.white,-1,h(),!0,I,0,void 0,!1)}g.bu&&Xi(l,o,I,V/2+4,S,g.bu,!1,f,s,u,e,i,0,r),y.du&&(g._du=!0,b(y,"id1",I,l,R,P,F)),C.du&&(g._du=!0,b(C,"id2",I,l,R,P,F)),g._noHalos||function(t,e,n,r,i,o,a,s,l,u,c){var d,f=t.getLayer(),h="solid",p=uo;t.setLayer(Yr.HALOS);for(var g=!0,v=0;v<p.length;v++)(d=i[p[v]])&&(g=!1,c?Si(t,i.a1||!1,i.a2||!1,i.b1||0,i.b2||0,e,n,r,d.c,void 0,d.w,o,h,a,void 0,void 0,s,l,i.off||0,!1,u):i.off||n===r?oo(t,!1,!1,i.b1||0,i.b2||0,i.off||0,e,n,r,d.c,void 0,d.w,o,h,a,void 0,void 0,s,l,!1,u):ki(t,!1,!1,i.b1||0,i.b2||0,e,n,r,d.c,void 0,d.w,o,h,a,void 0,void 0,s,l,!1,u));i._noHalos=g,t.setLayer(f)}(l,I,y,C,g,S,E,f,s,R,d[g.id]),F||(g._edit={hib:!0})}function b(t,e,n,r,i,a,s){var l=s?i:0,u=r.getAnchorPosition(t.id,0);r.circle(u.x,u.y,1.5*l,a,l,ie.white,!0,n+o+e,-1,void 0,!1)}function x(t,e,n){var r=t,i=n[e];return i&&(r*=i._combo.comboScale,i.parentId&&(r=x(r,i.parentId,n))),r}function C(t,e){for(var n=t,r=n.x,i=n.y;n.parentId;){var o=(n=e[n.parentId])._combo.comboScale;r=n.x+(r-n.x)*o,i=n.y+(i-n.y)*o}return{x:r,y:i}}function A(t,e,n,i,a){var l;if(!n.hi){var u,c,d,p,g,v,y,b,w,A=a.isOpenCombo,M=1,E=n.id,k=ii(n),S=function(t,e,n){return t._combo&&t._combo.open?"rectangle"===n?"box":"circle":e?"circle"===t.sh?t.sh:"box":"box"===t.sh||"circle"===t.sh?t.sh:t.sq?"box":"circle"}(n,k,s.combos.shape),I="box"===S,T=a.isSelected,L=T&&s.isNodeSelStyle,O=T&&!s.isNodeSelStyle,R=s.selectedNode,P=L&&R.b||n.b,V=L&&R.bs||n.bs,F=L&&R.c||n.c,D=(k?1:L&&R.e||n.e||1)*f.unzoom;c=k&&(L&&R.re||n.re)||!1,d=L&&R.u||n.u,p=L&&R.fi||n.fi,g=L&&m(R.bw)?R.bw:n.bw,v=n.w,y=n.h,b=n.x,w=n.y;var B,Z=1,G=!n.donut||I||A?void 0:n.donut;if(A){var z=n.oc;if(z?(g=0,null===z.b?P=void 0:(void 0===z.bw?g=s.defaultOpenComboStyle.bw:z.bw>0&&(g=z.bw),P=z.b||s.defaultOpenComboStyle.b),V=z.bs||s.defaultOpenComboStyle.bs,F=z.c||s.defaultOpenComboStyle.c,c=z.re||s.defaultOpenComboStyle.re,v=z.w||s.defaultOpenComboStyle.w,y=null!=(l=z.h)?l:v):(P=s.defaultOpenComboStyle.b,g=s.defaultOpenComboStyle.bw,V=s.defaultOpenComboStyle.bs,F=s.defaultOpenComboStyle.c,c=s.defaultOpenComboStyle.re,y=v=s.defaultOpenComboStyle.w),L){var j=s.selectedNode.oc;j&&(P=j.b||P,g=j.bw||g,V=j.bs||V,F=j.c||F)}if(p=void 0,d=void 0,M=L&&s.selectedNode.e||n.e||1,D=Z=n._combo.comboScale,bu(n)){if(!I){var Y=Math.max(v,y);v=Y,y=Y}v=n.w+D*(v-n.w),y=n.h+D*(y-n.h)}else{var N=_o*M*2;v=N+D*(v-N),y=N+D*(y-N),I||(y=v)}}if(n.parentId){Z=x(1,n.parentId,i);var U=C(n,i);v*=Z,y*=Z,D*=Z,b=U.x,w=U.y}if(e.setNodeAnchorPosition(n,b,w),!n.du){G?(B=!0,u=G.b,g=D*(G.w+2*G.bw),V=void 0):P&&(void 0===g||g>0)?(B=!0,u=P,g=D*(g||4)):(B=!1,u=ie.white,g=0,V=void 0);var W,X,H=!!F,K=!!d||!(!p||!p.t),J=H?F:ie.white;n._c=0,n._cl=[],n._edit=null,n._sl?n._sl.e=D:n._sl={x:0,y:0,e:D,w:!1},k?(W=v/2,X=y/2):X=W=D*_o;var Q,q,$=W+(I?g:g/2),tt=X+(I?g:g/2);if(G?(Q=D*G.w,q=g/2):(q=.75*(Q=B?g:4*D),!B&&I&&(q+=Q/2)),(K||B||H)&&(function(t,e,n,r,i){bo(i,e,n,r,function(e){t._c=e},function(e,n,r,i){t._cl.push({x1:e,y1:n,x2:r,y2:i})})}(n,$,tt,s.tight?B||H?I?0:g/2:I?q-Q:q-Q/2:I?q:q+Q/2,S),T&&(!O&&c||O))){var et=Nr[e.getLayer()];ui(e,et,a,function(){if(O){var t=h();xo(e,$,tt,q,t,Q,void 0,t,!1,E,0,S,[],!0)}c&&(!A||A&&1===Z)&&(f.resizeRect=e.createDummyShapePrimitive(E,$+q,tt+q,S))})}var nt=I&&O?q:0;if(H&&xo(e,$,tt,nt,u,-1,V,J,H,E,0,S,[nt,I?g/2:0]),K)if(d){var rt=r.getImage(d);si(Mo,rt,W,X),e.image(Mo[0],Mo[1],Mo[2],Mo[3],d,E,0,n.ci?"ci":null,1,!1)}else{var it=k?Math.min(W,X):W;Gi(e,s,t,E,0,0,0,it,p.t,p.c||ie.black,p.ff||s.iconFontFamily,r)}if(B){var ot=G&&0===G.bw?-1:g||-1;ot>=0&&xo(e,$,tt,nt,u,ot,V,J,!1,E,0,S,[nt])}G&&function(t,e,n,r,i){var o=n.bw*r,a=n.w*r;if(a>0){var s=n.v.filter(function(t){return t>0}).length;if(1===s){var l=0;n.v.forEach(function(t,e){t>0&&(l=e)}),t.circle(0,0,e,n.c[l],a,ie.white,!1,i+"do"+l,0,void 0,!1)}else{var u=n.v.reduce(function(t,e){return t+e},0),c=o/e,d=2*Math.PI-c*s,f=-Math.PI/2+c/2;d>0&&n.v.reduce(function(r,l,f){var h=r;if(0===l)return h;var p=h+d*l/u,g=p+c;return 0===o&&(0===f?h-=ao:f!==s-1&&(p+=ao)),t.arc(0,0,e,h,p,n.c[f%n.c.length],void 0,a,i+"do"+f,void 0,!0,0,void 0),g},f)}}}(e,Math.min($,tt),G,D,E+o),_(e,t,g,W,X,n,k,S,B,H,K,O,D,M,E,L,a)}}}function _(t,n,o,a,c,d,g,v,y,b,x,w,C,A,_,M,E){var k,S,I,T,L,R,P,V="circle"===s.combos.shape,F=0,D=0,B=0,Z=ri(d),G=!1,z=E.isOpenCombo,j=d._combo&&d._combo.open?A:C;if(M){var Y=s.selectedNode;S=Y.fb||d.fb,I=Y.fbc||d.fbc,T=Y.fc||d.fc,L=Y.ff||d.ff,R=(Y.fs||d.fs||i)*j,P=Y.tc||d.tc}else S=d.fb,I=d.fbc,T=d.fc,L=d.ff,R=(d.fs||i)*j,P=d.tc;z&&(P=!1);var N=3*j+R/2,U=T||ie.black,W=I||ie.textback;w&&(U=p(),W=h());var X=c+N,H=Ui(d,null,s.truncateLabel,u.showFullLabel||null,e),K=Wi(H,n,R,!!S,L,s.fontFamily),J=R+3,Q=J,q=J*H.length;H.length>0&&(F-=K[0]/2);var $=x||y||b,tt=O(P)?!!P:!x&&!g;if($)tt&&(X=-Q/2*(H.length-1));else{if(Z){var et=Fi((ut=d.g)[ut.length-1])*j;F=et,B+=K[0]/2+et}X=0}if(H.length>0&&(D=X),y&&!tt&&(X+=o-3*j),$){var nt=3,rt=3;l.dx=0,l.dy=x?-8:0,g||"circle"!==v||(nt+=2,rt+=2,x&&(l.dx+=2,l.dy+=2)),g&&!z&&(nt++,rt++);var it=nt*j,ot=rt*j;if(l.dx*=j,l.dy*=j,z&&V){var at=((d.oc.w||s.defaultOpenComboStyle.w||0)+(d.oc.bw||s.defaultOpenComboStyle.bw||0))/2/Math.sqrt(2),st=d.oc.w/2/_o;d._sl.e=a/_o,d._sl.x=-at*d._sl.e/st-it/A,d._sl.y=-at*d._sl.e/st-ot/A}else z&&"rectangle"===s.combos.shape&&(d._sl.e=1),d._sl.x=it-l.dx-a,d._sl.y=ot-l.dy-c;if(Z){var lt="circle"===v,ut=d.g;for(k=0;k<ut.length;k++){var ct=yo(t,n,a-it,c-ot,d,C,_,lt,g,ut[k],l,f,s,0,r),dt=m(ut[k].r);tt||dt||(X=Math.max(X,ct+N))}}}for(var ft=0;ft<H.length;ft++){var ht=_i(n,t,H[ft],B,X,_,!0,U,W,!!S,d,!1,!0,99,K[ft],w,R,L||s.fontFamily,null,j,f.unzoom,s,0);G=G||ht,X+=Q}if(!$){var pt=!d.t||!G;!function(t,e,n,r,i,o,a,s,l,u,c,d,f,h,p,g){var v=n||[],m=r;if(a){for(var y=0,b=0;b<v.length-1;b++)y+=Di(v[b],v[b+1])*o;m+=y/2}else m-=v.length>0?Fi(v[v.length-1])*o:Fi({});if(u){var x=m;if(v.length>0){C(function(t,e){x=e});var w=v[0].e||1;x-=w*o*34/2,u._sl.e*=w}u._sl.x=x,u._sl.y=i,u._sl.w=!0}function C(t){for(var e=v.length-1,n=m;e>=0;e--)t(v[e],n),e>0&&(n-=Di(v[e-1],v[e])*o)}if(a&&s){var A=Nr[t.getLayer()];ui(t,A,p,function(){C(function(e,n){t.circle(n,i,Vi(e)*o*1.25,ie.white,-1,c(),!0,l,0,void 0,!1)})})}var _=0;C(function(n,r){Ni(t,e,l+"\u2704"+_,r,i,o,n,u,null,!1,d,f,0,g),_++})}(t,n,d.g||null,pt?0:F,D,j,pt,w,_,d,h,f,s,0,E,r)}if(!g&&(!d._noHalos||M)&&ui(t,Yr.HALOS,E,function(){!function(t,e,n,r,i,o){for(var a,s=!0,l=0;l<co.length;l++){var u=co[l];if(a=i&&o.selectedNode[u]||r[u]){s=!1;var c=e+"\u2704"+u,d=a.r*n,f=a.w*n;f/2>=d?t.circle(0,0,d+f/2,ie.white,-1,a.c,!0,c,0,void 0,!1):t.circle(0,0,d,a.c,f,ie.white,!1,c,0,void 0,!1)}}r._noHalos=s&&!i}(t,_,j,d,M,s)}),d.bu){var gt=0;$?gt=c:q>0?gt=q/2+4:ri(d)&&(gt=13*j),Xi(t,n,_,gt,j,d.bu,z,f,s,u,e,i,0,r)}}return{animated:function(){return f.stillDirty.size>0},contains:function(t,e){var r=[],i=T(t,{sh:"box",x:0,y:0});function o(t,e){t&&r.push(e)}if(ii(i))if("circle"===i.sh){var a=Math.min(i.w,i.h)/2;n(e,function(t){if(ii(t)){var e=t.w,n=t.h;o("circle"===t.sh?Ne(i.x,i.y,a,t.x,t.y,Math.min(e,n)/2):function(t,e,n,r,i,o,a){var s=n*n;return(t-r)*(t-r)+(e-i)*(e-i)<s&&(t-r)*(t-r)+(e-a)*(e-a)<s&&(t-o)*(t-o)+(e-i)*(e-i)<s&&(t-o)*(t-o)+(e-a)*(e-a)<s}(i.x,i.y,a,t.x-e/2,t.y-n/2,t.x+e/2,t.y+n/2),t.id)}else o(Ne(i.x,i.y,a,t.x,t.y),t.id)})}else{var s={x1:i.x-i.w/2,y1:i.y-i.h/2,x2:i.x+i.w/2,y2:i.y+i.h/2};n(e,function(t){if(ii(t)){var e=t.w,n=t.h;if("circle"===t.sh){var r=Math.min(e,n)/2;o(Ue(s,t.x-r,t.y-r,t.x+r,t.y+r),t.id)}else o(Ue(s,t.x-e/2,t.y-n/2,t.x+e/2,t.y+n/2),t.id)}else o(Ye(s,t.x,t.y),t.id)})}return r},currentArrowLength:function(t,e){return $r(t,e,f.unzoom,s.arrows)},editColour:h,fontSize:i,generate:function(e,n,r,i,o,a,l,u,c,d,h,p){var v,m,b,x,w={isSelected:!1,isOpenCombo:!1,isInCombo:!1,isInBackground:!1,isTransient:!1,isParentTransient:!1,isRevealed:!1,isParentRevealed:!1};f.useSlowPathRendering=f.useSlowPathRenderingLastTime,f.useSlowPathRenderingLastTime=!1;var _=p&&!f.useSlowPathRendering&&!r.allDirty,M=new Set;if(u.forEach(function(e){var r=n[e];if(r){var i=t.privateFirstVisibleItemInAncestry(r.id1),o=t.privateFirstVisibleItemInAncestry(r.id2);!i||i._combo&&i._combo.open||M.add(i.id),!o||o._combo&&o._combo.open||M.add(o.id)}}),f.resizeRect){var E=r.dirty.get(f.resizeRect.id);(r.allDirty||2===E)&&(f.resizeRect=null)}function k(t,r){var i=t.parentId,o=!1;if(i){if(!r&&l(i)||c(i))return!0;var a=e[i]||n[i];a&&a.parentId&&(o=k(a,!1))}i=t.id;var s=r&&u.has(i)||M.has(i)||d(i),f=!r&&l(i),h=!r&&c(i);return o||!s&&(f||h)}function S(n){_=!1;var r,a,s,u=[],c=!1,f=!!n._combo&&n._combo.open,h=!(!n.parentId&&!f);if(w.isOpenCombo=f,w.isInBackground=!!n.bg,w.isSelected=l(n.id),w.isInCombo=!!n.parentId,M.has(n.id)||d(n.id)||n.du?(w.isRevealed=!0,M.add(n.id),u.push(Yr.REVEALED)):w.isRevealed=!1,h){var p=t.privateGetAncestryIds(n.id);u.push(Yr.COMBOS),r=!1;for(var g=0;g<p.length-1;g++){var v=p[g];u.push(i.createComboSegment(v));var m=e[v];r||(r=m&&m._combo&&k(m,!1)),w.isRevealed||a||!(a=M.has(v)||d(v))||(w.isRevealed=!0,M.add(n.id),u.unshift(Yr.REVEALED))}w.isParentTransient=!!r,w.isParentRevealed=!!a,f&&u.push(i.createComboSegment(n.id))}else u.push(Yr.MAIN),w.isParentTransient=!1,w.isParentRevealed=!1;w.isRevealed||(c=k(n,!1)&&(!ii(n)||h))&&u.unshift(Yr.TRANSIENT),w.isTransient=c,i.startGeneratingFor(n,_,w.isInCombo||w.isOpenCombo),f?s=Yr.COMBO_CONTAINER:(s=ii(n)?Yr.SHAPES:Yr.NODES,u.push(n.bg?Yr.BG:Yr.FG)),h&&!i.hasPath(u)&&i.createItemLayersAt(u),i.setLayerPath(u),i.setLayer(s),A(o,i,n,e,w)}function I(r){_=!1;var a,s,c,f=[],p=!1,g=r.parentId&&(r._combo||e[r.parentId]),v=r.parentId&&n[r.parentId];if(w.isInBackground=!!r.bg,w.isSelected=l(r.id),w.isInCombo=!!r.parentId,w.isRevealed=u.has(r.id)||d(r.id)||M.has(r.parentId)||r._du,w.isRevealed||((c=k(r,!0))?(f.push(Yr.TRANSIENT),w.isTransient=!0):w.isTransient=!1),i.startGeneratingFor(r,_,w.isInCombo),a=e[r.id1],s=e[r.id2],w.isRevealed){if(a=t.privateFirstVisibleItemInAncestry(r.id1),s=t.privateFirstVisibleItemInAncestry(r.id2),!a||!s||a===s&&a!==e[r.id1])return;f.push(Yr.REVEALED)}if(a&&s){if(g){for(var m=t.privateGetAncestryIds(r.id),b=[],x=v?2:1,C=0;C<m.length-x;C++){var A=m[C];if(b.push(i.createComboSegment(A)),!c){var E=e[A];p||w.isRevealed||(p=E&&E._combo&&k(E,!1)),p&&f.unshift(Yr.TRANSIENT)}}w.isParentTransient=p,b.length>0?(f.push(Yr.COMBOS),f=f.concat(b),i.hasPath(f)||i.createItemLayersAt(f)):f.push(Yr.MAIN)}else f.push(Yr.MAIN);f.push(r.bg?Yr.BG:Yr.FG),i.setLayerPath(f),i.setLayer(Yr.LINKS),y(o,i,r,e,a,s,h,w)}}function T(n){var r;w.isInBackground=!!n.bg,w.isSelected=l(n.id),w.isInCombo=!!n.parentId,w.isRevealed=u.has(n.id)||d(n.id)||M.has(n.parentId),w.isRevealed||(r=k(n,!0),w.isTransient=r),i.startGeneratingFor(n,!0,w.isInCombo);var o=e[n.id1],a=e[n.id2];w.isRevealed&&(o=t.privateFirstVisibleItemInAncestry(n.id1),a=t.privateFirstVisibleItemInAncestry(n.id2),!o||!a||o===a&&o!==e[n.id1])||g(i,n,e,o,a,h,w)}function L(t){var e=n[t];!function(t){return t.parentId||s.glyphsAlongLink&&function(t){return!!ni(t.g)||!(!t.t1||!ni(t.t1.g))||!(!t.t2||!ni(t.t2.g))}(t)||t._du}(e)?T(e):I(e)}if(f.stillDirty.clear(),f.easingValue=Ao(Date.now()%1e3/1e3),f.unzoom=a.getUnzoom(),r.allDirty){for(i.removeAllItems(),f.alwaysRedraw=!1,x=Object.keys(e),b=Object.keys(n),v=0,m=x.length;v<m;v++)S(e[x[v]]);for(v=0,m=b.length;v<m;v++)I(n[b[v]])}else{var O=[],R=[];if(r.dirty.forEach(function(t,r){var o=e[r];if(o)if(o.parentId||o._combo)S(o);else if(1===t)if(o.parentId){var a=C(o,e);i.setNodeAnchorPosition(o,a.x,a.y)}else i.setNodeAnchorPosition(o,o.x,o.y);else S(o);else n[r]?2===t?O.push(r):R.push(r):(_=!1,i.removeItem(r))}),r.allLinksMoved)for(v=0,m=(b=Object.keys(n)).length;v<m;v++)L(b[v]);else if(r.allLinksDirty)for(f.alwaysRedraw=!1,v=0,m=(b=Object.keys(n)).length;v<m;v++)I(n[b[v]]);else O.forEach(function(t){I(n[t])}),R.forEach(L)}return{stillDirty:f.stillDirty,rebuildAll:f.useSlowPathRendering||!_}},generateHandles:function(t,e,n,r){var i=t.getLayerPath();t.setLayerPath(null),t.startGeneratingForExtras(),t.setLayer(Yr.HANDLES),f.resizeRect&&1===r.size&&(Ke(t,0,n,f.resizeRect,1,f.resizeRect.id,h(),o),Ke(t,0,n,f.resizeRect,4,f.resizeRect.id,ie.transparent,o)),t.setLayerPath(i)},getAlwaysRedraw:function(){return f.alwaysRedraw},setOptions:function(t,e){s.arrows=t.arrows,s.combos=t.combos,m(t.labelOffset)&&(s.labelOffset=t.labelOffset);var n=po(t.truncateLabels);s.truncateLabel=void 0!==n&&n,s.editcolour=t.selectionColour,s.fontFamily=t.fontFamily,s.glyphsAlongLink=!t.linkStyle.inline&&"along"===t.linkStyle.glyphs,s.iconFontFamily=t.iconFontFamily,s.avoidLabels=!!t.linkEnds.avoidLabels,s.tight="loose"!==t.linkEnds.spacing,s.selectionFontColour=t.selectionFontColour,s.selectedNode=t.selectedNode||null,s.isNodeSelStyle=w(t.selectedNode),s.selectedLink=t.selectedLink||null,s.isLinkSelStyle=w(t.selectedLink),s.labelAlongLink=!!t.linkStyle.inline,s.linkStylePath=e?t.linkStyle.path:"direct"},setSpecialOptions:function(t,e){u[t]=e}}}var ko=1e-6,So=22e-17;function Io(t){return function(t){return"number"==typeof t&&isFinite(t)}(t)&&(0|t)===t}function To(t,e){return Math.sqrt(t*t+e*e)}function Lo(t,e,n,r){return To(t-n,e-r)}function Oo(t,e,n){return t<e?e:t>n?n:t}function Ro(t,e,n){return n*t+(1-n)*e}var Po=2147483647;function Vo(t){var e=Math.round(t)%Po;function n(){var t=48271*(e%44488|0)-3399*(e/44488|0);return(e=t>0?t:t+Po)-1}return n.reset=function(t){return e=t},n.state=function(){return e},n}var Fo,Do=function(){var t=function(){throw"Invalid operation"},e=function(){return Math.random()*Po|0};return e.reset=t,e.state=t,e}();function Bo(){return Do}function Zo(t,e){function n(){this.constructor=t}Object.setPrototypeOf(t,e),null!==e?(n.prototype=e.prototype,t.prototype=new n):t.prototype=Object.create(t)}function Go(){return{next:function(){return Qo},size:0}}function zo(t){var e={value:t,done:!1};return{next:function(){var t=e;return e=Qo,t},size:1}}function jo(t,e){var n=0,r={value:null,done:!1},i={next:function(){var i=t.next();return i.done?r.done=!0:r.value=e(i.value,n++),r},size:0};return"size"in t&&(i.size=t.size),i}function Yo(t,e){for(var n=0,r=t.next();!r.done;n++,r=t.next())e(r.value,n)}function No(t,e,n){for(var r=t.next(),i=0;!r.done;r=t.next(),i++)n=e(n,r.value,i);return n}function Uo(t,e){return{next:function(){for(;;){var n=t.next();if(n.done)return n;if(e(n.value))return n}}}}function Wo(t,e){var n={value:t-1,done:!1};return{next:function(){return++n.value>=e&&(n.done=!0),n},size:e-t}}function Xo(t,e){return void 0!==e?function(t,e){var n={value:null,done:!1,i:-1};return{next:function(){return n.i++,n.i<t.length?n.value=e(t[n.i],n.i):n.done=!0,n},size:t.length}}(t,e):function(t){var e={value:null,done:!1,i:-1};return{next:function(){return e.i++,e.i<t.length?e.value=t[e.i]:e.done=!0,e},size:t.length}}(t)}function Ho(t,e,n){return"function"==typeof e?function(t,e,n){void 0===n&&(n=[]);for(var r=t.next(),i=0;!r.done;r=t.next(),i++)n.push(e(r.value,i));return n}(t,e,n):function(t,e){void 0===e&&(e=[]);for(var n=t.next();!n.done;n=t.next())e.push(n.value);return e}(t,e)}function Ko(t,e){void 0===e&&(e=[null,null]);var n={value:e,done:!1},r={next:function(){var r=t.next();return r.done?(n.done=!0,n):(e[0]=r.value,(r=t.next()).done?(n.done=!0,n):(e[1]=r.value,n))},size:0};return"size"in t&&(r.size=Math.floor(t.size/2)),r}function Jo(t,e){for(var n=t.next();!n.done;n=t.next())e=n.value;return e}!function(t){t.uniform=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=1),void 0===n&&(n=Bo());var r=e-t,i=function(){return t+r*(n()/Po)};return i.rng=n,i},t.uniformi32=function(t,e,n){void 0===n&&(n=Bo());var r=e-t+1,i=function(){return Math.floor(t+r*(n()/Po))};return i.rng=n,i},t.gaussian=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=1),void 0===n&&(n=Bo());var r=2/Po,i=-1,o=!1,a=function(){if(o)return o=!1,t+e*i;var a,s,l;do{l=(a=n()*r-1)*a+(s=n()*r-1)*s}while(l>=1||0===l);var u=Math.sqrt(-2*Math.log(l)/l);return i=s*u,o=!0,t+e*a*u};return a.rng=n,a}}(Fo||(Fo={}));var Qo={value:null,done:!0},qo={__proto__:null,empty:Go,single:zo,map:jo,forEach:Yo,take:function(t,e){if(0===e)return Go();var n={value:null,done:!0};return{next:function(){return e-- >0?t.next():n}}},flatMap:function(t,e){var n=Go(),r=0;return{next:function(){for(var i=n.next();i.done;){var o=t.next();if(o.done)break;i=(n=e(o.value,r++)).next()}return i}}},reduce:No,filter:Uo,fromRange:Wo,from:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Xo(t)},fromArray:Xo,toArray:Ho,pairs:Ko,last:Jo,first:function(t,e){var n=t.next();return n.done?e:n.value},withSize:function(t,e){return{next:function(){return t.next()},size:e}}};function $o(t){return t.buffer&&t.buffer instanceof ArrayBuffer}function ta(t,e){for(var n=0;n<t.length;n++)t[n]=e}function ea(t,e){return t<e}function na(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ra(t,e){void 0===e&&(e=0);for(var n=e,r=0,i=t.length;r<i;r++)t[r]=n++}function ia(t,e){for(var n=0;n<e.length;n++)if(e[n]<0)e[n]=~e[n];else for(var r=n,i=e[n];i!==n;)na(t,r,i),i=e[r=i],e[r]=~i}var oa,aa,sa=function(){function t(t,e,n,r,i,o){void 0===r&&(r=oa.sizeFromShape(t)),void 0===i&&(i=0),void 0===o&&(o=oa.computeStrides(t)),this.shape=t,this.dtype=e,this.values=n,this.size=r,this.offset=i,this.strides=o,this.rank=this.shape.length,this.lastIndex=oa.lastIndex(this),this.lastStride=this.strides[this.rank-1],this.contiguous=this.lastIndex-i==r-1}return t.prototype.getNextIndex=function(t){return t<0?this.offset:(t+=this.lastStride)>this.lastIndex?-1:t},t}(),la=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rankType=0,e}return Zo(e,t),e.prototype.get=function(){return this.values[this.index()]},e.prototype.set=function(t){this.values[this.index()]=t},e.prototype.index=function(){return 0|this.offset},e}(sa),ua=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,r,i,o,a)||this;return s.rankType=1,s.stride0=s.strides[0],s}return Zo(e,t),e.prototype.get=function(t){return this.values[this.index(t)]},e.prototype.set=function(t,e){this.values[this.index(t)]=e},e.prototype.index=function(t){return this.offset+t*this.stride0|0},e}(sa),ca=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,r,i,o,a)||this;return s.rankType=2,s.stride0=s.strides[0],s.stride1=s.strides[1],s}return Zo(e,t),e.prototype.get=function(t,e){return this.values[this.index(t,e)]},e.prototype.set=function(t,e,n){this.values[this.index(t,e)]=n},e.prototype.index=function(t,e){return this.offset+t*this.stride0+e*this.stride1|0},e}(sa),da=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,r,i,o,a)||this;return s.rankType=3,s.stride0=s.strides[0],s.stride1=s.strides[1],s.stride2=s.strides[2],s}return Zo(e,t),e.prototype.get=function(t,e,n){return this.values[this.index(t,e,n)]},e.prototype.set=function(t,e,n,r){this.values[this.index(t,e,n)]=r},e.prototype.index=function(t,e,n){return this.offset+t*this.stride0+e*this.stride1+n*this.stride2|0},e}(sa);function fa(t,e,n){null==e&&(e=oa.inferShape(t)),null==n&&(n=oa.inferDType(t,"f32"));var r=$o(t)||Array.isArray(t)?t:[t],i=oa.asTypedArray(r,n);return new(oa.getViewCtor(e.length))(e,n,i)}function ha(t,e,n){void 0===e&&(e="f32");var r=oa.sizeFromShape(t),i=pa(e,r,n);return new(oa.getViewCtor(t.length))(t,e,i,r)}function pa(t,e,n){var r;switch(t){case"f64":r=new Float64Array(e);break;case"f32":r=new Float32Array(e);break;case"i32":r=new Int32Array(e);break;default:oa.throwUnknownDType(t)}return void 0!==n&&ta(r,n),r}function ga(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=[],i=[],o=t.offset,a=0,s=e.length;a<s;a++){var l=t.strides[a];Io(e[a])?o+=l*e[a]:(i.push(t.shape[a]),r.push(l))}return new(oa.getViewCtor(i.length))(i,t.dtype,t.values,oa.sizeFromShape(i),o,r)}function va(t,e){void 0===e&&(e=0);for(var n=t.rank,r=t.shape,i=[],o=0;o<n;o++)i.push("all");var a=[];for(o=0;o<r[e];o++){i[e]=o;var s=[t].concat(i);a.push(ga.apply(null,s))}return a}function ma(t,e,n,r){var i=oa.getViewCtor(t.rank),o=e.length;switch(void 0!==r?o=Math.min(r.length,o):r=pa(t.dtype,o),t.rank){case 0:return r[0]=t.get(),new i([1],t.dtype,r);case 1:for(var a=0;a<o;a++){var s=t.get(e[a]);r[a]=s}return new i([o],t.dtype,r)}throw new Error("Rank not impl")}function ya(t,e){for(var n=-1,r=t.values;(n=t.getNextIndex(n))>=0;)r[n]=e}function ba(t,e){for(var n=-1,r=0,i=t.values;(n=t.getNextIndex(n))>=0;)i[n]=e(i[n],r++)}function xa(t,e){void 0===e&&(e=[0,0]);for(var n=Number.MAX_VALUE,r=Number.MIN_VALUE,i=-1,o=t.values;(i=t.getNextIndex(i))>=0;)o[i]>r&&(r=o[i]),o[i]<n&&(n=o[i]);return e[0]=n,e[1]=r,e}function wa(t){return Ca(t)[1]}function Ca(t,e){void 0===e&&(e=0);var n=t.size;if(0===n)return[NaN,NaN];for(var r=0,i=0,o=1,a=t.values,s=-1;(s=t.getNextIndex(s))>=0;){var l=a[s],u=r;i+=(l-(r+=(l-r)/o))*(l-u),o++}return n>1?[Math.sqrt(i/(t.size-e)),r]:[0,r]}!function(t){function e(t){throw new Error("Unknown data type "+t)}function n(t,e){if(void 0===e&&(e=[]),Array.isArray(t))for(var r=0,i=t;r<i.length;r++)n(i[r],e);else e.push(t);return e}function r(t,e){return t instanceof Float32Array?"f32":t instanceof Int32Array?"i32":t instanceof Float64Array?"f64":e}function i(t,n){switch(n){case"f32":return new Float32Array(t);case"i32":return new Int32Array(t);case"f64":return new Float64Array(t)}return e(n),null}t.getViewCtor=function(t){switch(t){case 0:return la;case 1:return ua;case 2:return ca;case 3:return da}throw new Error(t+" views not implemented")},t.sizeFromShape=function(t){if(0===t.length)return 1;for(var e=t[0],n=1;n<t.length;n++)e*=t[n];return e},t.lastIndex=function(t){for(var e=t.rank,n=t.offset,r=0;r<e;r++)n+=t.strides[r]*(t.shape[r]-1);return n},t.throwUnknownDType=e,t.computeStrides=function(t){var e=t.length,n=new Array(e);n[e-1]=1;for(var r=e-2;r>=0;--r)n[r]=n[r+1]*t[r+1];return n},t.inferShape=function(t){if($o(t))return[t.length];if(!Array.isArray(t))return[];for(var e=[];t instanceof Array;)e.push(t.length),t=t[0];return e},t.inferDType=r,t.asTypedArray=function(t,e){return r(t)===e?t:i(Array.isArray(t)?n(t):t,e)},t.copyToTypedArray=i}(oa||(oa={})),function(t){function e(t){return t.br.x-t.tl.x}function n(t){return t.br.y-t.tl.y}function r(t,e,n,r){if(t>e){var i=e;e=t,t=i}return n>r&&(i=r,r=n,n=i),{tl:{x:t,y:n},br:{x:e,y:r}}}function i(t,e,n,r){return!(e+r>t.br.x||e-r<t.tl.x||n+r>t.br.y||n-r<t.tl.y)}function o(t,r,i){a(t,r-e(t),i-n(t))}function a(t,e,n){var r=.5*e,i=.5*n;t.tl.x-=r,t.tl.y-=i,t.br.x+=r,t.br.y+=i}t.copy=function(t){return r(t.tl.x,t.br.x,t.tl.y,t.br.y)},t.copyTo=function(t,e){e.tl.x=t.tl.x,e.tl.y=t.tl.y,e.br.x=t.br.x,e.br.y=t.br.y},t.width=e,t.height=n,t.create=r,t.moveTo=function(t,r,i){var o=e(t),a=n(t);t.tl.x=r,t.tl.y=i,t.br.x=r+o,t.br.y=i+a},t.center=function(t,e){return void 0===e&&(e={x:0,y:0}),e.x=t.tl.x+.5*(t.br.x-t.tl.x),e.y=t.tl.y+.5*(t.br.y-t.tl.y),e},t.equals=function(t,e){return t.tl.x===e.tl.x&&t.tl.y===e.tl.y&&t.br.x===e.br.x&&t.br.y===e.br.y},t.contains=i,t.containsPoint=function(t,e){return i(t,e.x,e.y,0)},t.resize=o,t.resizeBy=a,t.scale=function(t,r,i){o(t,e(t)*r,n(t)*i)},t.intersects=function(t,e){return t.tl.x<e.br.x&&t.br.x>e.tl.x&&t.tl.y<e.br.y&&t.br.y>e.tl.y},t.union=function(t,e){return r(Math.min(t.tl.x,e.tl.x),Math.max(t.br.x,e.br.x),Math.min(t.tl.y,e.tl.y),Math.max(t.br.y,e.br.y))}}(aa||(aa={}));var Aa=function(t,e,n,r){this.parentIdx=t,this.quad=e,this.beginIdx=n,this.endIdx=r,this.firstChild=-1};function _a(t,e,n,r,i){return e[t[r]]<=i?r:function(t,e,n,r,i){void 0===n&&(n=ea),void 0===r&&(r=0),void 0===i&&(i=t.length-r);for(var o,a=0;i>0;)o=0|r,n(t[o+=a=i>>1],e)?(r=++o,i-=a+1):i=a;return r}(t,i+1,function(t,n){return e[t]<n},n,r-n+1)-1}var Ma=new Uint32Array([1431655765,858993459,252645135,16711935]),Ea=function(){function t(t,e){void 0===e&&(e=2),this.maxDepth=t,this.splitThreshold=e,this.N=0,this.aabb=aa.create(0,1,0,1),this.zorder=null,this.tree=[],this.path=new ka(this.tree,this.aabb)}return t.prototype.build=function(e,n,r){var i=e.size,o=this.zorder;if(void 0!==r)this.aabb=aa.copy(r);else{var a=xa(e),s=a[0],l=a[1],u=xa(n);this.aabb=r=aa.create(s,l,u[0],u[1])}null!==o&&o.length===i||ra(o=this.zorder=new Int32Array(i));for(var c=aa.width(r),d=aa.height(r),f=new Uint32Array(i),h=c>0?65535/c:0,p=d>0?65535/d:0,g=r.tl.x,v=r.tl.y,m=function(t,e){return function(t,e){return t=((t=((t=((t=(t|t<<8)&Ma[3])|t<<4)&Ma[2])|t<<2)&Ma[1])|t<<1)&Ma[0],e=((e=((e=((e=(e|e<<8)&Ma[3])|e<<4)&Ma[2])|e<<2)&Ma[1])|e<<1)&Ma[0],(t|(e<<=1))>>>0}((t-g)*h>>>0,(e-v)*p>>>0)},y=0;y<i;){var b=o[y],x=e.get(b),w=n.get(b);aa.contains(r,x,w,0)?(f[b]=m(x,w),y++):na(o,y,--i)}this.N=i,void 0===this.maxDepth&&(this.maxDepth=Oo(Math.ceil(Math.log(i+1)),1,t.MAX_DEPTH));var C=o.subarray(0,this.N);Array.prototype.sort.call(C,function(t,e){return f[t]-f[e]}),this.buildTree(r,C,f,this.maxDepth,this.splitThreshold,m)},t.prototype.buildTree=function(e,n,r,i,o,a){var s=n.length,l={x:0,y:0},u=aa.copy(e),c=this.tree,d=this.path;c.length=0,c.push(new Aa(-1,-1,0,s-1)),d.resize(u);for(var f=0;f>=0;){var h=c[f];if(h.firstChild<0&&h.endIdx-h.beginIdx>=o-1&&d.depth<i){d.copyTo(u),aa.center(u,l);var p=a(l.x,l.y),g=a(u.br.x,l.y),v=a(l.x,u.br.y),m=h.beginIdx,y=h.endIdx,b=_a(n,r,m,y,p),x=1/0;b>=m&&(x=c.push(new Aa(f,0,m,b))-1,m=b+1);var w=_a(n,r,m,y,g);w>=m&&(x=Math.min(x,c.push(new Aa(f,1,m,w))-1),m=w+1);var C=_a(n,r,m,y,v);C>=m&&(x=Math.min(x,c.push(new Aa(f,2,m,C))-1),m=C+1),y>=m&&(x=Math.min(x,c.push(new Aa(f,3,m,y))-1)),h.firstChild=x}f=t.nextDFS(c,d,!0)}},t.prototype.traverse=function(){if(null===this.tree||0===this.tree.length)return Go();var e=this.tree,n=aa.copy(this.aabb),r=new ka(this.tree,n),i=0,o={value:null,done:!1};return{next:function(){if(i>=0){var a=e[i];r.copyTo(n),o.value={id:i,aabb:n,count:a.endIdx-a.beginIdx+1},i=t.nextDFS(e,r,!0)}else o.done=!0;return o},size:e.length}},t.nextDFS=function(t,e,n){var r=e.currentIdx,i=n?t[r].firstChild:-1;if(i>=0)return e.descend(i),i;var o=t.length;for(r=t[r].parentIdx;r>=0;){if((i=e.pop()+1)<o&&t[i].parentIdx===r)return e.descend(i),i;r=t[r].parentIdx}return-1},t.MAX_DEPTH=15,t}(),ka=function(){function t(t,e){this.tree=t,this.path=new Int32Array(Ea.MAX_DEPTH),this.resize(e)}return t.prototype.resize=function(t){this.cxcy0=aa.center(t),this.w0=aa.width(t),this.h0=aa.height(t),this.hypot0=To(this.w0,this.h0),this.reset()},t.prototype.reset=function(){this.hypot=this.hypot0,this.currentIdx=0,this.depth=0},t.prototype.descend=function(t){this.hypot*=.5,this.path[++this.depth]=t,this.currentIdx=t},t.prototype.pop=function(){this.hypot*=2;var t=this.depth--,e=this.path[t];return this.currentIdx=this.path[t-1],e},t.prototype.copyTo=function(t){for(var e=t.tl,n=t.br,r=this.w0,i=this.h0,o=this.cxcy0,a=o.x,s=o.y,l=0,u=this.depth,c=this.tree,d=this.path;l<=u;l++)switch(r*=.5,i*=.5,c[d[l]].quad){case 0:a-=r,s-=i;break;case 1:a+=r,s-=i;break;case 2:a-=r,s+=i;break;case 3:a+=r,s+=i}e.x=a-r,e.y=s-i,n.x=a+r,n.y=s+i},t}();function Sa(t,e,n){return t>=e&&t<=n}var Ia=function(t){function e(e,n,r){void 0===e&&(e="f32");var i=t.call(this,n,r)||this;return i.dtype=e,i.outboundExpansions=null,i}return Zo(e,t),e.prototype.buildXYM=function(t,e,n,r){var i=r.length;(void 0===this.zxs||this.zxs.length<i)&&(this.zxs=pa(this.dtype,i),this.zys=pa(this.dtype,i),this.zms=pa(this.dtype,i));for(var o=this,a=o.zxs,s=o.zys,l=o.zms,u=0;u<i;u++){var c=r[u];a[u]=t.get(c),s[u]=e.get(c),l[u]=n.get(c)}this.index=r},e.prototype.build=function(e,n,r,i){t.prototype.build.call(this,e,n,r),this.buildXYM(e,n,i,this.zorder),this.computeExpansions()},e.prototype.buildSubset=function(e,n,r,i,o){this.buildXYM(n,r,o,e),t.prototype.build.call(this,fa(this.zxs),fa(this.zys),i);var a=this.zorder;ia(this.zxs,a),ia(this.zys,a),ia(this.zms,a),ia(e,a),this.computeExpansions()},e.prototype.computeExpansions=function(){for(var t=this,e=t.tree,n=t.N,r=t.zxs,i=t.zys,o=t.zms,a=this.outboundExpansions=ha([e.length,3],this.dtype),s=a.values,l=e.length-1,u=n;u>0&&l>=0;l--){var c=e[l];if(!(c.firstChild>=0)){for(var d=0,f=0,h=0,p=c.endIdx;p>=c.beginIdx;p--){var g=o[p];f+=r[p]*g,h+=i[p]*g,d+=g,u--}for(var v=l;v>=0;)s[m=a.index(v,0)]+=f,s[m+1]+=h,s[m+2]+=d,c=e[v=c.parentIdx]}}for(l=e.length-1;l>=0;l--){var m;g=1/s[(m=a.index(l,0))+2],s[m]*=g,s[m+1]*=g}},e.prototype.runOnPoint=function(t,e,n,r,i,o){void 0===o&&(o=.5),null!==this.outboundExpansions&&0!==this.outboundExpansions.size&&this.runOnPointInternal(t,e,n,r,this.path,i,o,-1)},e.prototype.runOnPoints=function(t,e,n,r){if(void 0===r&&(r=.5),null!==this.outboundExpansions&&0!==this.outboundExpansions.size)for(var i=this,o=i.zxs,a=i.zys,s=i.zms,l=i.N,u=i.index,c=i.path,d=e.values,f=n.values,h=0;h<l;h++){var p={x:0,y:0};this.runOnPointInternal(t,o[h],a[h],s[h],c,p,r,h);var g=u[h];d[e.index(g)]+=p.x,f[n.index(g)]+=p.y}},e.prototype.runOnPointInternal=function(t,e,n,r,i,o,a,s){var l=this,u=l.tree,c=l.zxs,d=l.zys,f=l.zms,h=l.outboundExpansions;i.reset();for(var p=0;p>=0;){var g=u[p],v=g.beginIdx,m=g.endIdx,y=h.get(p,0),b=h.get(p,1);if(!Sa(s,v,m)&&i.hypot/Lo(e,n,y,b)<a)t(e,n,r,y,b,h.get(p,2),o);else{if(g.firstChild>=0){i.descend(p=g.firstChild);continue}for(;v<=m;)v!==s&&t(e,n,r,c[v],d[v],f[v],o),v++}p=Ea.nextDFS(u,i,!1)}},e.prototype.traverse=function(){var e=this.outboundExpansions;return jo(t.prototype.traverse.call(this),function(t){return t.x=e.get(t.id,0),t.y=e.get(t.id,1),t.mass=e.get(t.id,2),t})},e}(Ea),Ta={__proto__:null,BarnesHut:Ia},La={x:0,y:0};function Oa(t,e){var n=To(t,e);return n>So?{x:t/n,y:e/n}:{x:t,y:e}}function Ra(t,e){return t.x*e.x+t.y*e.y}function Pa(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-t.x,a=n.y-t.y,s=r*(t.x+e.x)+i*(t.y+e.y),l=o*(t.x+n.x)+a*(t.y+n.y),u=r*(n.y-e.y)-i*(n.x-e.x);if(Math.abs(u)<So)return null;var c=(a*s-i*l)*(u=.5/u),d=(r*l-o*s)*u;return{x:c,y:d,rSq:(t.x-c)*(t.x-c)+(t.y-d)*(t.y-d)}}function Va(t){for(var e={tl:{x:1/0,y:1/0},br:{x:-1/0,y:-1/0}},n=t.next();!n.done;){var r=n.value,i=r.x,o=r.y,a=r.r;e.tl.x=Math.min(e.tl.x,i-a),e.tl.y=Math.min(e.tl.y,o-a),e.br.x=Math.max(e.br.x,i+a),e.br.y=Math.max(e.br.y,o+a),n=t.next()}return e}function Fa(t,e,n,r,i,o){var a=Pa(r<0?t[~r]:{x:e.get(r),y:n.get(r)},i<0?t[~i]:{x:e.get(i),y:n.get(i)},o<0?t[~o]:{x:e.get(o),y:n.get(o)});return null!==a&&(a.adx=r,a.bdx=i,a.cdx=o),a}function Da(t,e,n){for(var r=t.length-1,i=t.length-1;i>0;i-=2){var o=t[i],a=t[i-1];if(e===o&&n===a||e===a&&n===o)return na(t,i,r),na(t,i-1,r-1),void(t.length-=2)}t.push(e,n)}function Ba(t,e){void 0===e&&(e=[-1,-1]);var n={value:e,done:!1},r=0,i=0,o=-1,a=-1,s=-1;return{next:function(){if(r<t.length||i>0)switch(i){case 0:o=t[r++],a=t[r++],s=t[r++],e[0]=o,e[1]=a,i++;break;case 1:e[1]=s,i++;break;case 2:e[0]=a,i=0}else n.done=!0;return n},size:t.length}}function Za(t,e,n,r,i){var o=new Int32Array(t.size);return ra(o),Ga(o,t,e,n,r,i)}function Ga(t,e,n,r,i,o){void 0===i&&(i=0);for(var a=r.length,s=null;!(null===(s=za(t,e,n,r))||i--<=0);){r.length=a;for(var l=s[0],u=s[1];l<u;l++)e.set(l,e.get(l)+o()),n.set(l,n.get(l)+o())}return s}function za(t,e,n,r){var i=e.size;if(i<3)return null;var o=function(t,e,n){var r=xa(t),i=r[0],o=r[1],a=xa(e),s=a[0],l=o-i,u=a[1]-s;if(l<ko&&u<ko)return null;var c=Math.max(l,u),d=i+.5*l,f=s+.5*u;return[{x:d-n*c,y:f-c},{x:d,y:f+n*c},{x:d+n*c,y:f-c}]}(e,n,1e3);if(null===o)return[0,i];var a=[Fa(o,e,n,-1,-2,-3)],s=-1;Array.prototype.sort.call(t,function(t,n){return e.get(n)-e.get(t)});for(var l=t.length-1;l>=0;l--){for(var u=t[l],c=[],d=e.get(u),f=n.get(u),h=a.length-1;h>s;){var p=a[h],g=p.y,v=p.rSq,m=p.adx,y=p.bdx,b=p.cdx,x=d-p.x;if(x>0&&x*x>v)na(a,++s,h);else{h--;var w=f-g;x*x+w*w-v>So||(Da(c,m,y),Da(c,y,b),Da(c,b,m),na(a,h+1,a.length-1),a.pop())}}for(var C=0,A=c.length-1;C<A;){var _=Fa(o,e,n,c[C++],c[C++],u);if(null===_)return[u,u+1];a.push(_)}}var M=r.length;for(l=a.length-1;l>=0;l--){var E=a[l];E.adx>=0&&E.bdx>=0&&E.cdx>=0&&r.push(E.adx,E.bdx,E.cdx)}return r.length===M?[0,i]:null}var ja={__proto__:null,edgesOf:Ba,triangulate:Za,triangulateSubset:Ga};function Ya(t,e,n,r){return function(i,o){var a=t.get(i),s=t.get(o);return Lo(a,e.get(i),s,e.get(o))-(n.get(i)+n.get(o))>r}}function Na(t,e){var n=t[e],r=t[e+(e%3==2?-2:1)];if(n>r){var i=n;n=r,r=i}return[n,r]}function Ua(t,e,n){if(0===e.length)return Go();var r=function(t){var e=new Int32Array(t.length);return ra(e),Array.prototype.sort.call(e,function(e,n){var r=Na(t,e),i=r[0],o=r[1],a=Na(t,n),s=a[0];return i===s?o-a[1]:i-s}),e}(e),i=[],o=new Int32Array(t),a=new Int32Array(r.length);ta(a,-1);for(var s=0;s<r.length-1;){var l=Na(e,d=r[s]),u=Na(e,f=r[s+1]);l[0]!==u[0]||l[1]!==u[1]?(i.push(d),o[l[0]]=1,o[l[1]]=1):(a[d]=f,a[f]=d,s++),s++}if(s===r.length-1&&(i.push(r[s]),o[r[s]]=1),n)for(var c=0;c<i.length;c++){var d,f=void 0,h=void 0;switch((d=i[c])%3){case 0:f=d+1,h=d+2;break;case 1:f=d+1,h=d-1;break;case 2:f=d-2,h=d-1}var p=e[h];0===o[p]&&n(e[d],e[f],p)&&(i[c]=-1,i.push(a[f],a[h]),o[p]=1)}return function(t,e){return jo(Uo(Xo(t),function(t){return t>=0}),function(t){return Na(e,t)})}(i,e)}var Wa={__proto__:null,longestSideConcavity:function(t,e){return function(n,r,i){var o=t.get(n),a=t.get(r),s=t.get(i),l=e.get(n),u=e.get(r),c=e.get(i),d=Lo(o,l,a,u);return Lo(s,c,o,l)<d&&Lo(s,c,a,u)<d}},circleConcavity:Ya,concave:Ua},Xa=function(){function t(t,e){this.xs=[],this.ys=[],this.bins=[],this.xs.push({index:0,size:t}),this.ys.push({index:0,size:e}),this.bins.push({filled:0,data:[!1]})}return t.prototype.rows=function(){return this.ys.length},t.prototype.cols=function(){return this.xs.length},t.prototype.splitRow=function(t,e){for(var n=this,r=n.xs,i=n.ys,o=n.bins,a=i.length,s=i[t].index,l=0;l<r.length;l++)o[l].data.push(o[l].data[s]);return i.splice(t+1,0,{index:a,size:e}),i[t].size-=e},t.prototype.splitColumn=function(t,e){var n=this.xs,r=this.bins,i=n.length,o=n[t].index;return r.push({data:r[o].data.slice(0),filled:r[o].filled}),n.splice(t+1,0,{index:i,size:e}),n[t].size-=e},t.prototype.isEmpty=function(t,e){return!this.bins[this.xs[e].index].data[this.ys[t].index]},t.prototype.totalFilled=function(t){return this.bins[this.xs[t].index].filled},t.prototype.fillRange=function(t,e,n,r){for(var i=this,o=i.xs,a=i.ys,s=i.bins,l=n;l<=r;l++)for(var u=s[o[l].index],c=t;c<=e;c++)u.data[a[c].index]=!0,u.filled+=a[c].size},t.prototype.width=function(t){return this.xs[t].size},t.prototype.height=function(t){return this.ys[t].size},t}();function Ha(t,e){for(var n=0,r=0,i=0,o=0;o<t.length;o++){var a=aa.width(t[o]),s=aa.height(t[o]);n+=a*s*1.2,r=Math.max(r,a),i=Math.max(i,s)}var l=Math.sqrt(n/e);return aa.create(0,Math.max(r,l*e),0,Math.max(i,l))}var Ka=function(){function t(t){void 0===t&&(t=ko),this.tolerance=t}return t.prototype.addRectangle=function(t,e,n){for(var r=aa.height(n),i=aa.width(n),o=0,a=0,s=0,l=0,u=e.rows(),c=aa.width(t)-i,d=aa.height(t);o<=c;)if(Ja(t,s,r)>0||d-e.totalFilled(a)<r)o+=e.width(a++),s=0,l=0;else{for(;l<u&&!e.isEmpty(l,a);)s+=e.height(l++);if(l<u&&Ja(t,s,r)<=0){if(this.tryToFit(e,l,a,i,r,this.tolerance))return aa.moveTo(n,t.tl.x+o,t.tl.y+s),!0;s+=e.height(l++)}}return!1},t.prototype.tryToFit=function(t,e,n,r,i,o){for(var a=t.width(n),s=t.height(e),l=t.cols(),u=t.rows(),c=n,d=e;s<i-o;){if(++d>=u)return!1;s+=t.height(d)}for(;a<r-o;){if(++c>=l)return!1;a+=t.width(c)}for(var f=n;f<=c;f++)for(var h=e;h<=d;h++)if(!t.isEmpty(h,f))return!1;var p=a-r;p>o&&t.splitColumn(c,p);var g=s-i;return g>o&&t.splitRow(d,g),t.fillRange(e,d,n,c),!0},t.prototype.solve=function(t,e){void 0===e&&(e=Ha(t,1));for(var n=new Xa(aa.width(e),aa.height(e)),r=0;r<t.length;r++)if(!this.addRectangle(e,n,t[r])){var i=new Int32Array(t.length-r);return ra(i,r),{bounds:e,bins:n,unpacked:i}}return{bounds:e,bins:n,unpacked:[]}},t}();function Ja(t,e,n){return n-(aa.height(t)-e)}var Qa={__proto__:null,DynamicBins:Xa,estimateDimensions:Ha,Solver:Ka},qa=-1;function $a(t,e){var n=new Int32Array(t);return void 0!==e&&0!==e&&ta(n,e),n}function ts(t,e){var n={value:null,done:!1},r={value:null,done:!0,group:null};return{next:function(){for(;r.done;){var i=t.next();if(i.done)return n.done=!0,n;e.reset(i.value),r=e.next()}return n.value=[r.group,r.value],r=e.next(),n}}}function es(t,e,n){void 0===n&&(n=$a(e.countVertices()));var r=e.adjacency(),i=Array.isArray(t)?t:[t];return ta(n,-1),i.forEach(function(t){return n[t]=t}),ns(i,r),{next:function(){for(;;){var t=r.next();if(t.done){if(!ns(i,r))return t}else{var e=t.value;if(n[e]<0)return n[e]=t.group,i.push(e),t}}}}}function ns(t,e){for(;t.length>0;){var n=t.shift();if(e.reset(n)>0)return!0}return!1}function rs(t,e,n){return t<=n&&n<e}function is(t,e,n){for(var r=Object.keys(e||{}),i=0;i<r.length;i++){var o=r[i],a=t[o],s=e[o];void 0===a?t[o]=s:n&&os(a)&&is(a,s,n)}return t}function os(t){return t&&"object"==typeof t&&!Array.isArray(t)}function as(t,e,n){return t.indexOf(e)>=0?e:n}function ss(t){var e,n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n||(n=!0,e=t.apply(this,r)),e}}function ls(t){return JSON.parse(JSON.stringify(t))}var us=function(){function t(t){this.buffer=t,this.start=0,this.size=this.end=t.length}return t.wrapArray=function(e){return new t(e)},t.prototype.get=function(t){return this.buffer[t]},t.prototype.set=function(t,e){this.buffer[t]=e},t.prototype.has=function(t){return rs(this.start,this.end,t)},t}(),cs=function(){function t(t,e){this.size=t,this.value=e,this.start=0,this.end=t}return t.fromSize=function(e,n){return new t(e,n)},t.prototype.get=function(){return this.value},t.prototype.set=function(){},t.prototype.has=function(t){return rs(this.start,this.end,t)},t}(),ds=function(){function t(t,e){this.buffer=t,this.inverse=e,this.start=0,this.size=this.end=t.length}return t.fromValues=function(e){for(var n=[],r={},i=0,o=e.next();!1===o.done;o=e.next()){var a=o.value;void 0===r[a]&&(r[a]=i,n.push(a),i++)}return new t(n,r)},t.fromKeyValuePairs=function(e){for(var n=[],r={},i=0,o=e.next();!1===o.done;o=e.next()){var a=o.value,s=a[0],l=a[1];if(void 0!==r[l])throw new Error("Value must be unique: "+l);if(s>=0){for(;n.length<=s;)n.push(null),i++;n[s]=l,r[l]=s,i--}}if(i>0)throw new Error("Keys must be contiguous");return new t(n,r)},t.prototype.get=function(t){return this.buffer[t]},t.prototype.has=function(t){return rs(this.start,this.end,t)},t.prototype.set=function(t,e){this.buffer[t]=e,this.inverse[e]=t},t.prototype.getUniqueInverse=function(t){return this.inverse[t]},t.prototype.getInverse=function(t){return zo(this.inverse[t])},t}();function fs(t){for(var e=t.iterateAdjacentPairs(),n=new Int32Array(t.countVertices()),r=e.next();!1===r.done;r=e.next())n[r.value[0]]++,n[r.value[1]]++;return us.wrapArray(n)}function hs(t,e){void 0===e&&(e=fs(t));for(var n=t.countVertices(),r=t.iterateAdjacentPairs(),i=new Float32Array(t.countVertices()),o=r.next();!1===o.done;o=r.next()){var a=o.value,s=a[0],l=a[1];i[s]+=e.get(l),i[l]+=e.get(s)}for(var u=0;u<n;u++)i[u]/=Math.max(1,e.get(u));return us.wrapArray(i)}function ps(t,e){void 0===e&&(e=0);for(var n=new Int32Array(t.countVertices()),r=Jo(es(e,t,n),e),i=r!==e?Jo(es(r,t,n),r):r,o=0,a=i;a!==r;o++)a=n[a];return{diameter:o,extremes:[r,i]}}function gs(t,e){void 0===e&&(e=fs(t));for(var n=t.countVertices(),r=new Int32Array(n),i=new Int32Array(n),o=new Int32Array(n),a=0,s=0;s<n;s++){var l=e.get(s);a=Math.max(a,l),r[s]=l}if(0===a)return us.wrapArray(r);var u=new Int32Array(a+1);for(s=0;s<n;s++)u[r[s]]++;l=0;for(var c=0;l<=a;l++){var d=u[l];u[l]=c,c+=d}var f=u;for(s=0;s<n;s++){var h=f[l=r[s]];o[h]=s,f[l]++,i[s]=h}l=0;for(var p=0;l<=a;l++){var g=f[l];f[l]=p,p=g}for(var v=t.adjacency(),m=f[1];m<n;m++){var y=o[m],b=r[y];v.reset(y);for(var x=v.next();!1===x.done;x=v.next()){var w=x.value,C=r[w];if(C>b){var A=i[w],_=f[C];if(_!==A){var M=o[_];na(o,_,A),i[w]=_,i[M]=A}f[C]++,r[w]--}}}return us.wrapArray(r)}var vs=function(){function t(t,e,n){this.fwd=t,this.bwd=e,this.emptyValue=-1,this.start=0,this.size=this.end=n}return t.identiy=function(e){return new t(null,null,e)},t.emptyMap=function(e){return new t([],null,e)},t.fromIdPairs=function(e){for(var n=null,r=null,i=-1,o=e.next();!1===o.done;o=e.next()){var a=o.value,s=a[0],l=a[1];if(!(s<0)&&(i=Math.max(s,i),s!==l)){n=[],r=[];for(var u=0;u<i;u++)n.push(u),r.push(u);break}}for(;!1===o.done;o=e.next()){var c=o.value;if(l=c[1],!((s=c[0])<0)){for(i=Math.max(s,i);n.length<=s;)n.push(-1);for(;r.length<=l;)r.push(-1);n[s]=l,l>=0&&(r[l]=s)}}return new t(n,r,i+1)},t.prototype.get=function(t){return ms(t,this.fwd)},t.prototype.getUniqueInverse=function(t){return ms(t,this.bwd)},t.prototype.getInverse=function(t){return zo(this.getUniqueInverse(t))},t.prototype.has=function(t){return rs(this.start,this.end,t)},t.prototype.set=function(){},t}();function ms(t,e){return null!==e?t<e.length?e[t]:-1:t}function ys(t){var e=null,n=null;return"function"!=typeof t?(e=t.defaultValue,void 0!==t.map&&(n=t.map)):n=t,{map:n,defaultValue:e}}function bs(t,e){var n=ys(e),r=n.map;if(null===r)return cs.fromSize(t,n.defaultValue);for(var i=[],o=0;o<t;o++)i.push(r(o));return us.wrapArray(i)}function xs(t,e){var n=[-1,-1],r=jo(Wo(t.start,t.end),function(r){var i=t.get(r),o=e.getUniqueInverse(i);return n[0]=r,n[1]=void 0!==o?o:-1,n});return vs.fromIdPairs(r)}var ws=function(){function t(t,e,n){this.tourStart=t,this.tours=e,this.nTours=n,this.defaultValue=-1,this.start=0,this.size=this.end=e.length}return t.prototype.iterateGroups=function(){for(var t=this.tourStart,e=[],n=0,r=this.nTours;r>0;)t[n]===n&&(e.push(n),r--),n++;return Xo(e)},t.prototype.iterateGroup=function(t){var e=this.tours,n={done:!1,value:t=this.tourStart[t]},r=!1;return{next:function(){return n.value=t,n.done=r,r||(e[t]>t?t=e[t]:r=!0),n}}},t.prototype.groupSize=function(t){t=this.tourStart[t];for(var e=1;t<(t=this.tours[t]);)e++;return e},t.prototype.countGroups=function(){return this.nTours},t.prototype.get=function(t){return this.tourStart[t]},t.prototype.set=function(){throw new Error("Readonly")},t.prototype.has=function(t){return t>=this.start&&t<this.size},t.build=function(e){for(var n=e.length,r=new Int32Array(n),i=new Int32Array(n),o=0,a=0;a<n;a++){var s=Cs(e,a,!1),l=void 0;s===a?(o++,l=a):l=i[s],e[a]=s,r[l]=a,i[s]=a}return new t(e,r,o)},t}();function Cs(t,e,n){for(var r=e,i=0;r>=0&&t[r]!==r;)r=t[r],i++;if(n)for(var o=void 0;i>1;)o=e,e=t[e],t[o]=r,i--;return r}function As(t,e){var n=new Int32Array(e);ra(n,0);for(var r=t.next();!1===r.done;r=t.next()){var i=r.value,o=i[1],a=Cs(n,i[0],!0),s=Cs(n,o,!0);a>s?n[a]=s:a<s&&(n[s]=a)}return ws.build(n)}function _s(t){var e=new Int32Array(t);return ws.build(e)}var Ms=function(){function t(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.directedCategory=t,this.selfLoops=e,this.rewriteEdges=n,this.badIncidence=0,this.initialize(0,0)}return t.prototype.rawPairs=function(){return this.pairs},t.prototype.iterateEdges=function(){return Wo(0,this.E)},t.prototype.iterateVertices=function(){return Wo(0,this.V)},t.prototype.countVertices=function(){return this.V},t.prototype.countEdges=function(){return this.E},t.prototype.countInvalidIncidence=function(){return this.buildAdjacency(),this.badIncidence},t.prototype.source=function(t){return this.pairs[2*t]},t.prototype.target=function(t){return this.pairs[2*t+1]},t.prototype.containsEdge=function(t){return rs(0,this.E,t)},t.prototype.containsVertex=function(t){return rs(0,this.V,t)},t.prototype.incidence=function(){return this.buildAdjacency(),Es(this.bufferIndex,this.buffers.incidence)},t.prototype.adjacency=function(){return this.buildAdjacency(),Es(this.bufferIndex,this.buffers.adjacency)},t.prototype.iterateAdjacentPairs=function(t,e){return void 0===e&&(e=[-1,-1,-1]),0===this.countEdges()?Go():(this.buildAdjacency(),!t&&this.badIncidence>0?function(t,e,n,r,i){var o={done:!1,value:i},a=0;return{next:function(){for(;e<n;){var r=t[a++],s=t[a++];if(r!==qa&&s!==qa)return i[0]=r,i[1]=s,i[2]=e++,o;e++}return o.done=!0,o},size:n-e-r}}(this.pairs,0,this.E,this.badIncidence,e):function(t,e,n,r){var i={done:!1,value:r},o=0;return{next:function(){return e<n?(r[0]=t[o++],r[1]=t[o++],r[2]=e++):i.done=!0,i},size:n-e}}(this.pairs,0,this.E,e))},t.prototype.isAdjacent=function(t,e){throw new Error("not impl")},t.prototype.isIncident=function(t,e){throw new Error("not impl")},t.prototype.insertEdge=function(t,e){var n=e[0],r=e[1],i=2*t;rs(0,this.V,n)&&rs(0,this.V,r)&&(this.selfLoops||n!==r)?(this.pairs[i]=n,this.pairs[i+1]=r,this.bufferIndex[n]++,this.bufferIndex[r]++):(this.badIncidence++,this.pairs[i]=qa,this.pairs[i+1]=qa)},t.prototype.buildAdjacency=function(){if(null===this.buffers){for(var t=this.pairs,e=this.bufferIndex,n=this.rewriteEdges,r="d"===this.directedCategory,i=this.countVertices(),o=0;o<t.length;o+=2)t[o]!==qa&&(n&&e[t[o]]<e[t[o+1]]&&na(t,o,o+1),r&&e[t[o+1]]--);var a=0;for(o=0;o<i;o++){var s=e[o];e[o]=a,a+=s}e[i]=a,this.buffers=function(t){return{incidence:$a(t,qa),adjacency:$a(t,qa)}}(a);var l=function(t,e,n,r){for(var i=0,o=0,a=0;a<t.length;a+=2,o++){var s=t[a],l=t[a+1];s!==qa&&l!==qa&&(ks(n,e[s],l,o)<0||!r&&ks(n,e[l],s,o)<0)&&(t[a]=qa,t[a+1]=qa,i++)}return i}(t,e,this.buffers,r);if(l>0){var u=this.buffers,c=u.adjacency,d=u.incidence,f=0;for(o=0;o<i;o++){var h=e[o],p=e[o+1];for(e[o]-=f;h<p;)c[h]>=0?(c[h-f]=c[h],d[h-f]=d[h]):f++,h++}e[i]-=f,this.badIncidence+=l}}},t.prototype.buildKeyed=function(t,e){var n=this;this.initialize(e,t.size);var r=0,i={value:[-1,void 0],done:!1};return{next:function(){var e=t.next();return e.done?i.done||(i.done=!0):(n.insertEdge(r,e.value),i.value[0]=r++,i.value[1]=e.value[2]),i},start:0,end:t.size}},t.prototype.build=function(t,e){this.initialize(e,t.size);for(var n=0,r=t.next();!r.done;r=t.next(),n++)this.insertEdge(n,r.value)},t.prototype.initialize=function(t,e){this.V=t,this.E=e,this.bufferIndex=$a(t+1),this.pairs=$a(2*e,qa),this.badIncidence=0,this.buffers=null},t}();function Es(t,e){var n={done:!1,group:0,value:0},r=t[0],i=t.length>1?t[1]:r;return{reset:function(e){var o=(i=t[e+1])-(r=t[e]);return n.group=e,n.done=0===o,o},next:function(){return r>=i?n.done=!0:n.value=e[r++],n}}}function ks(t,e,n,r){for(var i=t.adjacency,o=t.incidence;e<i.length;){var a=i[e];if(a===qa)return i[e]=n,o[e]=r,e;if(a===n)return-1;e++}return-1}var Ss=function(){function t(t){this.parent=t,this.vInv=$a(t.countVertices(),qa)}return t.prototype.induceAll=function(t){return this.induceFrom(jo(t.iterateGroups(),function(e){return t.iterateGroup(e)}))},t.prototype.induceFrom=function(t,e){void 0===e&&(e=function(){return!0});var n=this.vInv,r=this.parent,i=r.incidence(),o=$a(r.countEdges()),a=$a(r.countVertices()),s=0,l=0,u=0,c=0;return jo(t,function(t){for(c=u;l<s;)n[a[l++]]=qa;for(var d=t.next();!1===d.done;d=t.next(),s++)a[s]=d.value,n[d.value]=s-l;for(var f=l;f<s;f++){var h=a[f];i.reset(h);for(var p=i.next();!1===p.done;p=i.next()){var g=r.target(p.value);h!==g&&n[g]>=0&&e(p.value)&&(o[u++]=p.value)}}var v={vs:a.subarray(l,s),es:o.subarray(c,u)};return[Xo(v.es,function(t){return[n[r.source(t)],n[r.target(t)],t]}),v]})},t}(),Is={__proto__:null,items:$a,degrees:fs,avgNeighborDegree:hs,diameter:ps,kcore:gs,buildFromLabeledIterators:function(t,e,n){var r=ds.fromValues(t),i=n.buildKeyed(jo(e,function(t){var e=t[1],n=t[2];return[r.getUniqueInverse(t[0]),r.getUniqueInverse(e),n]}),t.size),o=ds.fromKeyValuePairs(i);return{vertexMap:r,edgeMap:o}},buildPropertyBagFrom:function(t,e,n){n=void 0!==n?n:t.size;var r={},i=[];Object.keys(e).forEach(function(t){var o=ys(e[t]),a=o.map,s=o.defaultValue;if(null!==a){for(var l=[],u=0;u<n;u++)l.push(s);i.push({buffer:l,map:a}),r[t]=us.wrapArray(l)}else r[t]=cs.fromSize(n,s)});for(var o=t.next(),a=i.length;!o.done;o=t.next()){var s=o.value,l=s[0],u=s[1];if(l>=0&&l<n)for(var c=0;c<a;c++){var d=i[c];d.buffer[0|l]=d.map(u)}}return r},buildPropertyBag:function(t,e){return Object.keys(e).reduce(function(n,r){return n[r]=bs(t,e[r]),n},{})},buildProperty:bs,buildLabelMapping:xs,DefaultIdMapping:vs,connectedComponents:function(t){return As(t.iterateAdjacentPairs(!1),t.countVertices())},connectedComponentsFrom:As,all:_s,ArrayPropertyMap:us,ConstantPropertyMap:cs,StringLabelMap:ds,AdjacencyGraph:Ms,SubgraphBuilder:Ss,byGroup:ts,bfs:es},Ts=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.padding=t,this.rotation=e}return t.prototype.applyTo=function(t,e,n,r,i,o){if(void 0===i&&(i=0),0===e.size)return i;void 0===o&&ra(o=new Int32Array(e.size)),Array.prototype.sort.call(o,function(t,e){return r.get(e)-r.get(t)});var a=0;if(0===i){var s=o[a];e.set(s,t.x),n.set(s,t.y),i+=r.get(s)+this.padding,a++}for(var l=this.rotation,u=Math.PI,c=2*u,d=o.length;a<d;){var f=this.sizeRing(o,a,r,i,u),h=this.positionRing(t,e,n,r,o,a,2,l,u+l,i);h+=a+f.n>=d?this.positionRing(t,e,n,r,o,a,1,c+l,c+l,i,-1):this.positionRing(t,e,n,r,o,a,1,u+l,c+l,i),i+=2*f.meanRadius+this.padding,a+=h}return i},t.prototype.sizeRing=function(t,e,n,r,i){void 0===i&&(i=2*Math.PI);for(var o=0,a=0;e<t.length;){var s=t[e++];if((i-=2*(n.get(s)+.5*this.padding)/r)<0)break;a+=n.get(s),o++}return{n:o,meanRadius:o>0?a/o:0}},t.prototype.positionRing=function(t,e,n,r,i,o,a,s,l,u,c){void 0===c&&(c=1);for(var d=0,f=Ls(s-l);o<i.length;){var h=i[o];if(h>=0){var p=r.get(h)+.5*this.padding,g=c*(p/(p+u));if(f!==Ls(s+2*g-l))break;e.set(h,t.x+Math.cos(s+g)*(p+u)),n.set(h,t.y-Math.sin(s+g)*(p+u)),i[o]=-1,s+=2*g,d++}o+=a}return d},t}();function Ls(t){return t>0?1:-1}var Os=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===n&&(n=!0),this.padding=t,this.focalPoint=e,this.robust=n,this.perturb=r,this.state=null}return t.prototype.build=function(t,e,n,r,i){var o=t.size,a=this.padding;r=null!=r?r:ha([o],"f32",1);var s=new Ms("u",!1),l=[];if(o>2){var u=Za(t,e,l,this.robust?o:0,this.perturb);if(null!==u)return u;s.build(Ba(l),o);var c=function(t,e,n,r){for(var i=t.countVertices(),o=t.adjacency(),a=t.adjacency(),s=[],l=0;l<i;l++){o.reset(l);for(var u=r.get(l),c=o.next();!c.done;c=o.next()){if(r.get(c.value)<u){a.reset(c.value);for(var d=a.next();!d.done;d=a.next())if(!(d.value<=l)){var f=u+r.get(d.value);Lo(e.get(d.value),n.get(d.value),e.get(l),n.get(l))-f<.5*f&&s.push(l,d.value)}}l<c.value&&s.push(l,c.value)}}return s}(s,t,e,n);c.length>0&&s.build(Ko(Xo(c)),o)}else 2===o?(s.build(Xo([[0,1]]),o),Lo(t.get(0),e.get(0),t.get(1),e.get(1))<ko&&t.set(1,t.get(1)+2*ko)):s.build(Go(),o);var d=function(t,e,n,r){for(var i=e.size,o=new Float32Array(i),a=-1,s=0,l=1/0;s<i;s++){var u=Lo(e.get(s),n.get(s),t.x,t.y),c=r.get(s);o[s]=u+c,u<l&&(a=s,l=u)}return{min:a,distances:o}}(this.focalPoint,t,e,n),f=d.min,h=function(t,e,n,r,i,o){var a=r.countEdges()-r.countInvalidIncidence(),s=r.countVertices(),l=void 0!==o,u=$a(s),c=$a(2*a),d=$a(s);if(s>0&&a>0){for(var f=r.adjacency(),h=es(t,r,u),p=0,g=0,v={value:t,done:!1};!1===v.done;v=h.next()){var m=v.value,y=n.get(m),b=e[m];f.reset(m);for(var x=-1,w=f.next(),C=b;!1===w.done;w=f.next()){var A=w.value,_=n.get(A),M=e[A];M>b||y+_<ko||(i(m,A)&&(c[p++]=m,c[p++]=A),M<C&&(!l||o.get(A)>0)&&(x=A,C=M))}x>=0&&y>ko&&(u[m]=x,d[g++]=m)}c=c.subarray(0,p),d=d.subarray(0,g)}return{predecessors:u,es:c,vs:d}}(f,d.distances,r,s,function(r,i){var o=Lo(t.get(r),e.get(r),t.get(i),e.get(i)),s=n.get(r)+n.get(i)+a;return o-s<s},i);return this.state={root:f,xs:t,ys:e,rs:n,es:h.es,triangles:l,predecessors:h.predecessors,vs:h.vs,ss:r},null},t.prototype.pack=function(t){void 0===t&&(t=.5);var e=this.state,n=e.xs,r=e.ys,i=e.rs,o=e.predecessors,a=e.vs,s=e.ss,l=e.root,u=this.focalPoint,c=this.padding;if(l>=0){var d=s.get(l)*t;n.set(l,Ro(u.x,n.get(l),d)),r.set(l,Ro(u.y,r.get(l),d))}for(var f=c*t*.5,h=a.length,p=0,g=0;g<h;g++){var v=a[g],m=o[v],y=n.get(v),b=r.get(v),x=n.get(m)-y,w=r.get(m)-b,C=To(x,w),A=i.get(v)+i.get(m)+c;if(C>ko){var _=1/C,M=(C-A)*_;M>0&&(p+=M*=M,M+=f*_),M*=t*s.get(v),n.set(v,y+x*M),r.set(v,b+w*M)}}return h>0?p/h:0},t.prototype.packTowards=function(t,e,n){void 0===n&&(n=.5);for(var r=this.state,i=r.xs,o=r.ys,a=r.ss,s=i.size,l=0;l<s;l++){var u=a.get(l)*n;i.set(l,Ro(t.get(l),i.get(l),u)),o.set(l,Ro(e.get(l),o.get(l),u))}},t.prototype.solve=function(t,e,n){void 0===e&&(e=.5),n=null!=n?n:Math.max(.25*this.padding,ko);var r=this.padding,i=this.focalPoint,o=this.state,a=o.xs,s=o.ys,l=o.rs,u=o.es,c=o.ss,d=0;do{d=0;for(var f=0;f<u.length;){var h=u[f++],p=u[f++],g=a.get(h),v=s.get(h),m=l.get(h),y=a.get(p),b=s.get(p),x=l.get(p),w=y-g,C=b-v,A=To(w,C),_=m+x+r;if(A+n<_&&A>0){d++;var M=Rs(g,v,y,b,m,x,c.get(h),c.get(p),i),E=e*((A-_)/A);C*=E,a.set(h,g+M*(w*=E)),s.set(h,v+M*C),a.set(p,y-(1-M)*w),s.set(p,b-(1-M)*C)}}}while(--t>0&&d>0);return d},t}();function Rs(t,e,n,r,i,o,a,s,l){var u=0;if(a!==s)u=(a-s)/(a+s);else{var c=Lo(t,e,l.x,l.y),d=Lo(n,r,l.x,l.y),f=Math.min(c-i,d-o);u=(c-i-(d-o))/(Math.max(c+i,d+o)-f)}return.5*(1+u)}var Ps={__proto__:null,InterleavingCircles:Ts,Solver:Os};function Vs(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)<t.r-e.r+ko}function Fs(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,l=o-n,u=a-r,c=s-i,d=Math.sqrt(l*l+u*u);return{x:(n+o+l/d*c)/2,y:(r+a+u/d*c)/2,r:(d+i+s)/2}}function Ds(t,e){switch(e.length){case 0:return{x:0,y:0,r:0};case 1:return t[e[0]];case 2:return Fs(t[e[0]],t[e[1]]);default:var n=function(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,l=e.r,u=n.x,c=n.y,d=n.r,f=2*(r-a),h=2*(i-s),p=2*(l-o),g=r*r+(i*i-o*o-a*a-s*s)+l*l,v=2*(r-u),m=2*(i-c),y=2*(d-o),b=r*r+(i*i-o*o-u*u-c*c)+d*d,x=v*h-f*m,w=(h*b-m*g)/x-r,C=(m*p-h*y)/x,A=(v*g-f*b)/x-i,_=(f*y-v*p)/x,M=C*C+_*_-1,E=2*(w*C+A*_+o),k=(-E-Math.sqrt(E*E-4*M*(w*w+A*A-o*o)))/(2*M);return{x:w+C*k+r,y:A+_*k+i,r:k}}(t[e[0]],t[e[1]],t[e[2]]);if(n.r<0){var r=Fs(t[e[0]],t[e[1]]),i=Fs(t[e[0]],t[e[2]]),o=Fs(t[e[1]],t[e[2]]);n=(n=r.r>i.r?r:i).r>o.r?n:o}return n}}function Bs(t){if(0===t.length)return null;for(var e=t.length,n={i:0,prev:null,R:[],c:null};;){var r=n.i,i=n.R,o=n.prev,a=n.c;if(r===e||3===i.length)o.c=Ds(t,i),n=o;else if(null===a)n={i:r+1,prev:n,R:i,c:null};else if(Vs(a,t[r])){if(null===o)return a;o.c=a,n=o}else n={i:r+1,prev:n,R:i.concat([r]),c:null}}}var Zs=function(){function t(t,e){void 0===t&&(t=0),this.maxPerturbations=t,this.rng=e,this.mesh=new Ms("u",!1),this.clusterState=null}return Object.defineProperty(t.prototype,"clusters",{get:function(){return null===this.clusterState?null:this.clusterState.cc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rejectedEdges",{get:function(){return null===this.clusterState?-1:this.clusterState.rejectedEdges},enumerable:!1,configurable:!0}),t.prototype.triangulate=function(t,e,n,r){var i=t.length;if(i<=3){switch(i){case 3:r.push(t[0],t[1],t[2]);case 2:r.push(t[0],t[1],t[0]);case 1:r.push(t[0],t[0],t[0])}return null}return Ga(t,e,n,r,this.maxPerturbations,Fo.uniform(0,1,this.rng))},t.prototype.buildSubsets=function(t,e,n){for(var r=[],i=t.next();!i.done;i=t.next()){var o=this.triangulate(i.value,e,n,r);if(null!==o)return o}return this.mesh.build(Ba(r),e.size),this.xs=e,this.ys=n,null},t.prototype.build=function(t,e){var n=new Int32Array(t.size);return ra(n),this.buildSubsets(zo(n),t,e)},t.prototype.evaluateEdges=function(t,e){for(var n=this,r=n.mesh,i=n.xs,o=n.ys,a=r.countEdges(),s=r.iterateAdjacentPairs(!1),l=new Int32Array(a),u=new Float32Array(a),c=0,d=s.next();!d.done;d=s.next()){var f=d.value,h=f[0],p=f[1],g=f[2],v=e.get(h),m=e.get(p),y=Lo(i.get(h),o.get(h),i.get(p),o.get(p))-(v+m);y<=Math.min(v,m)*t&&(u[g]=Math.max(0,y),l[g]=1,c++)}return{edgeMask:l,separations:u,valid:c}},t.prototype.evaluate=function(t,e,n,r){void 0===r&&(r=2);var i=this.evaluateEdges(t,e),o=i.valid,a=i.edgeMask,s=i.separations,l=e.size,u=this.mesh,c=0,d=zs(a,u,l);if(n){for(var f=u.incidence(),h=d.iterateGroups(),p=new Float32Array(o),g=new Int32Array(o),v=h.next();!v.done;v=h.next()){for(var m=ts(d.iterateGroup(v.value),f),y=0,b=m.next();!b.done;b=m.next()){var x=b.value[1];a[x]>0&&(p[y]=s[x],g[y]=x,a[x]=0,y++)}for(var w=Ca(fa(p,[y])),C=w[1]+r*w[0],A=0;A<y;A++)p[A]<=C?a[g[A]]=1:c++}c>0&&(d=zs(a,u,l))}return this.clusterState={rejectedEdges:c,edgeMask:a,cc:d},u},t.prototype.describeAll=function(t,e,n){for(var r=this.clusterState.cc,i=new Map,o=r.iterateGroups(),a=o.next();!1===a.done;a=o.next()){var s=Ho(r.iterateGroup(a.value)),l=ma(t,s),u=ma(e,s),c=ma(n,s),d=s.length,f={size:d,radius:0,center:{x:wa(l),y:wa(u)}};if(1===d)f.radius=c.get(0);else{for(var h=new Float32Array(d),p=f.center,g=p.x,v=p.y,m=0;m<d;m++)h[m]=Lo(l.get(m),u.get(m),g,v);var y=wa(fa(h));f.radius=1.5*y+wa(c)}i.set(a.value,f)}return i},t.prototype.separations=function(t,e,n){var r=this.mesh,i=this.clusterState.cc,o=$a(r.countVertices());return function(a,s){for(var l=i.get(a),u=i.get(s),c=es(a,r,o),d=c.next();!1===d.done&&i.get(d.value)!==u;)d=c.next();i.get(d.value);for(var f=0,h=a,p=s,g=d.value;g!==a;){var v=o[g],m=i.get(g),y=i.get(v);if(m!==y){var b=Lo(t.get(g),e.get(g),t.get(v),e.get(v))-(n.get(g)+n.get(v));if(b>f&&(f=b,h=g,p=v),y===l)break}g=v}return[h,p]}},t}(),Gs=[-1,-1];function zs(t,e,n){return As(Xo(t,function(t,n){return t>0?[e.source(n),e.target(n)]:Gs}),n)}function js(t,e){return void 0===e&&(e=Bo()),new Zs(t,e)}var Ys,Ns={__proto__:null,nbody:Ta,delaunay:ja,hull:Wa,circlePacking:Ps,binPacking:Qa,radialExtents:Bs,dbscan:js,LinearQuadTree:Ea,get Rect(){return aa},origin:La,unit:Oa,dot:Ra,circleIntersecting:Pa,pointExtents:function(t){for(var e={tl:{x:1/0,y:1/0},br:{x:-1/0,y:-1/0}},n=t.next();!n.done;){var r=n.value,i=r.x,o=r.y;e.tl.x=Math.min(e.tl.x,i),e.tl.y=Math.min(e.tl.y,o),e.br.x=Math.max(e.br.x,i),e.br.y=Math.max(e.br.y,o),n=t.next()}return e},circleExtents:Va};!function(t){t.position2d="@@pos2d",t.group="@@group",t.groupStress="@@groupStress",t.radius="@@radius",t.sparseRadius="@@sparseRadius",t.degree="@@degree",t.avgNeighbourDegree="@@avgDegree",t.kcore="@@kcore",t.speed="@@speed",t.groupSpeed="@@groupSpeed",t.groupCenter="@@groupCenter",t.vAdaptive="@@vAdaptive",t.eAdaptive="@@eAdaptive"}(Ys||(Ys={})),function(t){t.describe=function(e){switch(e){case t.position2d:case t.radius:case t.sparseRadius:case t.degree:case t.avgNeighbourDegree:case t.kcore:case t.group:case t.speed:case t.vAdaptive:return{itemType:"v"};case t.eAdaptive:return{itemType:"e"}}return null}}(Ys||(Ys={}));var Us={seed:void 0,consistentSeeds:!1,scale:void 0,adaptive:!1,minGroupSizes:1},Ws=function(){function t(t,e,n){this.V=t,this.rng=e,this.opts=n,this.groupSeeds=new Map}return t.prototype.state=function(){return this.groupSeeds},t.prototype.initialize=function(t,e){var n=this,r=this.opts;if(r.consistentSeeds&&void 0!==e&&void 0!==t[Ys.vAdaptive]){var i=t[Ys.vAdaptive],o=t[Ys.group]||_s(this.V);Yo(o.iterateGroups(),function(t){var a=i.get(t);e.has(a)&&o.groupSize(t)>=r.minGroupSizes&&n.groupSeeds.set(t,e.get(a))})}},t.prototype.run=function(t){var e=this,n=e.opts,r=e.groupSeeds,i=t[Ys.group]||_s(e.V),o=Fo.uniform(0,1,this.rng);Yo(i.iterateGroups(),function(e){var a=i.groupSize(e)>=n.minGroupSizes,s=a?n.scale:void 0,l=n.adaptive?function(t,e){void 0===e&&(e=.5);var n=t,r=n[Ys.position2d],i=n[Ys.radius],o=n[Ys.speed],a=void 0===o?cs.fromSize(r.size,1):o,s=n[Ys.vAdaptive];return function(t,n,o){if(a.get(t)>ko&&(!s||s.get(t)===s.emptyValue)){var l=i.get(t)*e,u=r.get(t);u.x+=n*l,u.y+=o*l}}}(t,s):function(t,e,n){var r,i=t[Ys.position2d],o=t[Ys.group],a=t[Ys.radius],s=t[Ys.speed],l=void 0===s?cs.fromSize(i.size,1):s,u=(null===(r=t[Ys.groupCenter])||void 0===r?void 0:r.get(e))||La;return void 0===n&&(n=function(t,e,n){void 0===n&&(n=.75);var r=0,i=0;return Yo(t,function(t){r+=e.get(t),i++}),r/=i,Math.sqrt(i/n)*r}(o.iterateGroup(e),a)),function(t,e,r){if(l.get(t)>ko){var o=i.get(t);o.x=u.x+e*n,o.y=u.y+r*n}}}(t,e,s);n.consistentSeeds&&a&&(r.has(e)?o.rng.reset(r.get(e)):r.set(e,o.rng.state())),Yo(i.iterateGroup(e),function(t){var e=o()*Math.PI*2,n=Math.sqrt(o());l(t,Math.cos(e)*n,Math.sin(e)*n)})})},t}();function Xs(t,e){void 0===e&&(e={});var n=e.seed>0?e.seed:Po*Math.random()|0;return new Ws(t.countVertices(),Vo(n),is(e,Us))}function Hs(t){return"function"==typeof t.state}var Ks={isComplete:function(){return!0},initialize:function(){},run:function(){}};function Js(t){var e=0;return{isComplete:function(){return e>0},initialize:function(e,n){void 0!==t.initialize&&t.initialize(e,n)},state:Hs(t)?function(e){return t.state(e)}:void 0,run:function(n){e++,t.run(n)}}}var Qs=function(){function t(t){this.layouts=t,this.initialized=!1,this.index=0}return t.prototype.isComplete=function(){return this.index>=this.layouts.length},t.prototype.phase=function(){return this.isComplete()?null:this.layouts[this.index][1]},t.prototype.initialize=function(t,e){this.layouts.forEach(function(n){var r=n[0],i=n[1];if(void 0!==r.initialize){var o=e&&e.has(i)?e.get(i):void 0;r.initialize(t,o)}}),this.initialized=!0},t.prototype.run=function(t){for(;!this.isComplete();){var e=this.layouts[this.index][0];if(!e.isComplete()){e.run(t);break}this.index++}},t.prototype.state=function(t){for(var e=this.layouts,n=Math.min(this.index,e.length-1),r=new Map,i=0;i<=n;i++){var o=e[i],a=o[0],s=o[1];Hs(a)&&r.set(s,a.state(t))}return r},t.prototype.getPhase=function(t){return this.layouts.reduce(function(e,n){return n[1]===t&&e.push(n[0]),e},[])},t}();function qs(t,e,n){var r=1/(1+t*t*.001);r=n.min+(n.max-n.min)*r;var i=Math.min(1,1-e);return function(t,e){return Math.min(t*r,Ro(e,t,i))}}var $s={speed:void 0,iterations:{min:10,max:60},focalPoint:0,padding:{proportion:0,min:0,max:0},cpIterations:8,initialize:1,adaptive:!1,liveUpdate:!1,scale:{attenuation:0}},tl=function(){function t(t){void 0===t&&(t={}),this.groupState=[],this.schedule=null,this.opts=is(t,$s,!0)}return t.prototype.isComplete=function(){return this.schedule&&this.schedule.progress>=1},t.prototype.initialize=function(t){var e=t[Ys.group],n=t[Ys.position2d],r=t[Ys.sparseRadius],i=void 0===r?t[Ys.radius]:r,o=t[Ys.speed],a=e.iterateGroups();if(this.opts.adaptive){var s=t[Ys.vAdaptive];Ho(a,function(t){var r=e.iterateGroup(t);if(s){for(var a=0,l=e.iterateGroup(t),u=l.next();!1===u.done;u=l.next())s.get(u.value)===s.emptyValue&&a++;a>0&&a<e.groupSize(t)&&(r=Uo(r,function(t){return s.get(t)!==s.emptyValue}))}var c=el(r,n,i);c.id=t;var d=e.iterateGroup(t);for(u=d.next();!1===u.done;u=d.next())if(o.get(u.value)<ko){var f=n.get(u.value);c.anchor={x:f.x,y:f.y,id:u.value};break}return c},this.groupState)}else Ho(a,function(t){return{x:0,y:0,id:t}},this.groupState)},t.prototype.run=function(t){var e=this.opts,n=t[Ys.group],r=t[Ys.position2d];if(null===this.schedule){var i=r.size;if(!n||0===i)return void(this.schedule=new rl({min:0,max:0},0));var o=t[Ys.sparseRadius],a=this.initInternal(r,void 0===o?t[Ys.radius]:o,n,t[Ys.groupSpeed]||cs.fromSize(i,1));this.schedule=new rl(e.iterations,a)}var s=this.runSolver(this.schedule.packingSpeed()),l=this.schedule.update(s.convergence,s.broken);(e.liveUpdate||l>=1)&&this.moveGroups(r,n)},t.prototype.runSolver=function(t){var e=this,n=e.opts,r=e.solver,i=va(e.xyrs);if(null!==r.build(i[0],i[1],i[2],i[3],this.attractionMask))throw new Error("packing fail");return{convergence:t>ko?r.pack(t):1,broken:r.solve(n.cpIterations,.5)}},t.prototype.initInternal=function(t,e,n,r){var i,o=this,a=this.opts.padding,s=n.countGroups(),l=va(this.xyrs=ha([4,s],"f32")),u=l[0],c=l[1],d=l[2],f=l[3],h=a.min;this.groupState.forEach(function(r,i){var s=el(n.iterateGroup(r.id),t,e),l=s.x,p=s.y;if(o.opts.adaptive)if(r.anchor){var g=t.get(r.anchor.id);l=r.anchor.x+s.x-g.x,p=r.anchor.y+s.y-g.y}else l=r.x,p=r.y;r.x=s.x,r.y=s.y;var v=Oo(s.r*a.proportion-h,0,a.max-h);u.set(i,l),c.set(i,p),d.set(i,s.r+v),f.set(i,1)}),this.opts.adaptive&&this.moveGroups(t,n);var p=[],g=[];this.groupState.forEach(function(t,e){var n=r.get(t.id);n>ko?g.push(e):p.push(e),f.set(e,n)});var v,m=this.opts.focalPoint;v="object"!=typeof m?function(t,e,n,r){for(var i=t.length,o=0,a=0;a<i;a++)o+=(c=r.get(t[a]))*c;for(var s=0,l=0,u=(a=0,1/o);a<i;a++){var c,d=t[a],f=u*(c=r.get(d))*c;s+=f*e.get(d),l+=f*n.get(d)}for(var h=0,p=(a=0,1/0);a<i;a++){var g=Lo(e.get(d=t[a]),n.get(d),s,l)-r.get(d);g<p&&(h=d,p=g)}return{x:e.get(h),y:n.get(h)}}(0===m&&p.length>0?p:g,u,c,d):m;var y=2===this.opts.initialize?p.length>0?1:3:this.opts.initialize;if(3!==y){var b=void 0,x=0;if(1===y&&p.length>0){var w=function(t,e,n,r,i,o){var a,s,l=6*i,u=[],c=0;if(null===Ga(o,t,e,u,0)){s=ha([t.size],"i32");for(var d=Ya(t,e,n,l),f=Ua(t.size,u,d),h=f.next(),p=1/0;!1===h.done;h=f.next()){var g=h.value,v=g[0],m=g[1];s.set(v,1),s.set(m,1);var y=.5*(t.get(v)+t.get(m)),b=.5*(e.get(v)+e.get(m)),x=Lo(r.x,r.y,y,b);x<p&&(a=Math.atan2(r.y-b,y-r.x),p=x)}a<0&&(a+=2*Math.PI)}for(var w=0;w<o.length;w++){var C=o[w],A=Lo(r.x,r.y,t.get(C),e.get(C))+n.get(C);A>c&&(c=A)}return{rotation:a,radius:c+=i,mask:s}}(u,c,d,v,h,p);b=w.rotation,x=w.radius,w.mask&&(this.attractionMask=w.mask,g.forEach(function(t){return o.attractionMask.set(t,1)}))}new Ts(2*h,b).applyTo(v,u,c,d,x,g)}var C=Vo(37),A=xa(d)[1],_=Fo.uniform(-.01*A,.01*A,C);return this.solver=new Os(2*h,v,!0,_),null!==(i=this.opts.speed)&&void 0!==i?i:.75},t.prototype.moveGroups=function(t,e){for(var n=this.groupState,r=this.xyrs,i=0;i<n.length;i++){for(var o=n[i],a=r.get(0,i)-o.x,s=r.get(1,i)-o.y,l=r.get(3,i),u=e.iterateGroup(o.id),c=u.next();!c.done;){var d=t.get(c.value);d.x+=a*l,d.y+=s*l,c=u.next()}o.x+=a,o.y+=s}},t}();function el(t,e,n){return Bs(Ho(t,function(t){var r=e.get(t);return{x:r.x,y:r.y,r:n.get(t)}}))}var nl=function(){function t(t){void 0===t&&(t={}),this.initialized=!1,this.groups=[],this.opts=is(t,$s,!0)}return t.prototype.isComplete=function(){return this.initialized&&0===this.groups.length},t.prototype.run=function(t){var e=this.opts,n=t[Ys.position2d],r=t[Ys.group];this.initialized||(this.initialized=!0,this.initInternal(n,r));var i=this.currGroup;if(!i){if(0===this.groups.length)return;i=this.currGroup=this.createGroup(t,this.groups[0])}var o=this.runSolver(this.currGroup),a=i.schedule.update(0,o);(e.liveUpdate||a>=1)&&this.moveGroup(n,r.iterateGroup(this.groups[0]),i.xs,i.ys),a>=1&&(this.currGroup=void 0,this.groups.shift())},t.prototype.createGroup=function(t,e){var n,r=this,i=t[Ys.radius],o=t[Ys.speed],a=t[Ys.group],s=t[Ys.sparseRadius]||i,l=va(ha([6,a.groupSize(e)],"f32")),u=l[0],c=l[1],d=l[2],f=l[3],h=l[4],p=l[5],g=this.opts.padding,v=g.min,m=this.sizer;return Yo(a.iterateGroup(e),function(t,e){var n=m(i.get(t),s.get(t)),a=o.get(t),l=Oo(n*g.proportion-v,0,g.max-v),y=r.xyOrigin.get(0,t),b=r.xyOrigin.get(1,t);u.set(e,y),c.set(e,b),d.set(e,y),f.set(e,b),h.set(e,n+l),p.set(e,a)}),{schedule:new rl(this.opts.iterations,null!==(n=this.opts.speed)&&void 0!==n?n:.03),solver:new Os(2*v,{x:wa(d),y:wa(f)},!1),originXs:u,originYs:c,xs:d,ys:f,rs:h,ss:p}},t.prototype.runSolver=function(t){var e=this.opts,n=t.originXs,r=t.originYs,i=t.schedule,o=t.solver;if(null!==o.build(t.xs,t.ys,t.rs,t.ss))return 0;var a=i.packingSpeed();return a>ko&&o.packTowards(n,r,a),o.solve(e.cpIterations,.5)},t.prototype.initInternal=function(t,e){var n=t.size;this.sizer=qs(n,this.opts.scale.attenuation,{min:1,max:4});for(var r=this.xyOrigin=ha([2,n],"f32"),i=0;i<n;i++){var o=t.get(i);r.set(0,i,o.x),r.set(1,i,o.y)}var a=this.groups;Yo(e.iterateGroups(),function(t){e.groupSize(t)>1&&a.push(t)})},t.prototype.moveGroup=function(t,e,n,r){for(var i=e.next(),o=0;!1===i.done;i=e.next(),o++){var a=t.get(i.value);a.x=n.get(o),a.y=r.get(o)}},t}(),rl=function(){function t(t,e){this.opts=t,this.speed=e,this.repulsionOnly=!1,this.iteration=-1,this.progress=0,this.update(1,1)}return t.prototype.packingSpeed=function(){return this.repulsionOnly?0:this.speed},t.prototype.update=function(t,e){var n=++this.iteration,r=this.opts,i=r.max;return n>=r.min&&t<=.04&&(this.repulsionOnly=!0),this.progress=n>=i||0===e&&this.repulsionOnly?1:0},t}();function il(t){return new tl(t)}function ol(t){return new nl(t)}var al={__proto__:null,DefaultSchedule:rl,createGroupPacking:il,removeOverlaps:ol},sl={aspectRatio:1.33,padding:{proportion:0,min:0,max:0},groupOrder:void 0};function ll(t,e){return e+2*Oo(e*t.proportion,t.min,t.max)}function ul(t,e,n,r){var i=t;n&&e>ko&&(i=Oo(Math.pow(2,Math.ceil(Math.log(t/e)/Math.LN2))*e,t,1.33*t));var o=Math.max(t+2*r.min,i);return function(t,e,n){return n>ko?Math.max(function(t,e){return Math.ceil(t/e)*e}(e,n),function(t,e){return Math.round(t/e)*e}(t,n)):t}(Math.max(ll(r,t),i),o,e)}var cl=function(){function t(t){void 0===t&&(t={}),this.opts=t,this.groupState=[],this.packingResult=null,this.bounds=null,is(t,sl)}return t.prototype.isComplete=function(){return null!==this.packingResult&&0===this.packingResult.unpacked.length},t.prototype.run=function(t){if(t["@@group"]){var e=t["@@pos2d"],n=t["@@group"];null===this.bounds?this.bounds=this.initInternal(e,t["@@sparseRadius"]||t["@@radius"],n,t["@@groupSpeed"]):null!==this.packingResult&&this.packingResult.unpacked.length>0&&aa.scale(this.bounds,1.05,1.05),this.packingResult=this.solver.solve(this.groupState,this.bounds),this.offsetGroups(e,n)}},t.prototype.initInternal=function(t,e,n,r){var i=this.opts,o=i.padding,a=i.aspectRatio,s=i.groupOrder,l=Ho(void 0!==s?Xo(s):n.iterateGroups(),function(i){var o=Va(jo(n.iterateGroup(i),function(n){var r=t.get(n);return{x:r.x,y:r.y,r:e.get(n)}}));return o.filter=r&&r.get(i)<ko,o.cxcy=aa.center(o),o.id=i,o},this.groupState),u=function(t,e){return t.reduce(function(t,n){var r=.5*(aa.width(n)+aa.height(n));return Math.min(t,ll(e,r))},2*e.max)}(l,o),c=l.length>3;return l.forEach(function(t){return aa.resize(t,ul(aa.width(t),u,c,o),ul(aa.height(t),u,c,o))}),this.solver=new Ka(.01*o.min),Ha(l,a)},t.prototype.offsetGroups=function(t,e){for(var n=this.groupState,r=0;r<n.length;r++){var i=n[r];if(!i.filter){for(var o=aa.center(i),a=o.x-i.cxcy.x,s=o.y-i.cxcy.y,l=e.iterateGroup(i.id),u=l.next();!u.done;u=l.next()){var c=t.get(u.value);c.x+=a,c.y+=s}i.cxcy=o}}},t}();function dl(t){return new cl(t)}var fl={__proto__:null,create:dl};function hl(t){return"number"==typeof t}var pl=function(){function t(t){this.opts=t,this.pinPoint=null}return t.prototype.initialize=function(t){var e=this.opts.pinTo;if(void 0!==e)if(hl(e)){var n=t[Ys.position2d],r=e;if(n.has(r)){var i=n.get(r);this.pinPoint={x:i.x,y:i.y}}}else this.pinPoint=e},t.prototype.run=function(t){var e=this.pinPoint,n=this.opts.pinTo,r=t[Ys.position2d];if(e){var i;if(hl(n))i=r.get(n);else{var o=t[Ys.radius],a=jo(Wo(0,r.size),function(t){var e=r.get(t);return{x:e.x,y:e.y,r:o.get(t)}});i=aa.center(Va(a))}var s=e.x-i.x,l=e.y-i.y;if(Math.abs(s)>ko||Math.abs(l)>ko)for(var u=0,c=r.size;u<c;u++){var d=r.get(u);d.x+=s,d.y+=l}}},t}();function gl(t){return void 0===t&&(t={}),new pl(t)}var vl={__proto__:null,create:gl},ml=["rectangle","circle","adaptive","none"],yl={packing:void 0,packingOptions:{}},bl={adaptive:!0,initialize:2,iterations:{min:2,max:60},speed:.5};function xl(t,e){switch(as(ml,t.packing,e)){case"circle":return il(t.packingOptions);case"adaptive":return il(is(t.packingOptions,ls(bl)));case"rectangle":return dl(t.packingOptions);case"none":return Ks}}function wl(t,e){return void 0===t&&(t={}),void 0===e&&(e="rectangle"),is(t,ls(yl),!0),new Qs([[xl(t,e),0],[Js(gl(t)),1]])}var Cl={__proto__:null,create:wl},Al={iterations:{min:void 0,max:150},speed:void 0,liveUpdate:!0,scale:{base:.043,attenuation:0},maxRepulsionBias:.0065,momentum:{beta1:.9,beta2:.95},clustering:{minGroupSize:15,maxLength:300,epsilon:void 0,reweightSpeed:.06,maxSeparation:void 0},adaptive:!1},_l=function(){function t(t,e){void 0===e&&(e={}),this.graph=t,this.numIterations=0,this.activeGroups=-1,this.groups=[],this.adaptiveState=null,this.opts=is(e,Al,!0)}return t.prototype.isComplete=function(){return 0===this.activeGroups},t.prototype.initialize=function(t,e){this.opts.adaptive&&void 0!==e&&(this.adaptiveState=e)},t.prototype.run=function(t){var e;if(0===this.numIterations){var n=this.graph.countVertices(),r=t[Ys.degree]||fs(this.graph);this.initInternal(t[Ys.group]||_s(n),((e={})[Ys.position2d]=t[Ys.position2d],e[Ys.radius]=t[Ys.radius],e[Ys.sparseRadius]=t[Ys.sparseRadius]||t[Ys.radius],e[Ys.degree]=r,e[Ys.avgNeighbourDegree]=t[Ys.avgNeighbourDegree]||hs(this.graph,r),e[Ys.kcore]=t[Ys.kcore]||gs(this.graph,r),e[Ys.speed]=t[Ys.speed]||cs.fromSize(n,1),e[Ys.eAdaptive]=t[Ys.eAdaptive],e[Ys.vAdaptive]=t[Ys.vAdaptive],e[Ys.groupStress]=t[Ys.groupStress],e))}this.numIterations++;for(var i=this.groups,o=0;o<this.activeGroups;o++){var a=i[o],s=a.run()>=1;if(s&&na(i,o--,--this.activeGroups),!s&&!this.opts.liveUpdate)break;a.extractPositions(t[Ys.position2d])}},t.prototype.initInternal=function(t,e){var n=this,r=this.graph.countVertices(),i=new Ss(this.graph),o=qs(r,this.opts.scale.attenuation,{min:1.5,max:4}),a=this.opts.adaptive&&e[Ys.groupStress]?e[Ys.groupStress]:cs.fromSize(r,1);this.groups=No(i.induceAll(t),function(r,i){var s=i[0],l=i[1],u=l.vs.length;if(u<=1)return r;var c=new Ms("u",!1,!0);c.build(s,u);var d=t.get(l.vs[0]),f=new Ml(n.opts,c,l);return f.initialize(e,o,n.adaptiveState,a.get(d)),r.push(f),r},[]),this.activeGroups=this.groups.length},t.prototype.state=function(t){var e={edges:Fl(this.graph.countEdges()),verts:Vl(this.graph.countVertices())};return this.groups.forEach(function(n){n.extractState(e,t)}),e},t}(),Ml=function(){function t(t,e,n){this.opts=t,this.subg=e,this.map=n,this.nbodyModel=new Ia("f32",14,16),this.vState=function(t){var e=va(ha([2,t],"f64")),n=e[0],r=e[1],i=va(ha([11,t],"f32")),o=i[0],a=i[1],s=i[2],l=i[3],u=i[4],c=i[5],d=i[6],f=i[7],h=i[8],p=i[9],g=i[10];return ya(u,1),ya(c,1),ya(d,1),{position:{xs:n,ys:r},displacement:{dxs:o,dys:a},nesterov:{nxs:s,nys:l},moment:{mxs:f,mys:h},moment2:{m2xs:p,m2ys:g},mass:u,radius:d,speed:c}}(e.countVertices()),this.eState=function(t){var e=va(ha([4,t],"f32",1));return{targetLength:e[0],maxTargetLength:e[1],mass:e[2],reweightSpeed:e[3],massIntegral:ha([t],"f64")}}(e.countEdges()),this.clustering=js(0)}return t.prototype.initialize=function(t,e,n,r){for(var i=t[Ys.radius],o=t[Ys.sparseRadius],a=t[Ys.degree],s=t[Ys.avgNeighbourDegree],l=t[Ys.kcore],u=t[Ys.speed],c=t[Ys.position2d],d=t[Ys.eAdaptive],f=t[Ys.vAdaptive],h=this,p=h.subg,g=h.eState,v=h.vState,m=h.opts,y=h.map,b=y.vs,x=b.length,w=y.es.length,C=0,A=0,_=0;_<x;_++){var M=b[_],E=a.get(M),k=s.get(M),S=c.get(M),I=e(R=i.get(M),o.get(M)),T=Ll(E,k,l.get(M));C+=1-.75/Math.max(1,E*E),A+=Math.log(R),v.position.xs.set(_,S.x),v.position.ys.set(_,S.y),v.radius.set(_,I),v.mass.set(_,T),v.speed.set(_,u.get(M))}this.avgRadius=A=Math.exp(A/x);var L=w>0?function(t){return t.base*Math.pow(15,-1*t.attenuation)}(m.scale):1,O=Math.sqrt(1/L);for(_=0;_<x;_++){var R;(R=v.radius.get(_))>A&&(R=A+.5*(R-A)),v.mass.set(_,v.mass.get(_)*R/O)}for(var P=m.clustering,V=P.maxLength,F=P.reweightSpeed,D=0;D<w;D++){var B=p.source(D),Z=p.target(D),G=Tl(v.radius.get(B),v.radius.get(Z),A,V),z=G[1];g.targetLength.set(D,G[0]),g.maxTargetLength.set(D,z);var j=b[Z],Y=1===Math.min(a.get(b[B]),a.get(j));g.reweightSpeed.set(D,Y?0:F)}var N=ps(p).diameter,U=void 0===m.speed?function(t,e,n,r){var i=1.5*Math.log(n)-1.5+.33*Math.log(e/t);return Math.max(1.5,i)*(2/(r+2))}(x,N,C,m.scale.attenuation):m.speed,W=1;this.opts.adaptive&&(W=n?this.incrementalInit(n,f,d):this.adaptiveInit(r));var X=void 0===m.iterations.min?Math.min(m.iterations.max,function(t,e,n){var r=Math.log(t),i=Math.log(e/t);return Math.max(5,(44.34*r+26.05*i+1.16*r*i)*n*.55)}(x,N,W)):m.iterations.max;this.schedule=new El(m.momentum,X,m.maxRepulsionBias/A,U,m.adaptive)},t.prototype.adaptiveInit=function(t){if(t<1){var e=Oo(t,.5,1);ba(this.vState.speed,function(t){return Math.min(t,e)})}return 1},t.prototype.incrementalInit=function(t,e,n){for(var r=this,i=r.subg,o=r.eState,a=r.vState,s=r.map,l=s.vs,u=s.es,c=i.countVertices(),d=i.countEdges(),f=new Float32Array(c),h=.5,p=0,g=0;g<c;g++){var v=e.get(l[g]),m=v!==e.emptyValue?kl(h,a.mass.get(g),t.verts.mass.get(v)):1;f[g]=m,p+=m}for(var y=a.position,b=y.xs,x=y.ys,w=0;w<d;w++){var C=n.get(u[w]),A=i.source(w),_=i.target(w);if(m=1,C!==n.emptyValue){var M=t.edges.mass.get(C);M>1+ko&&(o.mass.set(w,M),o.maxTargetLength.set(w,1.025*t.edges.maxTargetLength.get(C)));var E=Lo(b.get(A),x.get(A),b.get(_),x.get(_)),k=t.edges.length.get(C);m=kl(h,E,k)}m>f[A]&&(p+=m-f[A],f[A]=m),m>f[_]&&(p+=m-f[_],f[_]=m)}if(p>c*(h+ko)&&p<c+c*ko){var S=i.rawPairs(),I=void 0;do{I=!1;for(var T=0;T<S.length;){var L=S[T++],O=S[T++],R=f[L],P=f[O];Math.abs(R-P)/Math.max(R,P)>.400001&&(I=!0,R>P?f[O]=.6*R:f[L]=.6*P)}}while(I);for(p=0,g=0;g<c;g++)p+=f[g]}var V=h+Math.sqrt(p/c-h);return ba(a.speed,function(t,e){return Math.min(t,Oo(V*f[e],h,1))}),function(t,e,n,r,i){return.2+.8*(i-.5)/.5}(0,0,0,0,V)},t.prototype.run=function(){var t=this.schedule.update();return t<1&&(this.setupIteration(),this.applyRepulsion(),this.applyAttraction(),this.applyDisplacement()),t},t.prototype.setupIteration=function(){for(var t=this.vState,e=t.position,n=t.displacement,r=t.nesterov,i=e.xs,o=e.ys,a=r.nxs,s=r.nys,l=i.size,u=this.schedule.momentum().beta1,c=0;c<l;c++)i.set(c,i.get(c)+a.get(c)*u),o.set(c,o.get(c)+s.get(c)*u);ya(n.dxs,0),ya(n.dys,0),l>=this.opts.clustering.minGroupSize&&this.schedule.periodicals().edgeLengths&&null===this.clustering.build(i,o)&&this.calculateEdgeLengths()},t.prototype.applyAttraction=function(){for(var t=this.vState,e=t.displacement,n=t.position,r=t.nesterov,i=this.eState,o=i.mass,a=i.targetLength,s=i.maxTargetLength,l=i.massIntegral,u=i.reweightSpeed,c=1/this.avgRadius,d=this.subg.rawPairs(),f=e.dxs,h=e.dys,p=r.nxs,g=r.nys,v=n.xs,m=n.ys,y=o.size,b=0,x=0;b<y;b++){var w=d[x++],C=d[x++],A=v.get(C)-v.get(w),_=m.get(C)-m.get(w),M=o.get(b),E=To(A,_);if(E>s.get(b)||M>1){var k=Pl(E,To(v.get(C)-p.get(C)-(v.get(w)-p.get(w)),m.get(C)-g.get(C)-(m.get(w)-g.get(w))),s.get(b),l.get(b),M,u.get(b),c);o.set(b,k.m),l.set(b,k.int),M=k.m}var S=Rl(E,M,a.get(b));A*=S,_*=S,f.values[f.index(C)]-=A,h.values[h.index(C)]-=_,f.values[f.index(w)]+=A,h.values[h.index(w)]+=_}},t.prototype.applyRepulsion=function(){var t=this.schedule,e=this.vState,n=e.position,r=e.displacement;this.nbodyModel.build(n.xs,n.ys,void 0,e.mass);var i=function(t){return function(e,n,r,i,o,a,s){return Ol(t,e,n,r,i,o,a,s)}}(t.repulsion());this.nbodyModel.runOnPoints(i,r.dxs,r.dys,t.theta())},t.prototype.applyDisplacement=function(){for(var t=this,e=t.schedule,n=t.vState,r=t.avgRadius,i=n.moment,o=i.mxs,a=i.mys,s=n.moment2,l=s.m2xs,u=s.m2ys,c=n.displacement,d=c.dxs,f=c.dys,h=n.position,p=h.xs,g=h.ys,v=n.nesterov,m=v.nxs,y=v.nys,b=n.speed,x=e.speed()*r,w=e.sms(),C=.5*r,A=e.momentum(),_=A.beta1,M=A.beta2,E=0,k=p.size;E<k;E++){var S=d.get(E),I=f.get(E),T=Ro(o.get(E),S,_),L=Ro(a.get(E),I,_);o.set(E,T),a.set(E,L);var O=Ro(l.get(E),S*S,M),R=Ro(u.get(E),I*I,M);l.set(E,O),u.set(E,R);var P=x*b.get(E);S=P*(T/(Math.sqrt(O*w)+C)),I=P*(L/(Math.sqrt(R*w)+C)),p.set(E,p.get(E)-m.get(E)+S),g.set(E,g.get(E)-y.get(E)+I),m.set(E,S),y.set(E,I)}},t.prototype.calculateEdgeLengths=function(){var t=this,e=t.vState,n=e.position,r=e.radius,i=t.eState,o=i.targetLength,a=i.maxTargetLength,s=i.reweightSpeed,l=t.subg,u=t.clustering,c=t.opts.clustering.epsilon||Math.max(5,Math.sqrt(.5*l.countVertices()));u.evaluate(c,r,!0,1.5);var d=u.clusters;if(!(d.countGroups()<=1))for(var f=n.xs,h=n.ys,p=u.separations(f,h,r),g=l.rawPairs(),v=0,m=0;m<g.length;v++){var y=g[m++],b=g[m++];if(!(d.get(y)===d.get(b)||s.get(v)<ko)){var x=f.get(y)-f.get(b),w=h.get(y)-h.get(b),C=To(x,w),A=p(y,b),_=A[0],M=A[1],E=Math.abs(Ra({x:f.get(_)-f.get(M),y:h.get(_)-h.get(M)},{x:x/C,y:w/C})),k=Math.min(r.get(y),r.get(b)),S=Ro(C-2*k-(E-c*k),Math.min(a.get(v),C),.5);a.set(v,Math.max(S,o.get(v)))}}},t.prototype.extractPositions=function(t){for(var e=this.map.vs,n=this.subg.countVertices(),r=this.vState.position,i=r.xs,o=r.ys,a=0;a<n;a++){var s=t.get(e[a]);s.x=i.get(a),s.y=o.get(a)}},t.prototype.extractState=function(t,e){for(var n=e[Ys.position2d],r=this.clustering.clusters||{get:function(){return 0}},i=this.subg,o=this.map,a=o.es,s=o.vs,l=0,u=this.eState;l<a.length;l++){var c=a[l];t.edges.mass.set(c,u.mass.get(l)),t.edges.maxTargetLength.set(c,u.maxTargetLength.get(l));var d=n.get(s[i.source(l)]),f=n.get(s[i.target(l)]);t.edges.length.set(c,Lo(d.x,d.y,f.x,f.y))}var h=0;for(u=this.vState;h<s.length;h++){var p=s[h];t.verts.mass.set(p,u.mass.get(h)),t.verts.cluster.set(p,r.get(h))}},t}(),El=function(){function t(t,e,n,r,i){this.moments=t,this.maxIterations=e,this.maxRepulsionBias=n,this.targetSpeed=r,this.adaptive=i,this.progress=0,this.iteration=-1,this.edgeLengthPeriod={progress:.08,iteration:4}}return t.prototype.theta=function(){return Il(1.1,5,10,100,this.maxIterations-this.iteration,8)},t.prototype.speed=function(){return this.targetSpeed},t.prototype.sms=function(){var t=Math.exp(6*(1-(this.maxIterations-this.iteration)/20-1));return 1+this.targetSpeed*t},t.prototype.repulsion=function(){return this.adaptive?this.maxRepulsionBias:Il(0,this.maxRepulsionBias,0,.5,this.progress,10)},t.prototype.momentum=function(){var t=this.moments,e=this.iteration,n=Sl(t.beta1,e,.5),r=Sl(t.beta2,e);return{beta1:n,beta2:r,correction:Math.sqrt(1-r)/(1-n)}},t.prototype.periodicals=function(){var t=this,e=t.edgeLengthPeriod,n=t.progress,r=t.iteration,i=n>=e.progress&&r>=e.iteration&&n<.9;return i&&(e.progress=1.7*n,e.iteration=r+4),{edgeLengths:i}},t.prototype.update=function(){return this.iteration++,this.progress=Oo((this.iteration+1)/this.maxIterations,0,1)},t}();function kl(t,e,n){return Math.abs(e-n)<ko?t:1-(1-t)*(e<n?e/n:n/e)}function Sl(t,e,n){return void 0===n&&(n=0),t-(1-n)*Math.pow(t,1+e)}function Il(t,e,n,r,i,o){return void 0===o&&(o=12),function(t,e,n,r,i,o){return t+(e-t)/(1+Math.pow(1*Math.E,-r*(o-n)))}(t,e,.5*(r-n),o/(r-n),0,i-n)}function Tl(t,e,n,r){var i=Math.min(t,e,n),o=t+e+i;return[o,o+i*r]}function Ll(t,e,n){return 1+Math.log(Math.max(Math.pow(n,2),e,1))*Math.sqrt(t)}function Ol(t,e,n,r,i,o,a,s){var l=i-e,u=o-n,c=l*l+u*u,d=c*t,f=r*a/(So+c+d*d);s.x-=l*f,s.y-=u*f}function Rl(t,e,n){var r=(t-n)/(So+t);return r>0&&(r*=r*e),r}function Pl(t,e,n,r,i,o,a){var s=((t-n)*o-(e-t))*a;return s<0!=r<0&&(r=0),i+=.6*s+(r+=.3*s),{m:Math.max(1,i),int:r}}function Vl(t){return{mass:ha([t],"f32"),cluster:ha([t],"i32")}}function Fl(t){var e=va(ha([3,t],"f32",1));return{length:e[0],maxTargetLength:e[1],mass:e[2]}}function Dl(t,e){return new _l(t,e)}var Bl={__proto__:null,defaultOpts:Al,biasedRepulsionKernel:Ol,attractionKernel:Rl,edgeReweightingKernel:Pl,create:Dl},Zl={iterations:50,scaleRatio:void 0,minGroupSize:2,adaptive:!1,adaptiveStressThreshold:.33,leafThreshold:25},Gl=function(){function t(t,e){void 0===e&&(e={}),this.graph=t,this.opts=is(e,Zl,!0)}return t.prototype.isComplete=function(){return this.constraints&&0===this.constraints.edgeGroups.length},t.prototype.run=function(t){var e,n=t[Ys.position2d];if(void 0===this.constraints){var r=this.opts,i=this.graph,o=i.countVertices(),a=t,s=a[Ys.vAdaptive],l=a[Ys.eAdaptive],u=a[Ys.group],c=void 0===u?_s(o):u,d=a[Ys.degree],f=void 0===d?fs(i):d,h=a[Ys.speed],p=void 0===h?cs.fromSize(o,1):h,g=a[Ys.kcore],v=void 0===g?gs(i,f):g,m=void 0,y=p;this.adaptiveState&&s&&l?(m=(e=function(t,e,n,r,i,o,a,s,l){for(var u=t.countVertices(),c=new Float32Array(u),d=[],f={},h=0;h<u;h++){var p=e.get(h);(p===e.emptyValue||o.get(p)>i.get(h))&&(c[h]=1)}for(var g=t.iterateAdjacentPairs(!1),v=g.next();!1===v.done;v=g.next()){var m=v.value,y=m[0],b=m[1];(n.get(m[2])===n.emptyValue||zl(r.get(y),r.get(b))<=ko)&&(c[y]=c[b]=1)}for(h=0;h<u;h++)c[h]>0&&a.groupSize(h)>=l&&(f[a.get(h)]=h,d.push(h));for(var x=$a(u),w=new Float32Array(u),C=es(d,t,x),A=C.next();!1===A.done;A=C.next()){var _=a.get(h=A.value);w[_]=c[h]=c[x[h]]+1}for(h=0;h<u;h++){var M=s.get(h);if(c[h]>1){_=a.get(h);var E=1-c[h]/(.75*w[_]);M=E>0?Math.min(M,E):0}c[h]=M}return{speeds:us.wrapArray(c),groupSeeds:Xo(Object.keys(f),function(t){return f[t]})}}(i,s,l,n,f,this.adaptiveState,c,p,r.minGroupSize)).groupSeeds,y=e.speeds):m=function(t,e,n,r){return jo(t,function(t){var i=e.groupSize(t);if(i<r)return-1;for(var o=1/i,a=0,s=0,l=(u=e.iterateGroup(t)).next();!1===l.done;l=u.next())a+=o*(f=n.get(l.value)).x,s+=o*f.y;var u,c=1/0,d=-1;for(l=(u=e.iterateGroup(t)).next();!1===l.done;l=u.next()){var f,h=(a-(f=n.get(l.value)).x)*(s-f.y),p=h*h;p<c&&(d=l.value,c=p)}return d})}(c.iterateGroups(),c,n,r.minGroupSize),this.constraints=this.initializeContraints(m,t,c,v,y,f);var b=this.constraints,x=b.longWeights,w=b.shortWeights;b.edgeGroups.forEach(function(t){Xl(n,x,t.long),Xl(n,w,t.short)})}var C=this.constraints,A=C.longWeights,_=C.shortWeights,M=C.edgeGroups;M.length-=function(t,e){for(var n=0,r=t.length,i=0;i<r;i++){var o=t[i];t[i-n]=o,e(o)||n++}return n}(M,function(t){return Hl(n,A,t.long),Hl(n,_,t.short),--t.iterations>0})},t.prototype.state=function(t){return t[Ys.degree]||fs(this.graph)},t.prototype.initialize=function(t,e){this.opts.adaptive&&(this.adaptiveState=e)},t.prototype.initializeContraints=function(t,e,n,r,i,o){for(var a,s=this.graph,l=this.opts,u=s.countVertices(),c=e[Ys.radius],d=e[Ys.position2d],f=function(t){return{longWeights:new Float32Array(t),shortWeights:new Float32Array(t),edgeGroups:[]}}(u),h=new Float32Array(u),p=$a(u),g=new Float32Array(u),v=new Float32Array(u),m=new Float32Array(u),y=s.adjacency(),b=t.next();!1===b.done;b=t.next())if(!(b.value<0)){for(var x=0,w=0,C=0,A=(tt=n.iterateGroup(b.value)).next();!1===A.done;A=tt.next())w+=h[Y=A.value]=c.get(Y),x+=i.get(Y),C++;for(w/=C,A=(tt=n.iterateGroup(b.value)).next();!1===A.done;A=tt.next())h[Y=A.value]+=w*Math.sqrt(o.get(Y));for(var _=Wl(b.value,Math.max(1,2*Math.log(x+1)),2,s,i,p),M=_.maxReach,E=_.anchors,k=x<l.leafThreshold?1:2,S=null!==(a=l.scaleRatio)&&void 0!==a?a:Nl(C),I=[],T=[],L=0;L<E.length;L++){var O=E[L],R=d.get(O),P=es(O,s,p);g[O]=h[O];for(var V=P.next();!1===V.done;V=P.next()){var F=p[q=V.value],D=o.get(q),B=i.get(q),Z=h[q]*S,G=B<1?zl(R,d.get(q)):g[F]+Z;F!==O&&D>=k&&B>ko&&I.push({len:G,a:O,b:q});var z=g[q]=G+Z+jl(w,r.get(q));v[q]+=z}}I.sort(function(t,e){return e.len-t.len});for(var j=b.value,Y=(tt=n.iterateGroup(b.value)).next();!1===Y.done;Y=tt.next())o.get(Y.value)>1&&v[Y.value]<v[j]&&(j=Y.value);if(l.adaptive&&!this.adaptiveState){var N=Ul(j,d,s,p,g),U=n.get(b.value);if(N<l.adaptiveStressThreshold){m[U]=N;continue}m[U]=1}var W=j;for(P=es(W,s,p);W>=0;){for(var X=d.get(W),H=h[W],K=y.reset(W),J=y.next(),Q=.5;!1===J.done;J=y.next(),Q++){var q=J.value;B=i.get(q),p[q]<0&&B>ko&&(G=B<1?zl(X,d.get(q)):(H+h[q])*(.5+Q/K),T.push({len:G,a:W,b:q}))}var $=P.next();W=!1===$.done?$.value:-1}var tt,et=1/Math.max(1,Math.log(C));for(A=(tt=n.iterateGroup(b.value)).next();!1===A.done;A=tt.next()){N=i.get(Y=A.value);var nt=o.get(Y);f.shortWeights[Y]=nt>1?N/Math.sqrt(nt):N,f.longWeights[Y]=N*et}f.edgeGroups.push({iterations:Yl(x,M),long:I,short:T})}return this.opts.adaptive&&(e[Ys.groupStress]=us.wrapArray(m)),f},t}();function zl(t,e){return Lo(t.x,t.y,e.x,e.y)}function jl(t,e){return.7*t*Math.log(e+1)}function Yl(t,e){var n=Math.sqrt(11*e)+Math.log(1+.3*t);return Math.max(5,n)}function Nl(t){return 1+.02*Math.sqrt(t)}function Ul(t,e,n,r,i){var o=e.get(t),a=es(t,n,r);i[t]=0;for(var s=0,l=0,u=a.next();!1===u.done;u=a.next(),s++){var c=u.value,d=r[c],f=.5*i[d];if(d!==t){var h=e.get(d),p=e.get(c),g=Ra(Oa(h.x-o.x,h.y-o.y),Oa(p.x-h.x,p.y-h.y)),v=.5+.5*Math.cos(.5*Math.PI*(g+1));f=Math.max(f,v*v*v)}i[c]=f,l+=f}return s>0?l/s:0}function Wl(t,e,n,r,i,o){for(var a=[],s=0,l=-1;l<e;l++){for(var u=es(l<0?t:a.slice(),r,o),c=-1,d=t,f=u.next();!1===f.done;f=u.next()){var h=f.value;i.get(h)<1?c=h:d=h}var p=c>=0?c:d,g=0;for(h=p;o[h]!==h;h=o[h],g++);if(s=Math.max(s,g),!(g>=n||l<0))break;a.push(p)}return{anchors:a,maxReach:s}}function Xl(t,e,n){for(var r=n.length,i=2*Math.PI/(1+r),o=0;o<r;o++){var a=n[o],s=t.get(a.b),l=t.get(a.a);if(s.x-l.x<=ko&&s.y-l.y<=ko){var u=a.len*e[a.b];s.x-=Math.sin(i*o)*u,s.y-=Math.cos(i*o)*u}}}function Hl(t,e,n){for(var r=0;r<n.length;r++){var i=n[r],o=t.get(i.b),a=t.get(i.a),s=o.x-a.x,l=o.y-a.y,u=To(s,l);if(u>ko){var c=(u-i.len)/u;c<0&&(c=-Math.sqrt(-c)),o.x-=s*(c*=e[i.b]),o.y-=l*c}}}function Kl(t,e){return void 0===e&&(e={}),new Gl(t,e)}var Jl={__proto__:null,defaultOpts:Zl,create:Kl},Ql=["random","none"],ql={initialization:"random",initializationOptions:{minGroupSize:2}},$l={padding:{proportion:.025,min:1,max:1/0},reduceOverlapsOnly:!0,iterations:{min:1,max:10}},tu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zo(e,t),e.prototype.fd=function(){return this.getPhase(2)[0]},e}(Qs);function eu(t,e){var n;void 0===e&&(e={}),is(e,ql,!0);var r=[];if("random"===as(Ql,e.initialization,ql.initialization)){var i=e.initializationOptions;r.push([Js(Xs(t,i)),0],[Kl(t,i),1])}var o=is({scale:{attenuation:null===(n=null==e?void 0:e.scale)||void 0===n?void 0:n.attenuation}},$l);return r.push([Dl(t,e),2],[ol(o),3],[wl(e,e.adaptive?"adaptive":void 0),4]),new tu(r)}var nu,ru={__proto__:null,Impl:tu,create:eu},iu=function(){function t(t,e){this.currLabels=t,this.layout=e,this.state=null,this.prevLabels=null,this.vMap=null,this.eMap=null}return t.prototype.isComplete=function(){return null===this.layout||this.layout.isComplete()},t.prototype.addAdaptiveProps=function(t){var e=this.props=t;return null!==this.vMap&&(e[Ys.vAdaptive]=this.vMap),null!==this.eMap&&(e[Ys.eAdaptive]=this.eMap),e},t.prototype.initialize=function(t){void 0!==this.layout&&this.layout.initialize(this.addAdaptiveProps(t),this.state)},t.prototype.run=function(t){void 0!==this.layout&&this.layout.run(this.addAdaptiveProps(t))},t.prototype.reset=function(t,e){var n=this.layout;void 0!==n&&"function"==typeof n.state&&n.isComplete()&&(this.state=n.state(this.props),this.prevLabels=this.currLabels),this.layout=e,null!==this.prevLabels&&(this.vMap=xs(t.vertexMap,this.prevLabels.vertexMap),this.eMap=xs(t.edgeMap,this.prevLabels.edgeMap)),this.currLabels=t},t}(),ou=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0),this.layout=t,this.interval=e,this.batchBudget=n,this.timePerIteration=-1,this.timeid=-1}return t.prototype.initialize=function(t){this.input=t,void 0!==this.layout.initialize&&this.layout.initialize(t)},t.prototype.start=function(t){this.onComplete=ss(t),this.nextStep()},t.prototype.cancel=function(){this.timeid>=0&&clearTimeout(this.timeid)},t.prototype.nextStep=function(){var t=this;try{this.work(this.batchBudget),this.layout.isComplete()?(this.timeid=-1,this.onComplete(void 0)):this.timeid=setTimeout(function(){return t.nextStep()},this.interval)}catch(t){this.onComplete(t)}},t.prototype.work=function(t){var e=this.layout,n=this.input,r=Date.now(),i=t+r;do{for(var o=this.timePerIteration>0?Math.max(1,Math.ceil(t/this.timePerIteration)):1,a=0;a<o&&!e.isComplete();a++)e.run(n);var s=Date.now()-r;r+=s,this.timePerIteration=Math.max(s,.01)/o}while(r<i&&!e.isComplete())},t}();!function(t){t.forceDirected="forcedirected",t.random="random",t.organic="organic",t.diskpacking="diskpacking",t.removeOverlaps="remove-overlaps",t.rectpacking="rectpacking",t.pack="pack"}(nu||(nu={}));var au={__proto__:null,diskpacking:al,rectpacking:fl,pack:Cl,get Names(){return nu},createLayout:function(t,e,n){switch(t){case nu.organic:return eu(e,n);case nu.forceDirected:return Dl(e,n);case nu.random:return Js(Xs(e,n));case nu.diskpacking:return il(n);case nu.removeOverlaps:return ol(n);case nu.rectpacking:return dl(n);case nu.pack:return wl(n);default:throw new Error("unknown layout")}},get KnownProperties(){return Ys},forceDirected:Bl,organic:ru,pin:vl,linkRelaxation:Jl,AdaptiveProxy:iu,SetTimeoutRunner:ou,noopLayout:Ks,syncToAsyncLayout:Js,PhasedLayout:Qs,nodeSizer:qs},su={__proto__:null,findAdaptiveGroups:function(t,e){for(var n=[],r=e.parts.iterateGroups(),i=r.next();!1===i.done;i=r.next())for(var o=-1,a=e.parts.iterateGroup(i.value),s=a.next();!1===s.done;s=a.next()){var l=e.labels.get(s.value),u=t.labels.getUniqueInverse(l);if(void 0!==u){var c=t.parts.get(u);if(o<0)o=c;else if(o!==c){Ho(e.parts.iterateGroup(i.value),function(t){return e.labels.get(t)},n);break}}}return n}},lu=function(t,e,n,r,i){this.nodeList=t,this.edgeList=e,this.staticGraph=n,this.vertexMap=r,this.edgeMap=i};function uu(t,e){var n=new Is.AdjacencyGraph("u",!1,!0),r=Is.buildFromLabeledIterators(function(t){return qo.fromArray(t,function(t){return"string"==typeof t?t:t.id})}(t),function(t){return qo.fromArray(t,function(t,e){return[t.id1,t.id2,void 0!==t.id?t.id:e.toString()]})}(e),n);return new lu(t,e,n,r.vertexMap,r.edgeMap)}function cu(t,e,n){var r=t.vertexMap,i=t.staticGraph.countVertices(),o=qo.flatMap(qo.fromArray(e),function(t,e){var i=n(t,e);if(i.length<1)return qo.empty();var o=r.getUniqueInverse(i[0]);return qo.fromArray(i,function(t){return[o,r.getUniqueInverse(t)]})});return Is.connectedComponentsFrom(o,i)}var du=Q,fu="_dummy",hu=RegExp("^"+fu);function pu(t){return hu.test(t.id)}function gu(t){var e=m(t)?t:5;return e=Math.max(0,e),Math.min(10,e)}function vu(t){return 10*(5-gu(t))}function mu(t,e,r){var i=r||30;n(t,function(t){t.fixed||(t.x+=i*(e.next()-.5),t.y+=i*(e.next()-.5))})}function yu(t){var e=0,r=0,i=0,o=1/0,a=1/0,s=-1/0,l=-1/0;n(t,function(t){e+=1,r+=t.x,i+=t.y,a=Math.min(a,t.x),o=Math.min(o,t.y),s=Math.max(s,t.x),l=Math.max(l,t.y)}),r/=e,i/=e;var u=0,c=!1;return n(t,function(t){var e=t.x-r,n=t.y-i,o=Math.sqrt(e*e+n*n);u=Math.max(o+1.5*t.r,u),c=c||t.fixed}),{x:r,y:i,sum:e,size:u,fixed:c,miny:o,minx:a,maxy:l,maxx:s}}function bu(t){return"number"==typeof t.w&&!v(t.w)&&"number"==typeof t.h&&!v(t.h)}function xu(t){return!(t.u||t.fi||t.c||t.b||t.w&&t.h)}function wu(t,e){var r=1/0,i=1/0,o=-1/0,a=-1/0,s=0,l=e?function(t){var e=t.w?t.w/2:t.r||0,n=t.h?t.h/2:t.r||0,l=t.labelOffset;r=Math.min(r,t.x-e),i=Math.min(i,t.y-n+l),o=Math.max(o,t.x+e),a=Math.max(a,t.y+n+l),s++}:function(t){var e=t.r||0;r=Math.min(r,t.x-e),i=Math.min(i,t.y-e),o=Math.max(o,t.x+e),a=Math.max(a,t.y+e),s++};return Array.isArray(t)?t.forEach(l):n(t,l),s>0?{x1:r,y1:i,x2:o,y2:a,c:s}:null}function Cu(t){return{x:(t.x1+t.x2)/2,y:(t.y1+t.y2)/2}}function Au(t,e){var n=qo,r=uu(z(t),e),i=Is.connectedComponents(r.staticGraph),o={},a=r.vertexMap;n.forEach(i.iterateGroups(),function(e,r){var s={};n.forEach(i.iterateGroup(e),function(e){var n=a.get(e),i=t[n];s[n]=i,i.c=r}),o[e]={verts:s,edges:[],extents:wu(s),c:r}});for(var s=0;s<e.length;s++){var l=e[s],u=o[i.get(a.getUniqueInverse(l.id1))];u.edges.push(l),l.c=u.c}return z(o)}function _u(t){var e=0;return t.b&&(e=m(t.bw)?t.bw:4),!t.donut||t._combo&&t._combo.open||(e=t.donut.w+2*t.donut.bw),e}function Mu(t,e){if(t.t){var n=""+t.t;return void 0!==e&&n.length>e&&(n=n.substring(0,Math.max(0,e-3)),n+="..."),n.split(/\r\n|\r|\n/)}return[""]}function Eu(t,e){return!e&&("boolean"==typeof t.tc?t.tc:!t.w&&!t.u&&!t.fi)}function ku(t,e,n,r,i){var o,a,s=0,l=0,u=0,c=0,d=t.e||1,f=bu(t),h=f&&"circle"===t.sh,p=xu(t),g=!1;if(t.du)return{radius:10,radiusWithoutLabel:10,baseRadius:10,borderSize:10,width:10,height:10};if(a=_u(t),t._combo&&(g="boolean"==typeof i?i:t._combo.open),g)a=t.oc&&"bw"in t.oc?t.oc.bw:lo.bw,"rectangle"===r?(l=Q(u=t.oc.w,c=t.oc.h)/2,s=Q(u+=2*a,c+=2*a)/2):(c=u=t.oc.w+2*a,s=(l=t.oc.w/2)+a);else if(f)if(d=1,h){var v=Math.min(t.w,t.h);c=u=v+2*a,s=(l=v/2)+a}else l=du(t.w,t.h)/2,s=du(u=t.w+2*a,c=t.h+2*a)/2;else p||(c=u=2*(l=27*d)+2*(a*=d),s="box"===t.sh?du(u,c)/2:l+a);var m=s;if(n.include&&t.t&&t.t.length>0){var y=function(t,e,n,r){var i=0,o=(3+(t.fs||Le))*n.e,a=function(t,e,n,r){var i=0,o=0;if(t.t){var a=(t.fs||Le)*n,s=3*n,l=Mu(t,r);i=function(t){for(var e=0,n=0;n<t.length;n++)e=Math.max(e,t[n]);return e}(function(t,e,n,r,i){for(var o=[],a=0;a<t.length;a++)o[a]=sn(e,t[a],n,r,i||"sans-serif").width;return o}(l,e,a,!!t.fb,t.ff)),o=(a+s)*l.length}return{width:i,height:o}}(t,e,n.e,r.maxLength),s=a.width,l=xu(t),u=l?Math.max(s/10,27):s,c=a.height,d=Eu(t,n.isOpenCombo),f=du(u/2,(l?54:n.height)/2+c/2);if(r.partial){var h=Math.max(1,s/(4*n.radius))*o,p=Math.min(n.radius+h,s/2);d?(s/2<=n.radius+o&&(p=s/2),i=du(p,c/2)):i=Math.max(p,(n.height+c)/2)}else i=du(s/2,d?c/2:n.height/2+c);return{width:s,height:c,centred:d,distanceToCorner:i,legacyDistToCorner:f}}(t,e,{radius:s,height:c,width:u,e:d,isOpenCombo:g},n);o=Math.max(y.legacyDistToCorner,s),s=Math.max(y.distanceToCorner,s),u=Math.max(y.width,u),y.centred?c=Math.max(y.height,c):c+=y.height}else{var b=0;t.t&&(b=(Mu(t,n.maxLength).length+1)*((t.fs||Le)*d)),o=s+b/2,!g&&p&&(o+=27*d)}if(p&&t.g&&t.g.length>0){for(var x=0,w=0;w<t.g.length;w++){var C=2*Vi(t.g[w]);x+=C,c=Math.max(c,C)}s=t.t?Math.max(u,x):x/2,u+=x}return{legacyRadius:Math.round(o),radius:Math.round(s),radiusWithoutLabel:Math.round(m),baseRadius:Math.round(l),borderSize:Math.round(a),width:Math.round(u),height:Math.round(c)}}function Su(t,e){var n=0;if(t.t){var r=t.fs||Le,i=bu(t)?1:t.e||1;(function(t){return Eu(t,t._combo&&t._combo.open)})(t)||(n=(r+3)*i*Mu(t,e).length/2)}return Math.round(n)}function Iu(t,e,r){if(!e||!m(e.x)||!m(e.y))return 1/0;function i(t){var n=J(e.x,e.y,t.x,t.y)+t.r,r=J(e.x,e.y,t.x+(t.x>e.x?t.w/2:-t.w/2),t.y+(t.y+t.labelOffset>e.y?t.h/2+t.labelOffset:-t.h/2-t.labelOffset));return Math.min(n,r)}var o=0;Array.isArray(t)?t.forEach(function(t){o=Math.max(o,i(t))}):n(t,function(t){o=Math.max(o,i(t))});var a=Math.max(0,0|r);return Math.ceil(o+a)}function Tu(t,e,n,r){if("rectangle"===t){var i=n.x,o=n.y,a=wu(e,!0);if(!a)return{width:0,height:0};var s=a.y1,l=a.x2,u=a.y2,c=Math.abs(i-a.x1),d=Math.abs(i-l),f=Math.abs(o-s),h=Math.abs(o-u);return{width:Math.ceil(2*(Math.max(c,d)+r)),height:Math.ceil(2*(Math.max(f,h)+r))}}var p=Iu(e,n,r);return{width:2*p,height:2*p}}function Lu(t,e,n,r){void 0===r&&(r="circle");var i={include:void 0,maxLength:n};return function(n,o){return i.include=o,void 0!==t[n]?ku(t[n],e,i,r):null}}function Ou(t,e){var r=t.getCache({all:!0,combos:"all"}),i=r.adjacency,o=r.selfAdjacency,a={},s=[];return e.forEach(function(t){n(i[t],function(t){t.forEach(function(t){a[t]||(s.push(t),a[t]=!0)})});var e=o[t];if(e)for(var r=0;r<e.length;r++)s.push(e[r])}),s}function Ru(t,e){var r=t.getCache({combos:"all",all:!1}),i=r.adjacency,o=r.selfAdjacency,a={};e.forEach(function(t,e){var r=i[e];r&&n(r,function(t){for(var e=0;e<t.length;e++)a[t[e]]=!0});var s=o[e];if(s)for(var l=0;l<s.length;l++)a[s[l]]=!0}),n(a,function(t,n){var r=e.get(n);r&&2===r||e.set(n,1)})}function Pu(t){return!!t.weights}function Vu(t){t.all=!!t.all}function Fu(t){return/^(component|chart)$/.test(t.normalization)?t.normalization:"unnormalized"}function Du(t){if(!/^(chart|component|unnormalized)$/.test(t.normalization))throw new TypeError("opts normalization property should be either 'component', 'chart' or 'unnormalized'")}function Bu(t,e){var n=qo,r=T(e,{all:!1});Vu(r);var i=function(t,e){var n=t.edges,r=[];return Object.keys(t.selfAdjacency).forEach(function(e){var n=t.selfAdjacency[e];r.push({id:n[0],id1:e,id2:e,ids:n})}),r.length>0&&(n=n.concat(r)),uu(Object.keys(t.vertices),n)}(t.getCache(r)),o=Is.connectedComponents(i.staticGraph),a={},s=i.vertexMap;n.forEach(o.iterateGroups(),function(t){a[t]={nodes:n.toArray(n.map(o.iterateGroup(t),function(t){return s.get(t)})),links:[]}});for(var l=i.edgeList,u=0;u<l.length;u++)for(var c=l[u],d=a[o.get(s.getUniqueInverse(c.id1))],f=0;f<c.ids.length;f++)d.links.push(c.ids[f]);return z(a)}function Zu(t,e,n){return!!(t[e].a2&&t[e].id2===n||t[e].a1&&t[e].id1===n)}function Gu(t,e,n,r,i){return"any"===i.direction||"from"===i.direction&&Zu(t,r,n)||"to"===i.direction&&Zu(t,r,e)}function zu(t,e,n,r,i){var o=ju(t,e,n,r,i);return v(o)?o:1/o}function ju(t,e,n,r,i){var o=i.getLinks(),a=NaN;return Gu(o,t,e,n,r)&&(r.value?o[n].d&&(a=+o[n].d[r.value]):a=1),a}function Yu(t,e){return e.eachLink(t,function(n){if(ju(n.id1,n.id2,n.id,t,e)<=0)throw new Error("Link Weight must be Positive")}),{direction:t.direction,value:t.value,weights:Pu(t)}}function Nu(t,e){return function(t){if(t.direction=t.direction||"any",!/^(any|from|to)$/.test(t.direction))throw new TypeError("opts direction property should be either 'from', 'to' or 'any'")}(t),Yu(t,e)}function Uu(t,e,n,r){var i,o=t.getCache(r).adjacency[e][n],a=1/0,s=function(t){return Pu(t)?zu:ju}(r);if(o)for(var l=0;l<o.length;l++){var u=s(e,n,o[l],r,t);m(u)&&(u<a&&(a=u,(i=[]).push(o[l])),u===a&&a!==1/0&&i.push(o[l]))}return{value:a,links:i}}function Wu(t,e,r){function i(t,e){return I[t]-I[e]}function o(t){return t.sort(i),t.shift()}function s(e,n){var r=Uu(t,e,n,v).value;return m(r)?r:d()||m(r)?1/0:1}function l(t){return t.length>0}function u(){A.length=0,_.length=0,t.eachNode(f,function(t){for(var e=0;e<O.length;e++)c(O[e].dict,t.id,O[e].value)})}function c(t,e,n){Array.isArray(n)&&l(n)&&t[e]?t[e].length=0:t[e]=a(n)}function d(){return!!f.directed}var f=T(e,{all:!1,combos:"toplevel",directed:!1,endpoints:!1,normalization:"component",value:void 0,weights:!1});f.combos="toplevel",Du(f),Vu(f);var h=!V(f.value)||d()?"dijkstra":"regular",p=f.endpoints?"endpoints":"regular",g=Fu(f),v={direction:d()?"from":"any",value:f.value,weights:Pu(f),all:f.all};Nu(f,t);var y,b,x,w,C={},A=[],_=[],E={},k={},S={},I={},L=0,O=[{dict:k,value:0},{dict:I,value:1/0},{dict:E,value:[]},{dict:S,value:0}];function R(t,e){m(I[e])||(I[e]=I[y]+1,A.push(e)),I[e]===I[y]+1&&(k[e]+=k[y],E[e].push(y))}function P(t,e){I[e]>I[y]+s(y,e)&&(I[e]=I[y]+s(y,e),function(t,e){t.sort(i),G(t,e)||t.push(e)}(A,e),k[e]=0,E[e]=[]),I[e]===I[y]+s(y,e)&&(k[e]+=k[y],E[e].push(y))}var F=t.getCache(f).adjacency,D={regular:function(t){for(k[t]=1,I[t]=0,A.push(t);l(A);)y=A.shift(),_.push(y),n(F[y],R)},dijkstra:function(t){for(k[t]=1,I[t]=0,A.push(t);l(A);)y=o(A),_.push(y),n(F[y],P)}},B={regular:function(t){for(;l(_);){b=_.pop();for(var e=(1+S[b])/k[b],n=0;n<E[b].length;n++)S[y=E[b][n]]+=k[y]*e;b!==t&&(C[b]+=S[b])}},endpoints:function(t){for(C[t]+=_.length-1;l(_);){b=_.pop();for(var e=(1+S[b])/k[b],n=0;n<E[b].length;n++)S[y=E[b][n]]+=k[y]*e;b!==t&&(C[b]+=S[b]+1)}}},Z={chart:function(){L>2&&(x=1/((L-1)*(L-2)),n(C,function(t,e){C[e]*=x}))},component:function(){w=function(){for(var e=Bu(t,f),n={},r=0;r<e.length;r++)for(var i=e[r],o=0;o<i.nodes.length;o++)n[i.nodes[o]]=i.nodes.length;return n}(),n(C,function(t,e){w[e]>2&&(C[e]*=x=1/((w[e]-1)*(w[e]-2)))})},unnormalized:function(){d()||(x=.5,n(C,function(t,e){C[e]*=x}))}},z=D[h]||D.regular,j=B[p]||B.regular,Y=Z[g]||Z.chart;t.eachNode(f,function(){L++}),function(e,n,r){t.eachNode(e,function(t){c(n,t.id,0)})}(f,C),t.asyncEachNode(f,"betweenness",function(t,e){u(),z(t.id),j(t.id),e()},function(){Y(),M(r,C)})}function Xu(t,e,r){var i,o={},a={},s=[],l=t.getCache(r).adjacency;function u(){for(var t=0,e=1/0,n=0;n<s.length;n++){var r=o[s[n]];r<=e&&(t=n,e=r)}return t}function c(e,n){var s=Uu(t,i,n,r),l=o[i]+s.value;l<o[n]?(o[n]=l,a[n]=[{id:i,links:s.links}]):l===o[n]&&function(t,e,n){a[t]||(a[t]=[]),a[t].push({id:e,links:n})}(n,i,s.links)}for(t.eachNode(r,function(t){var e=t.id;o[e]=1/0,a[e]=void 0,s.push(e)}),o[e]=0;s.length>0;){var d=u();if(o[i=s[d]]===1/0)break;s.splice(d,1),n(l[i],c)}return{distance:o,previous:a}}function Hu(t,e,r){if(!t.getNodes()[e])throw new Error("distances error: id(s) must be present in the graph");var i=T(r||{},{combos:"toplevel",all:!1});Nu(i,t),Vu(i);var o=Xu(t,e,i),a={};return n(o.distance,function(t,e){m(t)&&(a[e]=t)}),a}function Ku(t,e,r){var i=T(e,{all:!1,combos:"toplevel",direction:"any",mode:"auto",normalization:"component",value:void 0,weights:!1});i.combos="toplevel";var o=t.getCache(i).adjacency;function a(t){var e=0;return n(t,function(t){e+=m(t)?1:0}),e}function s(t){return 0===Object.keys(t).length}function l(e){var n=t.getLinks();return!n[e].a1&&!n[e].a2}function u(){return"any"!==i.direction}function c(){return!!Fu(i).match(/chart/)}function d(){return!!Fu(i).match(/component/)}var f=Nu(i,t);Du(i),Vu(i),f.all=i.all;var h=!V(i.value)||u()?"dijkstra":"regular",p=0,g={},v=(function(){if(i.mode=i.mode||"auto",!i.mode.match(/^(connected|disconnected|auto)$/))throw new TypeError("Option mode property should be either 'connected', 'disconnected' or 'auto'")}(),"auto"===i.mode?function(){var e="disconnected",n=Bu(t,i);if(1===n.length&&(e="connected",u()))for(var r=0;r<n[0].links.length;r++)if(l(n[0].links[r]))return"disconnected";return e}():i.mode),y={regular:function(t){return function(t){var e={},r=0,i={},a={};function l(t,i){(function(t){return!V(t)})(e[i])||(e[i]=r,n(o[i],function(t,e){a[e]=!0}))}for(a[t]=!0;!s(a);)i=a,a={},n(i,l),r+=1;return e}(t)},dijkstra:function(e,n){return Hu(t,e,n)}},b=y[h]||y.regular,x={connected:function(t,e){var r=0;return n(e,function(t){r+=m(t)?t:0}),r?1/r:0},disconnected:function(t,e){var r=0;return n(e,function(e,n){r+=t!==n?1/e:0}),r}}[v];p=0,t.eachNode(i,function(){p++}),g={},t.asyncEachNode(i,"closeness",function(t,e){var n,r=b(t.id,f),i=a(r);g[t.id]=x(t.id,r),p>1&&(n=c()?Math.pow(i-1,2)/(p-1):d()?i-1:1,g[t.id]*=n),e()},function(){M(r,g)})}function Ju(t,e){var r=T(e,{all:!1,combos:"toplevel",multi:!0});r.combos="toplevel",Nu(r,t),Vu(r);var i=t.getCache(r).adjacency,o={};return t.eachNode(r,function(e){var a=e.id;o[a]=0,n(i[a],function(e,n){for(var i=0;i<e.length;i++){var s=ju(a,n,e[i],r,t);if(m(s)&&(o[a]+=s,!r.multi))break}})}),o}function Qu(t,e){var r,i,o=T(e,{all:!1,combos:"toplevel",direction:"any"});o.combos="toplevel",o.direction="any",Vu(o),Yu(o,t);var a={},s=Bu(t,o);function l(t,e){a[e]=t*s[r].nodes.length}for(r=0;r<s.length;r++){var u={};for(i=0;i<s[r].nodes.length;i++)u[s[r].nodes[i]]=!0;n(c(u),l)}return a;function c(e){var n={},r=[],i=[],a=[],s=0,l=[],u=0;t.eachNode(o,function(t){var o=t.id;e[o]&&(r.push(o),n[o]=r.length-1,i.push([]),a.push({}))});var c=Math.max(100,5*Math.sqrt(r.length));t.eachLink(o,function(t){if(e[t.id1]&&e[t.id2]){var r=n[t.id1],l=n[t.id2];a[r][l]||(i[r].push(l),i[l].push(r),a[l][r]=0,a[r][l]=0);var c=function(t,e){return e.value&&t.d?+t.d[e.value]:1}(t,o);a[r][l]+=c,a[l][r]+=c,s+=c,u++}});var d={};if(0===r.length)return d;if(1===r.length)return d[r[0]]=1,d;if(2===r.length)return d[r[0]]=.5,d[r[1]]=.5,d;s/=u,c=Math.max(100,5*Math.sqrt(r.length));for(var f=0;f<r.length;f++)l.push(Math.random());for(f=0;f<c;f++)l=h(l),f%10==0&&p();for(p(),f=0;f<r.length;f++)d[r[f]]=l[f];return d;function h(t){for(var e=[],n=0;n<r.length;n++){for(var o=0,l=0;l<i[n].length;l++)o+=a[n][i[n][l]]*t[i[n][l]];e.push(o+=s*t[n])}return e}function p(){for(var t=1/function(t){for(var e=0,n=0;n<t.length;n++)e+=Math.abs(t[n]);return e}(l),e=0;e<r.length;e++)l[e]*=t}}}function qu(t,e){var r={},i={},o=function(t,e,r){var i=null;function o(t,e,n){t.edges.push({id:e.id,id1:e.id1,id2:e.id2,ids:n}),t.connections.push(n)}function a(i){var a={connections:[],adjacency:{},vertices:{},edges:[],selfAdjacency:{},selfConnections:[]};e(i,function(t){a.vertices[t.id]={x:t.x,y:t.y},a.adjacency[t.id]={}});var s=[],l={};t(i,function(t){t.id1===t.id2?(l[t.id1]=l[t.id1]||[],l[t.id1].push(t.id)):function(t,e,n,r,i){t[n]||(t[n]={}),t[r]||(t[r]={}),t[n][r]||(t[r][n]=[],t[n][r]=t[r][n],e.push(i)),t[n][r].push(i)}(a.adjacency,s,t.id1,t.id2,t.id)});for(var u=s.length,c=r(),d=0;d<u;d++){var f=c[s[d]];o(a,f,a.adjacency[f.id1][f.id2])}if(Y(l)){var h=a.connections.slice();n(l,function(t){h.push(t)}),a.selfConnections=h}else a.selfConnections=a.connections;return a.selfAdjacency=l,a}return{getCache:function(t){var e=T(t,{all:!1,combos:"toplevel"}),n=(e.all?"all":"visible")+"-"+e.combos;return i||(i={}),i[n]||(i[n]=a(e)),i[n]},clearCache:function(){i=null}}}(u,c,d),a=o.clearCache,s=o.getCache;function l(t,e,r){var i=e.all,o="toplevel"!==e.combos,a="underlying"!==e.combos;n(t,function(t){!i&&t.hi||!o&&t.parentId||!a&&t._combo||r(t)})}function u(t,e){l(i,t,e)}function c(t,e){l(r,t,e)}function d(){return i}return{asyncEachNode:function(n,r,i,o){var a=function(){var t=[];return c(n,function(e){t.push(e)}),t}(),s=a.length,l=-1,u=0,d=Date.now(),f=d;function p(){++l>=s?(g(1),o()):i(a[l],v)}function g(n){e&&(t.fire("progress",{task:r,progress:n}),e.trigger("progress",r,n))}function v(){d=Date.now(),(u++>500||d-f>700)&&(u=0,f=Date.now(),1)?(g(l/s),h(p,0)):p()}g(0),v()},clearCache:a,connections:function(t){var e=s(t);return t.self?e.selfConnections:e.connections},eachLink:u,eachNode:c,findAdjacency:function(t,e,n){var r=s(t);if(e===n)return r.selfAdjacency[e];var i=r.adjacency;return i[e]&&i[e][n]},getCache:s,getLinks:d,getNodes:function(){return r},privateSetProperties:function(t,e){r=t,i=e,a()}}}function $u(t,e,r){var i=t.getNodes(),o=t.getLinks(),a=S(e),s={},l={},u=N(a),c=T(r,{all:!1,direction:"any",hops:1});if(c.hops<1)throw new Error("neighbours error: hops must be a positive number");Vu(c);var d=0,f={},h={},p=u,g=t.getCache(c),v=g.adjacency,m=g.selfAdjacency;function y(t,e,n){!h[e]&&Gu(o,n,t,e,c)&&(s[e]=!0,h[e]=!0,n!==t&&(l[t]=!0,t in p&&(l[n]=!0),t in u||(d++,f[t]=!0)))}for(n(u,function(t,e){var n=B(e);if(!i[n]&&!o[n])throw new Error("neighbours error: ids must be present in the graph");d++});c.hops--&&d;)d=0,n(u,function(t,e){if(i[e]){v[e]&&n(v[e],function(t,n){for(var r=0;r<t.length;r++)y(n,B(t[r]),e)});var r=m[e];if(r)for(var a=0;a<r.length;a++)y(e,r[a],e)}else if(o[e]){var s=o[e];!h[s.id2]&&Gu(o,s.id2,s.id1,e,c)&&(l[s.id2]=!0,h[s.id2]=!0,h[e]=!0,s.id2 in u||(d++,f[s.id2]=!0)),!h[s.id1]&&Gu(o,s.id1,s.id2,e,c)&&(l[s.id1]=!0,h[s.id1]=!0,h[e]=!0,s.id1 in u||(d++,f[s.id1]=!0))}}),u=f,f={};return{nodes:Object.keys(l),links:Object.keys(s)}}function tc(t,e){var r=T(e,{all:!1,combos:"toplevel"});r.combos="toplevel",Vu(r);var i=t.getCache(r).adjacency,o=function(){var e={},o={},a=[],s=[],l=0;n(e=Ju(t,{multi:!1,all:r.all,combos:"toplevel"}),function(t){l=Math.max(l,t)});for(var u=Object.keys(e).length,c=0;c<l+1;c++)s[c]=0;t.eachNode(r,function(t){s[e[t.id]]++});var d=1;for(c=0;c<l+1;c++){var f=s[c];s[c]=d,d+=f}for(t.eachNode(r,function(t){var n=t.id;o[n]=s[e[n]],a[o[n]]=n,s[e[n]]++}),c=l;c>1;c--)s[c]=s[c-1];s[0]=1;for(var h=function(t){var r=a[t];n(i[r],function(t,n){if(e[n]>e[r]){var i=e[n],l=o[n],u=s[i],c=a[u];n!==c&&(o[n]=u,a[l]=c,o[c]=l,a[u]=n),s[i]++,e[n]--}})},p=0;p<u;p++)h(p);return e}();return{maximumK:function(t){var e=0;return n(t,function(t){e=Math.max(e,t)}),e}(o),values:o}}function ec(t,e){var n=qu(t,e);return{internalMarkLinks:function(t){return Ru(n,t)},privateGetLinkIdsBetween:function(t,e){return function(t,e,n){var r=t.getCache({all:!0,combos:"all"}),i=r.adjacency,o=r.selfAdjacency,a=[];return i[e]&&(a=i[e][n]||[]),e===n&&o[e]&&(a=a.concat(o[e])),a}(n,t,e)},privateNeighbourLinks:function(t){return Ou(n,t)},clearCache:n.clearCache,connections:n.connections,findAdjacency:n.findAdjacency,privateSetProperties:n.privateSetProperties,betweenness:function(t,e){return Wu(n,t,e)},closeness:function(t,e){return Ku(n,t,e)},clusters:function(t){return function(t,e){var n=T(e,{all:!1,combos:"toplevel",consistent:!0,factor:5});n.combos="toplevel",Vu(n);var r,i=[],o=[],a=[],s=[],l={},u=0,c=[],d=[],f=[],h=[],p=[];t.eachNode(n,function(t){s.push(t.id),o.push([]),a.push([]),l[t.id]=s.length-1,c.push([s.length-1]),d.push(s.length-1),p.push(s.length-1),i.push(0),f.push(0)}),t.eachLink(n,function(t){var e=function(t,e){var n=1;return e.value&&t.d&&(n=+t.d[e.value]),n}(t,n);u+=e;var r=l[t.id1],s=l[t.id2];a[r][s]||(a[r][s]=0,a[s][r]=0),a[r][s]+=e,a[s][r]+=e,i[r]+=e,i[s]+=e,f[r]+=e,f[s]+=e,o[r].push(s),o[s].push(r)});var g=Math.max(1e4,50*s.length);if(0===s.length)return[];0===u&&(g=0);var v=nt();v.setSeed(n.consistent?900736044081:null),function(t){r=m(r=+t)?r:5,r=Math.max(0,r),r=(r=Math.min(10,r))*r*r/125}(n.factor);for(var y=0;y<g;y++){v.next()>.95&&_(p[Math.floor(v.next()*p.length)],p[Math.floor(v.next()*p.length)]),y<.5*g&&v.next()>.98&&E(p[Math.floor(v.next()*p.length)]);var b=Math.floor(s.length*v.next()),x=o[b][Math.floor(v.next()*o[b].length)],w=d[x],C=d[b];w!==C&&A(w,C,b)>=0&&M(b,w)}function A(t,e,n){var s=i[n],l=(f[e]-f[t]-s)*s*r;l/=2*u;for(var c=0;c<o[n].length;c++){var h=o[n][c];d[h]===e?l-=a[n][h]:d[h]===t&&(l+=a[n][h])}return l/u}function _(t,e){if(e!==t&&0!==c[t].length&&0!==c[e].length){var n=0;n-=r*f[t]*f[e]/u;for(var i=0;i<c[t].length;i++)for(var s=c[t][i],l=0;l<o[s].length;l++)d[o[s][l]]===e&&(n+=a[s][o[s][l]]);if((n/=u)>0){var h=c[t].length;for(i=0;i<h;i++)M(c[t][0],e)}}}function M(t,e){var n=d[t];d[t]=e;for(var r=[],o=0;o<c[n].length;o++)c[n][o]!==t&&r.push(c[n][o]);0===c[e].length&&(p.push(e),h.splice(h.indexOf(e),1)),c[n]=r,c[e].push(t),f[e]+=i[t],f[n]-=i[t],0===c[n].length&&(h.push(n),p.splice(p.indexOf(n),1))}function E(t){var e=c[t].length;if(1!==e&&h.length){for(var n=[],r=0;r<e;r++)n.push(c[t][r]);for(r=0;r<e&&h.length;r++)M(n[r],h[0])}}return function(){for(var t=[],e=0;e<p.length;e++){for(var n=[],r=0;r<c[p[e]].length;r++)n.push(s[c[p[e]][r]]);t.push(n)}return t}()}(n,t)},components:function(t){return Bu(n,t)},degrees:function(t){return Ju(n,t)},distances:function(t,e){return Hu(n,t,e)},eigenCentrality:function(t){return Qu(n,t)},kCores:function(t){return tc(n,t)},neighbours:function(t,e){return $u(n,t,e)},pageRank:function(t){return function(t,e){var n=T(e,{all:!1,combos:"toplevel",directed:!0});n.combos="toplevel",Vu(n),Nu(n,t);var r={},i=[],o=[],a=[],s=[],l=[],u=.85;t.eachNode(n,function(t){i.push(t.id),r[t.id]=i.length-1,o.push([]),a.push({}),s.push(0)});var c=Math.max(100,5*Math.sqrt(i.length));t.eachLink(n,function(t){var e=r[t.id1],i=r[t.id2],l=function(t,e){var n=1;return e.value&&t.d&&(n=+t.d[e.value]),n}(t,n);n.directed&&!t.a2&&(t.a1||t.a2)||(a[i][e]||(a[i][e]=0,o[i].push(e)),a[i][e]+=l,s[e]+=l),n.directed&&!t.a1&&(t.a1||t.a2)||(a[e][i]||(a[e][i]=0,o[e].push(i)),a[e][i]+=l,s[i]+=l)});for(var d=0;d<i.length;d++)l.push(Math.random());var f=1/g(l);for(d=0;d<i.length;d++)l[d]*=f;for(d=0;d<c;d++)l=p(l);for(f=1/g(l),d=0;d<i.length;d++)l[d]*=f;var h={};for(d=0;d<i.length;d++)h[i[d]]=l[d];return h;function p(t){for(var e=[],n=0,r=0,c=0;c<i.length;c++)n+=t[c];for(c=0;c<i.length;c++){for(var d=0,f=0;f<o[c].length;f++){var h=o[c][f];d+=a[c][h]*t[h]/s[h]}0===s[c]&&(r+=u*t[c]),d*=u,e.push(d+=(1-u)*n/i.length)}for(r/=i.length,c=0;c<l.length;c++)e[c]+=r;return e}function g(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}}(n,t)},shortestPaths:function(t,e,r){return function(t,e,n,r){var i=t.getNodes();if("string"!=typeof e||"string"!=typeof n)throw new Error("shortestPaths error: ids must be strings");if(!i[e]||!i[n])throw new Error("shortestPaths error: ids must be present in the graph");var o=T(r,{combos:"toplevel",all:!1});Nu(o,t),Vu(o);var a=Xu(t,e,o),s=a.previous;if(a.distance[n]===1/0)return{onePath:[],one:[],items:[],distance:1/0};for(var l=[],u=[],c=n;s[c];)l.unshift(c),u.unshift(c),u.unshift(s[c][0].links[0]),c=s[c][0].id;function d(t){for(var e=[],n=0;n<t.length;n++)s[t[n].id]&&(e=e.concat(s[t[n].id]));return e}l.unshift(c),u.unshift(c);var f={};f[n]=!0;var h=[];h.push({id:n});for(var p=d(h);p.length>0;){for(var g=0;g<p.length;g++){f[p[g].id]=!0;for(var v=0;v<p[g].links.length;v++)f[p[g].links[v]]=!0}p=d(p)}return{onePath:u,one:l,items:Object.keys(f),distance:a.distance[n]}}(n,t,e,r)}}}var nc=2*Math.PI,rc=Math.PI/2;function ic(){var t=-Math.PI/12,e=Math.sin(t),n=Math.cos(t);function r(t,e){if(t.r===e.r){if(t.t){if(!e.t)return-1;if(t.t<e.t)return-1;if(t.t>e.t)return 1}else if(e.t)return 1;return t.id===e.id?0:t.id<e.id?-1:1}return t.r<e.r?1:-1}return{compareCircles:r,concentricLayout:function(i,o){var a,s=i;if(!s||0===s.length)return s;var l=T(o,{padding:8,radialPadding:0}),u=l.padding,c=0;s.sort(r),s=s.map(function(t){return{id:t.id,r:t.r+u,x:t.x,y:t.y,labelOffset:t.labelOffset,w:t.w,h:t.h}});var d=[],f=0,h=s[c++];if(1===s.length)g();else if(2===s.length)v();else if(3===s.length)m();else if(4===s.length)!function(){var t=h,n=s[c++],r=s[c++],i=s[c++];n.r===r.r&&r.r===i.r&&(n=s[2],r=s[1]);var o=t.r+r.r,a=t.r,l=Math.sqrt(o*o-a*a),u=t.r-n.r,d=e*l;t.x=-n.r,t.y=-t.labelOffset-d,n.x=t.r,n.y=-n.labelOffset+d,r.x=u+d,r.y=-l-r.labelOffset,i.x=u-d,i.y=l-i.labelOffset}();else if(s.length>4){var p=s[0].r;for(s[2].r/p>.5&&s.length>10?m():s[1].r/p>.5&&s.length>10?v():g(),a=Math.abs(s[0].y-s[0].r)+l.radialPadding,h=s[c++];h;)b();d.forEach(function(e){var n=nc/(e.circumference-e.spaceLeft),r=0,i=n*e.items[0].r;4===e.items.length&&(i-=t),e.items.forEach(function(t){var o=r+n*t.r;t.x=e.radius*Math.cos(o-rc-i),t.y=e.radius*Math.sin(o-rc-i)-t.labelOffset,r+=n*y(t)})}),function(){var t=s[0],e=s[0];s.forEach(function(n){n.y<t.y?t=n:n.y>t.y&&(e=n)});var n=(Math.abs(t.y-t.r)-(Math.sqrt(e.x*e.x+e.y*e.y)+e.r))/4;s.forEach(function(t){t.y+=n})}()}function g(){s[0].x=0,s[0].y=-s[0].labelOffset}function v(){var t=h,e=s[c++];t.x=0,t.y=-e.r-t.labelOffset,e.x=0,e.y=t.r-e.labelOffset}function m(){var t=h,r=s[c++],i=s[c++],o=(t.r+r.r+u)/Math.sqrt(3),a=(t.r-r.r)/2,l=1.25*Math.PI;t.x=o*e,t.y=-o*n+a,r.x=o*n,r.y=-o*e-r.labelOffset+a,i.x=o*Math.sin(l),i.y=-o*Math.cos(l)-i.labelOffset+a}function y(t){return 2*t.r+u}function b(){f+=h.r+a+l.radialPadding,a=h.r;var t=nc*f,e=t-y(h),n={items:[],radius:f,spaceLeft:0,circumference:t};for(d.push(n);h&&e>0;)n.items.push(h),(h=s[c++])&&(e-=y(h));if(h&&(e+=y(h)),n.spaceLeft=e,h&&s.length-c<5){for(var r=0;h;)r+=y(h),n.items.push(h),h=s[c++];n.radius=(t-e+r)/nc,n.circumference=nc*n.radius,n.spaceLeft=0}}return s}}}var oc=function(){};function ac(t,e,n,r){return void 0===r&&(r=oc),function(i,o){var a={vertices:i,updatedEdges:o,extents:wu(i)};return t.fire("progress",{task:"layout",progress:1}),e.trigger("progress","layout",1),r(a,n),a}}var sc=au.KnownProperties,lc=au.Names,uc=qo.fromArray,cc={proportion:.12,min:20,max:200};function dc(t,e,n,r){var i,o=function(t){var e={};return t.forEach(function(t){e[t]=t}),e}(r?r.nodeIds:[]),a=t.vertexMap,s=Is.buildPropertyBagFrom(uc(t.nodeList,function(t){return[a.getUniqueInverse(t.id),t]}),((i={})[sc.position2d]=function(t){return t},i[sc.sparseRadius]=function(t){return Math.max(n(t.id,!0).radius,.5)},i[sc.radius]=function(t){var e=n(t.id,!1).radius;return Math.max(e<.5?n(t.id,!0).radius:e,.5)},i[sc.speed]=function(t){return void 0!==o[t.id]?0:1},i));if(s[sc.group]=e,s[sc.degree]=Is.degrees(t.staticGraph),r&&r.absolute){var l=function(t,e,n,r){for(var i,o=t.vertexMap,a=o.size,s=new Map,l=[],u=0;u<r.length;u++){var c=o.getUniqueInverse(r[u]),d=n.get(c),f=e.get(c);s.has(d)||(l.push(d),s.set(d,[])),s.get(d).push({x:f.x,y:f.y})}return Is.buildPropertyBagFrom(uc(l,function(t){return[t,s.get(t)]}),((i={})[sc.groupCenter]={map:function(t){return Ns.Rect.center(Ns.pointExtents(uc(t)))},defaultValue:null},i[sc.groupSpeed]={map:function(){return 0},defaultValue:1},i),a)}(t,s[sc.position2d],e,r.nodeIds);K(s,l)}return s}function fc(t,e){var n=new au.SetTimeoutRunner(t,0,100);return n.initialize(e),{start:n.start.bind(n),cancel:n.cancel.bind(n)}}function hc(t,e){return t.initialize&&t.initialize(e),{start:function(n){try{for(;!t.isComplete();)t.run(e)}catch(t){return void n(t)}n()},cancel:function(){}}}function pc(t,e,n){var r=uu(z(t.v),t.e),i=ss(function(){return Is.connectedComponents(r.staticGraph)});function o(e){var n=e.klOpts.fixed&&Array.isArray(e.klOpts.fixed)?e.klOpts.fixed.filter(function(e){return void 0!==t.v[e]}):[],i={};return e.pinTo&&(e.pinTo.firstFixed&&n.length>0?i.pinTo=r.vertexMap.getUniqueInverse(n[0]):e.pinTo.fallback&&(i.pinTo=e.pinTo.fallback)),{nodeIds:n,absolute:!!e.klOpts.absoluteFixed,pinOptions:i}}function a(t,e,i,o,a){var s=au.createLayout(t,r.staticGraph,i.libgOpts);if(n&&void 0!==n[t]){var l=n[t];null===l?n[t]=new au.AdaptiveProxy(r,s):l.reset(r,s),s=n[t]}var u=(a?hc:fc)(s,e),c=function(t){return u.start(function(e){return t(e)})};return c.cancel=u.cancel,c.state=r,c.fixConfig=o,c}return{state:r,adaptiveState:n||null,organic:function(t,n){var s,l,u=t.klOpts,c="adaptive"===u.mode,d=null!=(s=u.packing)?s:c?"adaptive":void 0,f={attenuation:gu(u.tightness)/5-1},h=o(t),p=dc(r,i(),e,h);return p[sc.kcore]=Is.kcore(r.staticGraph),t.libgOpts=K({adaptive:c,initializationOptions:{seed:u.consistent?7:void 0,consistentSeeds:u.consistent,adaptive:c},liveUpdate:!1,packing:d,packingOptions:{padding:cc,aspectRatio:u.ratio},pinTo:null===(l=h.pinOptions)||void 0===l?void 0:l.pinTo,scale:f},t.libgOpts||{}),a(au.Names.organic,p,t,h,n)},reduceOverlaps:function(t,n,o){void 0===n&&(n=i());var s=dc(r,n,e);return t.libgOpts={iterations:{min:3,max:3},padding:{proportion:(10-gu(t.klOpts.tightness))/100,min:.5,max:1/0}},a(au.Names.removeOverlaps,s,t,{absolute:!1,nodeIds:[]},o)},pack:function(t,n,s){void 0===n&&(n=i());var l,u=t.klOpts,c=o(t),d=dc(r,n,e,c);return t.libgOpts=K({packing:u.packing,packingOptions:{padding:cc,aspectRatio:u.ratio},pinTo:null===(l=c.pinOptions)||void 0===l?void 0:l.pinTo},t.libgOpts||{}),a(au.Names.pack,d,t,c,s)}}}function gc(t,e,n,r,i){if(0===n)return r[t[0]]={x:0,y:0},{radius:e,index:-1};var o=2*e,a=o,s=Math.sqrt((n+1)*o/(Math.PI*a))*a,l=Math.floor(2*Math.PI*s/o);l=Math.min(l,n+1);var u,c=2*Math.PI/l;switch(l){case 2:u=Math.PI/2,s*=.75;break;case 3:u=Math.PI/3,s*=.85;break;case 4:u=0,s*=.85;break;case 5:u=0,s*=.9;break;default:u=0}s*=i/2;for(var d=0;d<l;)r[t[n-d]]={x:s*Math.cos(u),y:s*Math.sin(u)},u+=c,d++;return{radius:s,index:n-l}}function vc(t,e,r,i){n(t,function(t){t.arranged&&(t.x+=e,t.y+=r)}),i(t,{})}function mc(t,e,r,i,o,a,s,l){var u={tidy:function(t,e,n){var r=Au(f,o.e);return function(t,e,n,r,i,o){var a=e.map(function(t){return Object.keys(t.verts).filter(function(t){return void 0===n[t]})}).filter(function(t){return t.length>0});a.push(Object.keys(n));var s=pc({v:t,e:[]},r),l=s.state.vertexMap,u=cu(s.state,a,function(t){return t}),c={tightness:5,ratio:i,absoluteFixed:!1},d={packingOptions:{groupOrder:a.map(function(t){return u.get(l.getUniqueInverse(t[0]))}),padding:{proportion:.12,min:20,max:200}}};s.pack({klOpts:c,libgOpts:d},u,!0)(function(){return o(t,{})})}(f,r,t,s,e.ratio,n)},average:function(t,e,n){return vc(f,e.centre.x,e.centre.y,n)},absolute:function(t,e,n){return vc(f,e.absolute.x,e.absolute.y,n)}},c={grid:function(t,e,n,r,i){return function(t,e,n,r){for(var i,o,a=2*e+24+n,s=Math.floor(Math.sqrt(t.length)),l=Math.ceil(t.length/s),u=0,c=0,d={},f={x:0,y:0},h=0;h<s;h++){for(var p=0;p<l;p++){var g=l*h+p;t[g]&&(d[t[g]]={x:u,y:c},f.x+=u,f.y+=c),u+=a}u=0,c+=a}for("absolute"===r?(i=a*(l-1)/2,o=a*(s-1)/2):(i=f.x/t.length,o=f.y/t.length),h=0;h<t.length;h++)d[t[h]].x-=i,d[t[h]].y-=o;return d}(t,n,r,i)},circle:function(t,e,n,r){return function(t,e,n){for(var r=0,i={},o=0;o<e.length;o++)r+=t[e[o]].r;if(1===e.length)i[e[0]]={x:0,y:0};else{var a=Math.PI/4;2===e.length&&(a=Math.PI/2),4===e.length&&(a=0),e.length<4&&(r*=1.5);var s=2*Math.PI/e.length,l=n*r/4;for(o=0;o<e.length;o++)i[e[o]]={x:l*Math.cos(a),y:l*Math.sin(a)},a+=s}return{positions:i,radius:r}}(e,t,1.25-(5-r)/50).positions},radial:function(t,e,n,r){return function(t,e,n){var r,i={},o=0,a=t.length-1;do{var s=gc(t,e,a,i,n);o=Math.max(s.radius,o),a=s.index}while(a>=0);switch(t.length){case 4:r=2;break;case 3:r=2.5;break;case 2:r=3;break;case 1:r=1;break;default:r=2}return{positions:i,radius:o*r}}(t,n,1.25-(5-r)/50).positions}},d=T(a,{tightness:5,position:"average",x:0,y:0});r.trigger("prechange","arrange"),e.fire("prechange",{type:"arrange"});var f=o.v,h=vu(d.tightness),p=u[d.position]||u.average,g=c[t]||c.grid,v={x:+d.x||0,y:+d.y||0},m=S(i);if((m=function(t,e){for(var n=[],r=0;r<e.length;r++)t[e[r]]&&n.push(e[r]);return n}(f,m)).length){for(var y=0,b={x:0,y:0},x=0;x<m.length;x++)y+=f[m[x]].r,b.x+=f[m[x]].x,b.y+=f[m[x]].y;y/=m.length,b.x/=m.length,b.y/=m.length;var w=g(m,f,y,h,d.position),C={};n(w,function(t,e){f[e].x=t.x,f[e].y=t.y,C[e]=f[e],C[e].arranged=!0}),p(C,{centre:b,absolute:v,ratio:d.ratio},ac(e,r,d,l))}else l()}function yc(t){var e={include:!1};function r(t,e,n){return{id:e,x:t.x,y:t.y,fixed:n,d:t.d,labelOffset:Su(t),lc:0,r:1,w:1,h:1}}function i(t,e,n,i){if(!(n in t)){if(!(n in e))throw new Error("link has end which is not in nodes list");var o=e[n];if(o.hi)throw new Error("link has end which is hidden");t[n]=r(o,n,n in i)}}function o(t,e,o,a,s,l,u){for(var c={},d=[],f=0;f<a.length;f++){var h=a[f],p=o[h[0]],g=p.id1,v=p.id2;i(c,e,g,s),i(c,e,v,s);for(var m=[],y=1,b=0;b<h.length;b++){var x=h[b],w=o[x];m.push({id:x,sign:w.id1===g?1:-1,off:w.off,a1:w.a1||!1,a2:w.a2||!1}),y=Math.max(y,w.w||1)}d.push({id:g<v?g+"-"+v:v+"-"+g,id1:g,id2:v,arrowSize:t.currentArrowLength(y,1),links:m,numLinks:m.length}),c[g].lc+=1,c[v].lc+=1}return n(e,function(t,e){if(!(t.hi||!l&&t.parentId)&&(c[e]||(c[e]=r(t,e,t.id in s)),u[e])){var n=c[e],i=u[e];n.x=i.x,n.y=i.y}}),{v:c,e:d}}function a(t,e,n,r,i){var o=ku(e,t,n,i);r.r=o.legacyRadius,r.w=o.width,r.h=o.height}function s(t,e,n,r,i){var o=ku(e,t,n,i);r.r=o.radius,r.w=o.width,r.h=o.height}function l(n,r,i,o,l,u){for(var c=Object.keys(lc).indexOf(n)>=0,d=t.privateGetMaxLabelLength(),f="radial"!==n?{include:!0,maxLength:d}:e,h="lens"===n||c?s:a,p=0;p<i.length;p++)h(r,o[i[p]],f,l[i[p]],u)}return function(t,e,n,r,i,a,s,u,c,d){var f={};if(a)for(var h=0;h<a.length;h++)f[a[h]]=!0;var p=o(t,n,r,i().connections({all:!1,combos:c}),f,void 0!==c&&"toplevel"!==c,null!=d?d:{}),g=p.v,v=p.e,m=Object.keys(g);return l(s,e,m,n,g,u),{e:v,extents:wu(g),v:g,vcount:m.length}}}function bc(t,e,r){void 0===r&&(r="r");var i,o,a,s,l=[],u=function(t){var e=0;return n(t,function(t){e=Math.max(e,t.length)}),e}(t);function c(t){if(t[s]){for(var n=t[s].vertices,l=0;l<n.length;l++){var u=e[n[l]][r];o+=u,i=Math.max(i,u)}a+=n.length}}for(s=0;s<u;s++){i=0,o=0,a=0;var d=0;n(t,c);var f=l[s-1];f&&i<f.max+f.yOffset&&(d=(f.max+f.yOffset)/2),l[s]={max:i,average:o/a,sum:o,yOffset:d}}return l}function xc(t,e,n){return function(t,e,n){var r=[];if(n>0){var i=t[n];i&&i.edges&&i.edges.forEach(function(t){t.id1===e?r.push(t.id2):t.id2===e&&r.push(t.id1)})}return r}(t,e,n+1)}function wc(t){var e={up:function(t){t.y=-t.y,t.x=t.x},down:function(t){},right:function(t){var e=t.y;t.y=t.x,t.x=e},left:function(t){var e=t.y;t.y=t.x,t.x=-e}};return e[t]||e.down}function Cc(t){return pu(t)&&"intra"===t.duType}function Ac(t,e){return pu({id:t.id})&&(Cc(e[t.id1])||Cc(e[t.id2]))}function _c(t,e,r){var i={};function o(e,n){"level"in t[n]||(t[n].level=1/0),t[n].level=Math.min(t[n].level,e)}for(var a=0;a<r.length;a++)n(e.distances(r[a]),o),(i[t[r[a]].c]=i[t[r[a]].c]||[]).push(r[a]);var s=0;return n(t,function(t){s=Math.max(s,t.level)}),{topByComponent:i,maxLevelNum:s}}function Mc(t){var e={},r={},i={},o=[],a=1;function s(l){o.push(l),i[l]=!0,e[l]=a,r[l]=a,a++;for(var u=Object.keys(t[l]),c=0;c<u.length;c++){var d=u[c];if(void 0===e[d]){var f=s(d);if(f)return f;r[l]=Math.min(r[l],r[d])}else i[d]&&(r[l]=Math.min(r[l],e[d]))}if(e[l]===r[l]){var h={},p=void 0;do{p=o.pop(),i[p]=!1,h[p]=!0}while(o.length>0&&l!==p);if(Object.keys(h).length>1){var g={};return Object.keys(h).forEach(function(e){g[e]=g[e]||{},n(t[e],function(t,n){h[n]&&(g[e][n]=t)})}),g}}}for(var l=Object.keys(t),u=0;u<l.length;u++){var c=l[u];if(!e[c]){var d=s(c);if(d)return d}}}function Ec(t){var e,n=[],r=[],i=new Map,o={},a=!1;function s(t){o[t]=!1,i.has(t)&&i.get(t).forEach(function(e){i.get(t).delete(e),o[e]&&s(e)})}function l(u){var c=!1;o[u]=!0;for(var d=t[u],f=Object.keys(d),h=0;h<f.length;h++){if(a)return!0;var p=f[h];p===e?(n.push(cn(r,[d[p]])),c=!0):o[p]||(r.push(d[p]),c=l(p))}return r.pop(),c?(n.length<100?s(u):a=!0,!0):(f.forEach(function(t){var e=i.get(t);e||(e=new Set,i.set(t,e)),e.add(u)}),!1)}for(var u=Object.keys(t),c=0;c<u.length&&(i.clear(),o={},l(e=u[c]),kc(t,e),!(Object.keys(t).length<3))&&Mc(t);c++);return n}function kc(t,e){n(t,function(n,r){r===e&&delete t[r],Object.keys(n).forEach(function(n){n===e&&delete t[r][n]})})}function Sc(t){var e={};return t.forEach(function(t){(e[t.tail]=e[t.tail]||{})[t.head]=t,e[t.head]=e[t.head]||{}}),e}function Ic(t,e){var n,r,i={},o={},a={},s=[];if(1===t.length){var l=t[0].filter(function(t){return!e[t.id]});return(n={})[(l.length>0?Lc(l):t[0][0]).id]=!0,n}if(t.forEach(function(t){var n,r=t.filter(function(t){return!e[t.id]});r.length>0?(n=Lc(r),s.push(r)):n=t[0],0!==n.netDirection||a[n.id]||(a[n.id]=!0),o[n.id]=!0}),Object.keys(a).length>0)return a;s.forEach(function(t){t.forEach(function(t){i[t.id]=i[t.id]?++i[t.id]:1})});var u=Object.keys(i);if(u.length>0){var c=u.reduce(function(t,e){return i[t]>i[e]?t:e});if(1!==i[c])return(r={})[c]=!0,r}return o}function Tc(t,e){for(var n=Object.keys(e).length,r=0;r<t.length&&n>0;r++){var i=t[r];e[i.id]&&(i.head=i.head===i.id1?i.id2:i.id1,i.tail=i.head===i.id2?i.id1:i.id2,n--)}}function Lc(t){var e=t.filter(function(t){return t.directionInferred});return(e.length>0?e:t).reduce(function(t,e){return Math.abs(e.netDirection)<Math.abs(t.netDirection)?e:t})}function Oc(t,e){for(var r={},i={},o=0,a=0;a<t.length;a++)i[a]=Rc(t[a],r),o=Math.max(o,i[a].length);var s={};return n(e,function(t){t.level=r[t.id]||0,0===t.level&&(s[t.c]=s[t.c]||[]).push(t.id)}),{topByComponent:s,maxLevelNum:o}}function Rc(t,e){if(0===t.edges.length)return[];var n=function(t){return t.map(function(t){var e,n=0,r=0;t.links.forEach(function(t){t.a1&&(n+=t.sign),t.a2&&(n-=t.sign),t.a1||t.a2||(r-=t.sign)});var i=0===n,o=i?r:n,a=(e=0!==n?n>0?t.id1:t.id2:0!==r?r>0?t.id1:t.id2:t.id1<t.id2?t.id2:t.id1)===t.id2?t.id1:t.id2;return un(un({},t),{directionInferred:i,netDirection:o,head:e,tail:a})})}(t.edges),r=function(t){for(var e={},n=Sc(t),r=Mc(n);r;){var i=Ic(Ec(r),e);Tc(t,i),Object.keys(i).forEach(function(t){e[t]=!0}),r=Mc(n=Sc(t))}return function(t){var e={},n={};return t.forEach(function(t){(e[t.tail]=e[t.tail]||{})[t.head]=un({isIncomingEdge:!0,tight:!1},t),(e[t.head]=e[t.head]||{})[t.tail]=un({isIncomingEdge:!1,tight:!1},t),(n[t.tail]=n[t.tail]||[]).push(t.head),n[t.head]=n[t.head]||[]}),{directedAdjacencyList:n,incidenceList:e}}(t)}(n),i=r.incidenceList;return Pc(r.directedAdjacencyList,e),function(t,e,n){var r=Object.keys(e).length,i=function(t,e,n){var r=[],i=Object.keys(e);function o(t){return Zc(t,n)}for(var a=0,s=i[a];0===z(e[s]).filter(o).length;)s=i[++a];var l=Vc(e,s,n);return t.forEach(function(t){l[t.id1]&&l[t.id2]||r.push(t)}),{nonTreeEdges:r,vertsInTightTree:l}}(t,e,n),o=i.vertsInTightTree,a=i.nonTreeEdges;!function t(){var i=Object.keys(o);if(i.length!==r){var s,l=1/0,u={};if(a.forEach(function(t){var e,r=Bc(t,n);(o[t.tail]||o[t.head])&&(r<l?(l=r,s=!!o[t.head],(e={})[t.id]=!0,u=e):r===l&&(u[t.id]=!0))}),l>0){var c=s?-l:l;i.forEach(function(t){n[t]+=c})}a=a.filter(function(t){if(u[t.id]&&(o[t.head]||o[t.tail])){if((s||0===l)&&o[t.head]&&!o[t.tail])return zc(o,t),Gc(e,t,!0),!1;if((!s||0===l)&&!o[t.head]&&o[t.tail])return zc(o,t),Gc(e,t,!0),!1}return!o[t.tail]||!o[t.head]||(Zc(t,n)&&Gc(e,t,!0),!1)}),t()}}()}(n,i,e),function(t,e,n){var r,i=Dc(e);function o(t){n[t]-=r}for(;i;){r=1/0;for(var a=[],s=0;s<t.length;s++){var l=Bc(t[s],n);i.tailSegmentVerts[t[s].head]&&!i.tailSegmentVerts[t[s].tail]&&l>0&&(a.push(t[s]),r=Math.min(l,r))}Object.keys(i.tailSegmentVerts).forEach(o),a.forEach(function(t){Zc(t,n)&&Gc(e,t,!0)}),Gc(e,un({id1:i.tail,id2:i.head},i),!1),i=Dc(e)}return function(t,e){var n=[],r=j(e),i=1/0,o=-1/0;r.forEach(function(e){var n=t[e];i=n<i?n:i,o=n>o?n:o}),r.forEach(function(e){t[e]+=-i}),o+=-i;for(var a=0;a<=o;a++)n.push(a);return n}(n,e)}(n,i,e)}function Pc(t,e){var r=function(t){if(null===t)return null;switch(typeof t){case"object":if(Array.isArray(t))return t.slice();if(u(t))return s(t);if(t instanceof Date)return new Date(t.getTime());var e={};return n(t,function(t,n){e[n]=t}),e;case"boolean":case"string":case"number":return t;default:return}}(t),i=0,o=Object.keys(t).length,a={};!function t(r){if(0!==o){var s={};n(r,function(t,e){a[e]||t.forEach(function(t){t&&(s[t]=!0)})}),j(r).forEach(function(t){s[t]||a[t]||(e[t]=i,a[t]=!0,o--)}),i++,t(r)}}(r)}function Vc(t,e,r){var i={},o={};return function e(a){i[a]=!0,n(t[a],function(n,a){Zc(n,r)&&(i[a]?i[a]&&o[a]&&(Gc(t,n,!0),zc(o,n)):(Gc(t,n,!0),zc(o,n),e(a)))})}(e),o}function Fc(t,e,r){var i=!1,o={},a={};!function s(l){a[l]=!0,o[l]=!0,n(t[l],function(t,n){if(t.tight&&!o[n]){if(l!==e&&n===r)return void(i=!0);n!==r&&(a[n]=!0,s(n))}})}(e);var s=0;return i||n(t,function(t,e){n(t,function(t,n){t.isIncomingEdge&&(a[e]&&!a[n]&&s++,!a[e]&&a[n]&&s--)})}),{cutValue:s,tailSegmentVerts:a}}function Dc(t){for(var e=Object.keys(t),n=0;n<e.length;n++)for(var r=t[e[n]],i=e[n],o=z(r),a=j(r),s=0;s<o.length;s++)if(o[s].isIncomingEdge&&o[s].tight){var l=a[s],u=Fc(t,i,l);if(u.cutValue<0)return{head:l,tail:i,tailSegmentVerts:u.tailSegmentVerts}}}function Bc(t,e){return Math.abs(e[t.id1]-e[t.id2])-1}function Zc(t,e){return 1===Math.abs(e[t.id1]-e[t.id2])}function Gc(t,e,n){t[e.id1][e.id2].tight=n,t[e.id2][e.id1].tight=n}function zc(t,e){t[e.id1]=!0,t[e.id2]=!0}function jc(t,e,r,i,o){for(var a={},s={},l=0;l<i.length;l++)s[l]=Yc(e,r,i[l],a);var u=function(t,e,n){var r={},i=0;if(n){for(var o=[],a={},s=0;s<t.length;s++)for(var l=0;l<e[s].length;l++)a[e[s][l]]||(o.push(e[s][l]),a[e[s][l]]=!0);for(o.sort(function(t,e){return t-e}),i=o.length,s=0;s<t.length;s++)for(r[s]={},l=0;l<o.length;l++)r[s][o[l]]=l}else for(s=0;s<t.length;s++){for(r[s]={},l=0;l<e[s].length;l++)r[s][e[s][l]]=l;i=Math.max(i,e[s].length)}return{customLevelMap:r,maxLevelNum:i}}(i,s,o),c={};return n(t,function(t){t.level=u.customLevelMap[t.c][a[t.id]]||0,0===t.level&&(c[t.c]=c[t.c]||[]).push(t.id)}),{topByComponent:c,maxLevelNum:u.maxLevelNum}}function Yc(t,e,r,i){var o={},a=[],s=1/0;return n(r.verts,function(e){if(e.d&&m(e.d[t])){var n=e.d[t];o[n]||(o[n]=[],a.push(n)),o[n].push(e.id),i[e.id]=n,n<s&&(s=n)}}),s===1/0?Rc(r,i):(a.sort(function(t,e){return t-e}),function(){for(var t=0;t<a.length;t++){for(var n=a[t],r=[],s=e.neighbours(o[n]),l=((a[t+1]||n+1)+n)/2,u=0;u<s.nodes.length;u++){var c=s.nodes[u];V(i[c])&&(r.push(c),i[c]=l)}r.length&&(a.splice(t+1,0,l),o[l]=r)}}(),a)}function Nc(t,e,n,r,i,o,a,s){var l=n(),u=i?"sequential":"hierarchy",c=a?jc(t,a,l,r,i):o&&o.length>0||!i?_c(t,l,o):Oc(r,t),d={},f=function(t,e,n,r,i){var o=0;function a(e,i){var a=e.origId||e.id,s={id:fu+a+"-"+o++,level:e.level-1,origId:a,x:0,y:0,c:e.c,r:10,fixed:!1,lc:e.lc,duType:i,w:20,h:20,labelOffset:0};return t[s.id]=s,n[e.c].verts[s.id]=s,r[s.id]=!0,s}function s(t,r,i,o){void 0===o&&(o=0);var a={id:fu+t.id+"-"+r.id,id1:t.id,id2:r.id,c:i,numLinks:o};return"level"in t&&"level"in r&&(a.level=Math.max(t.level,r.level)),e.push(a),n[i].edges.push(a),a}return{insertEdge:s,insertChain:function t(e,n,r){var i=r.c,o=r.numLinks,l=a(e,"chain"),u=r.id1===n.id;s(u?l:e,u?e:l,i,o),l.level===n.level+1?s(u?n:l,u?l:n,i,o):t(l,n,r)},insertInternalLink:function(t,e,n){var r=n.c,o=n.numLinks;if(t.level>0){var l=a(t,"intra");s(t,l,r,o),s(l,e,r,o)}if(t.level<i-1){var u=a(t,"intra");u.level+=2,s(t,u,r,o),s(u,e,r,o)}}}}(t,e,r,d,c.maxLevelNum);(function(t,e,n,r,i,o){void 0===o&&(o=[]);for(var a=0,s=e.length;a<s;a++){var l=void 0,u=void 0,c=e[a],d=t[B(c.id1)],f=t[B(c.id2)],h=d.level,p=f.level;m(h)&&m(p)&&(c.level=Math.max(h,p),h<p?(i[f.id]=!0,u=d,l=f):p<h&&(i[d.id]=!0,u=f,l=d));var g=Math.abs(h-p);g>1?r.insertChain(l,u,c):"sequential"===n&&0===g&&(r.insertInternalLink(d,f,c),o.push(c))}})(t,e,u,f,d,s),"hierarchy"===u&&a&&Uc(t,l,f,d,c.topByComponent)}function Uc(t,e,r,i,o){n(t,function(n,a){if(!i[a]&&0!==n.level){for(var s=o[n.c],l=void 0,u=1/0,c=0;c<s.length;c++){var d=e.shortestPaths(a,s[c]);d.distance<u&&(l=d,u=d.distance)}for(var f=0;f<l.one.length;f++){var h=t[l.one[f]];if(h&&"level"in h&&h.level<n.level){var p=r.insertEdge(n,h,n.c);n.level-h.level>1&&r.insertChain(n,h,p);break}}}})}function Wc(t,e,n,r,i,o,a,s,l){Xc(r,i,0,a,s,l),function(t,e,n,r,i,o){for(var a=0,s=Math.PI*(2/3),l=0,u=0;u<e[t].length;u++){var c=e[t][u].vertices,d=r[u].average,f=2*((o<d?d:o)+12)+r[u].yOffset;a+=l;for(var h=0;h<c.length;h++){var p=n[c[h]];if(p.y=a,!i){var g=p.children;if(g&&g.length>1){var v=Hc(Kc(g.map(function(t){return n[t]})),s);f=Math.max(f,v)}}}l=f}}(t,e,i,n,o,s)}function Xc(t,e,n,r,i,o){var a=2*i+24+o;r||(t.x=n);var s=n-t.subChildrenCount*(a/2),l=t.children;if(l)for(var u=0;u<l.length;u++){var c=e[l[u]],d=c.subChildrenCount;0===d&&(d=1);var f=s+d*a;Xc(c,e,(f+s)/2,!1,i,o),s=f}}function Hc(t,e){return t/(2*Math.tan(e/2))}function Kc(t){for(var e=1/0,n=-1/0,r=0;r<t.length;r++){var i=t[r].x;e=Math.min(e,i),n=Math.max(n,i)}return n-e}function Jc(t,e,r,i,o,a){var s=T(r,{top:[],orientation:"down",stable:!0,flatten:!1}),l=t.v,u=t.e,c=Au(l,u),d=s.level,f=i?1:vu(s.tightness),h=d?[]:I(s.top,l),p=!i&&s.flatten;Nc(l,u,e,c,!1,h,d);var g=function(t,e){var r={};function i(t,e,n,i){r[t]=r[t]||[],r[t][e]=r[t][e]||{vertices:[],edges:[]},r[t][e][n]=r[t][e][n]||[],r[t][e][n].push(i)}n(t,function(t,e){"level"in t&&i(t.c,t.level,"vertices",e)});for(var o=0;o<e.length;o++)"level"in e[o]&&i(e[o].c,e[o].level,"edges",e[o]);return r}(l,u),v=function(t){var e=0,r=0;return n(t,function(t){"level"in t&&!pu(t)&&(e+=t.r,r+=1)}),e/r}(l),m=bc(g,l);function y(t){for(var e=0,n=0;n<t.length;n++){var r=l[t[n]].subChildrenCount;e+=0===r?1:r}return e}n(g,function(t){for(var e=t.length-1;e>=0;e--)for(var n=t[e].vertices,r=[],i=0;i<n.length;i++){var o=n[i],a=xc(t,o,e);if(l[o].children=[],l[o].subChildrenCount=0,0!==a.length){for(var s=[],u=0;u<a.length;u++)r.indexOf(a[u])<0&&s.push(a[u]);if(s.length>0)for(l[o].children=s,l[o].subChildrenCount=y(s),u=0;u<s.length;u++)r.push(s[u]),l[s[u]].parent=o}}}),n(g,function(t,e){var n={children:t[0].vertices,subChildrenCount:y(t[0].vertices)};Wc(e,g,m,n,l,p,!0,v,f)}),i?function(t,e,r,i,o){function a(t,e){return(t.r+e.r)/(t.a-e.a)}function s(t,e,n,r){if(r&&1===t.length)return 0;for(var i=e,o=i,s=1;s<t.length;s++)o=Math.max(a(l[t[s]],l[t[s-1]]),o);return function(t,e,n){var r=e>0?t+n:t+n/2;return r>0?r:t}(o,o-i,n)}var l,u=vu(o);n(e,function(e,n){for(var o=yu(r[+n].verts),a=0,c=a,d=4*i,f=d,h=2*i+24,p=0;p<e.length;p++){var g=e[p].vertices,v=void 0;l={};for(var m=0;m<g.length;m++){var y=g[m],b=(v=t[y]).x-o.minx;if((b*=2*Math.PI/(o.maxx-o.minx+h))<0||b>2*Math.PI)throw new Error("[Radial] Theta angle should be in the range [0; 2*PI]");l[y]={a:b,r:v.r}}for(c=a,0===p?g.length>1&&(a+=d/2):a+=d,(a=s(g,a,u,p<1))-c>f&&(f=a-c+1,d=Math.max(d,f/2),0===p&&g.length<3&&(a/=2)),m=0;m<g.length;m++)(v=t[g[m]]).x=a*Math.cos(l[v.id].a),v.y=a*Math.sin(l[v.id].a)}})}(l,g,c,v,s.tightness):function(t,e,r){var i=wc(r);n(e,function(e){for(var n=0;n<e.length;n++)for(var r=e[n].vertices,o=0;o<r.length;o++)i(t[r[o]])})}(l,g,s.orientation),n(l,function(t){pu(t)&&delete l[t.id]}),s.tidy||n(g,function(t,e){var n=c[e].extents,r=wu(c[e].verts),i=0,o=0;n&&r&&(i=(n.x1+n.x2-(r.x1+r.x2))/2,o=(n.y1+n.y2-(r.y1+r.y2))/2);for(var a=0;a<t.length;a++)for(var s=t[a].vertices,u=0;u<s.length;u++){var d=l[s[u]];d&&(d.x+=i,d.y+=o)}}),a(function(){return o(l,{})})}function Qc(){var t,e,r,i,o,a,s,l,u,c,d,f,h,p,g,v,m,y=[],b=[];function x(t,e){t.fire("progress",{task:"layout",progress:u+=c}),e.trigger("progress","layout",u)}function w(t,e){function n(t,e,n,r,i){return{isLeaf:!0,children:[],points:[],x1:t,y1:e,x2:n,y2:r,depth:i,m:0}}function r(t){return t.depth>=e}function i(t,e){var r,i,o,a,s=.5*(t.x1+t.x2),l=.5*(t.y1+t.y2);0===e||1===e?(o=t.y1,a=l):(o=l,a=t.y2),0===e||2===e?(r=t.x1,i=s):(r=s,i=t.x2),t.isLeaf=!1,t.children[e]=n(r,o,i,a,t.depth+1)}function o(t,e){e(t);for(var n=0;n<4;n++)t.children[n]&&o(t.children[n],e)}function a(t,e){if(e.x<t.x1||e.y<t.y1||e.x>t.x2||e.y>t.y2)throw Error("[Layout] Error: the point is out of range.");if(r(t))t.points.push(e),t.m+=e.m;else{t.points.push(e);var n=.5*(t.x1+t.x2),o=.5*(t.y1+t.y2),s=0;e.x>=n&&e.y<o&&(s=1),e.x<n&&e.y>=o&&(s=2),e.x>=n&&e.y>=o&&(s=3),t.children[s]||i(t,s),a(t.children[s],e)}}for(var s=t.length,l=new Float64Array(s),u=new Float64Array(s),c=0;c<s;c++)l[c]=t[c].x,u[c]=t[c].y;var d=Math.min.apply(0,l),f=Math.max.apply(0,l),h=Math.min.apply(0,u),p=Math.max.apply(0,u),g=f-d,v=p-h;g>v?p=h+g:f=d+v;var m=un(un({},n(d,h,f,p,0)),{addPoint:function(t){a(m,t)},visit:function(t){o(m,t)}});for(c=0;c<t.length;c++)m.addPoint(t[c]);return m}function C(){var t=[];n(d,function(e,n){var i=r[n];t.push({id:n,x:g[i],y:v[i],m:m[i]})});var e=w(t,3);function i(t){var n=0,r=0;e.visit(function(e){if(e.isLeaf){var i=t.x-.5*(e.x1+e.x2),o=t.y-.5*(e.y1+e.y2),a=Q(i,o);if((e.x2-e.x1)/a>.5){for(var s=e.points,l=s.length,u=0;u<l;u++)if(t.id!==s[u].id){a=Q(i=t.x-s[u].x,o=t.y-s[u].y);var c=s[u].m;n+=i/a*c,r+=o/a*c}}else n+=i/a*e.m,r+=o/a*e.m}}),y.push(n),b.push(r)}y.length=0,b.length=0;for(var o=0;o<t.length;o++)i(t[o]);I(y,b)}function A(t,e,n){for(var r=e,i=k(t,E(S(e,n),-1)),a=new Float64Array(i.buffer.slice(0)),s=M(i,i),l=0;l<20&&s/o>.01;l++){var u=S(a,n),c=s/M(u,a);r=k(r,E(a,c));var d=k(i,E(u,-c));i=d;var f=M(d,d),h=f/s;s=f,a=k(d,E(a,h))}return r}function _(){p=new Array(o),h=new Array(o);for(var t=0;t<o;t++){p[t]=new Int32Array(o),h[t]={},h[t][t]=!0;for(var e=0;e<o;e++)p[t][e]=0}for(t=0;t<i.length;t++){var n=i[t],a=r[n.id1],s=r[n.id2];h[a][s]=!0,h[s][a]=!0,p[a][s]-=1,p[s][a]-=1,p[a][a]+=1,p[s][s]+=1}}function M(t,e){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[r];return n}function E(t,e){for(var n=new Float64Array(t.length),r=0;r<t.length;r++)n[r]=t[r]*e;return n}function k(t,e){for(var n=new Float64Array(t.length),r=0;r<t.length;r++)n[r]=t[r]+e[r];return n}function S(t,e){for(var r=new Float64Array(o),i=0,a=function(e){i=0,n(h[e],function(n,r){i+=p[e][r]*t[r]}),r[e]=i},s=0;s<o;s++)a(s);for(r=E(r,e),i=0,s=0;s<o;s++)i+=t[s];var l=new Float64Array(o);for(s=0;s<o;s++)l[s]=o*t[s]-i;return k(r,l)}function I(t,e){for(var n=0,r=0,i=0;i<t.length;i++)n+=t[i],r+=e[i];for(n/=t.length,r/=t.length,i=0;i<t.length;i++)t[i]-=n,e[i]-=r}function T(t,e,n,r){for(var i=0;i<n;i++)x(t,e),C(),g=A(y,g,r),v=A(b,v,r),I(g,v)}function L(n,u){f=Object.keys(d),r={},g=new Float64Array(o),v=new Float64Array(o),m=new Float64Array(o);var h,p=0,y=0,b=gu(n.tightness);b=2-2*b/10+1;for(var x=0;x<f.length;x++){var w=f[x];p+=h=Math.max(1,d[w].r),y+=Math.max(1,d[w].w)*Math.max(1,d[w].h),r[w]=x,m[x]=h}var C=1+.015*(Math.sqrt(y/o)-54);l=42*Math.sqrt(o)*b*C,i.length/o<1&&(l*=.65+i.length/o*.35);var A=p/o;for(x=0;x<f.length;x++)v[x]=l*u.next(),g[x]=l*u.next(),m[x]/=A;t=10*o,e=o/40,c=1/((a=8)+(s=14-a)+2)}function O(t){t.forEach(function(t){var e=v[r[t]];d[t].x=l*g[r[t]],d[t].y=l*e})}return{lens:function(n,r,l,c,h,p,g,v){if(u=0,d=l.v,i=l.e,(o=l.vcount)>1){L(h,p),_(),T(n,r,a,t),T(n,r,s,e),O(f),x(n,r);var m=Is.all(l.vcount);pc({v:l.v,e:[]},c).reduceOverlaps({klOpts:h},m,v)(function(){return g(d,{})})}else g(d,{})}}}function qc(t,e,r,i,o){var a=function(t,e,n){var r=[],i=[];return t.forEach(function(t){for(var o=e[t],a=0;a<o.length;a++)r[a]||(r[a]={vertices:[],edges:[]}),r[a].vertices=r[a].vertices.concat(o[a].vertices.filter(function(t){return!Cc(n[t])})),r[a].edges=r[a].edges.concat(o[a].edges.filter(function(t){return!Ac(t,n)})),i[a]=r[a].vertices.length}),r}(t,e,r);n(r,function(t){void 0!==t.orderPos&&(t.children.sort(function(t,e){return r[t].orderPos-r[e].orderPos}),t.parents.sort(function(t,e){return r[t].orderPos-r[e].orderPos}))});var s=nd(a,r,"ul",i,o),l=nd(a,r,"ur",i,o),u=nd(a,r,"dl",i,o),c=nd(a,r,"dr",i,o),d=[s.extents,l.extents,u.extents,c.extents].sort(function(t,e){return t.max-t.min-(e.max-e.min)})[0];function f(t,e){return t-e}for(var h=0;h<a.length;h++)for(var p=a[h].vertices,g=function(t){var e=p[t],n=r[e],o=[s.xs[e]-s.extents.min+d.min,l.xs[e]-l.extents.max+d.max,u.xs[e]-u.extents.min+d.min,c.xs[e]-c.extents.max+d.max].sort(f);if(n.x=(o[1]+o[2])/2,n.group){var a=n.group,h=n.x-n[i]/2;a.ids.forEach(function(t,e){r[t].x=h+a.positions[e]})}},v=0;v<p.length;v++)g(v)}function $c(t,e,n){var r=e;if(t.root!==t.id)return r;var i=function(t){return n[n[t.root].sink]},o=i(t).shift;if(void 0!==o)return o<1/0?r+o:r;var a=i(t).shiftData;o=1/0;for(var s=0;s<a.length;s++){var l=a[s].dist;n[a[s].vert].shift<1/0&&(l+=n[a[s].vert].shift),o=Math.min(o,l)}return i(t).shift=o,o<1/0?r+o:r}function td(t,e,n,r,i,o,a){var s=t[e],l=t[e].filter(function(t){return pu({id:t})});l.length>0&&(s=l);for(var u=0,c=[],d=0;d<s.length;d++){var f=o[s[d]];c.push(u),u+=f.group?f.group.ids.length:1}if(u>0){for(var h=[Math.floor((u+1)/2)-1,Math.ceil((u+1)/2)-1],p=Math.floor((c.length+1)/2)-1;c[p+1]<=h[0];)p++;for(;c[p-1]>=h[0];)p--;var g=[{id:s[p],groupIdx:h[0]-c[p]}];c[p+1]<=h[1]&&p++,g.push({id:s[p],groupIdx:h[1]-c[p]});for(var v=0;v<2;v++){var m=i?g[v]:g[1-v],y=r[m.id],b=y.pos;if(n<b)return y.align=t.id,y.sizeSplit=a(m.id,m.groupIdx),t.root=y.root,t.align=t.root,b}}return n}function ed(t,e,n,r){var i,o,a,s;if(void 0===n[t.id]){i=t,n[t.id]=0;do{void 0!==i.predecessor&&(ed(a=e[(o=e[i.predecessor]).root],e,n,r),t.sink===t.id&&(t.sink=a.sink),s=i.sizeSplit.before+o.sizeSplit.after+r,t.sink!==a.sink?(e[a.sink].shiftData=e[a.sink].shiftData||[]).push({vert:t.sink,dist:n[t.id]-n[a.id]-s}):n[t.id]=Math.max(n[t.id],n[a.id]+s)),i=e[i.align]}while(i.id!==t.id)}}function nd(t,e,r,i,o){for(var a="l"===r[1],s={},l=1/0,u=-1/0,c=function(t,e,n,r,i){for(var o=[],a={},s=r?1:-1,l=function(e){return r?e<t.length:e>=0},u=function(t){return n?0:t.length-1},c=n?1:-1,d=function(t,e){return n?t<e.length:t>=0},f=function(t,r){return function(t,e,n,r){if(t.group){var i=t.group.positions.slice(e)[0];return{before:r?i:t[n]-i,after:r?t[n]-i:i}}return"w"===n?{before:t.w/2,after:t.w/2}:r?{before:t.h/2-t.labelOffset,after:t.h/2+t.labelOffset}:{before:t.h/2+t.labelOffset,after:t.h/2-t.labelOffset}}(e[t],r,i,n)},h=r?0:t.length-1;l(h);h+=s)for(var p=t[h].vertices,g=void 0,v=-1,m=0,y=u(p);d(y,p);y+=c){var b=p[y],x=e[b];o.push(b),a[b]={id:p[y],pos:m++,predecessor:g,align:b,root:b,sink:b,shiftData:[],sizeSplit:f(b,n?0:-1),parents:x.parents.filter(function(t){return!Cc(e[t])}),children:x.children.filter(function(t){return!Cc(e[t])})},v=td(a[b],r?"parents":"children",v,a,n,e,f),g=b}return{order:o,details:a}}(t,e,a,"u"===r[0],i),d=0;d<c.order.length;d++)(h=c.details[c.order[d]]).root===h.id&&ed(h,c.details,s,o);for(d=0;d<c.order.length;d++){var f=c.order[d],h=c.details[f];s[f]=$c(h,s[h.root],c.details)}for(d=0;d<c.order.length;d++)h=c.details[f=c.order[d]],l=Math.min(l,s[f]-h.sizeSplit.before),u=Math.max(u,s[f]+h.sizeSplit.after),void 0!==e[f].group&&(s[f]+=(h.sizeSplit.after-h.sizeSplit.before)/2);return a?{xs:s,extents:{max:u,min:l}}:(n(s,function(t,e){s[e]*=-1}),{xs:s,extents:{max:-l,min:-u}})}function rd(t,e,r,i,o,a,s){var l="equal"===s?id:od,u=0;t.forEach(function(t){l(e[t],r,o,a);var s=i[t].verts,c=wu(s);c&&(u-=c.x1,n(s,function(t){t.x+=u}),u+=c.x2+a)})}function id(t,e,n,r){for(var i=function(i){var o=0,a=t[i].vertices;fd(a,e,function(t){if(!pu(t)){var e=t[n]/2,i="h"===n?t.labelOffset:0;t.x=o+=e-i,o+=e+i+r}});var s=(o-r)/2;fd(a,e,function(t){t.x-=s})},o=0;o<t.length;o++)i(o)}function od(t,e,n,r){for(var i=[],o=[],a=0,s=function(s){var l=t[s].vertices;i[s]=0,o[s]=0,fd(l,e,function(t){pu(t)||(i[s]+=t[n],o[s]++)}),a=Math.max(a,i[s]+r*(o[s]-1))},l=0;l<t.length;l++)s(l);var u=function(r){var s=t[r].vertices;if(o[r]>1){var l=(a-i[r])/(o[r]-1),u=0;fd(s,e,function(t){if(!pu(t)){var e=t[n]/2,r="h"===n?t.labelOffset:0;t.x=u+=e-r,u+=e+r+l}})}else for(var c=0;c<s.length;c++){var d=e[s[c]];pu(d)||(d.x=a/2)}};for(l=0;l<t.length;l++)u(l)}function ad(t,e,r,i,o,a){var s,l=function(t,e,n,r,i,o){for(var a=0,s=bc(t,e,r),l=[],u=0;u<n.length;u++){var c=n[u].level;l[c]=Math.max(l[c]||0,2*n[u].arrowSize)}for(var d=0;d<s.length;d++){var f=0;s[d+1]&&(f=s[d+1].max/2),a=Math.max(a,s[d].max/2+f+i+Math.max(i,l[d]||0))}return a*o}(t,e,r,i,o,a),u=function(t){t.y=s};return n(t,function(t){s=0;for(var n=0;n<t.length;n++)fd(t[n].vertices,e,u),s+=l}),l}function sd(t,e,n){var r=[],i=0,o=0,a=0,s=0;return t.forEach(function(t){var l=e[t];r.push(i+l.w/2),i+=l.w+n,o=Math.max(o,l.h-2*l.labelOffset),a=Math.max(a,l.h+2*l.labelOffset),s+=l.lc||0}),{w:i-=n,h:o+a,labeloff:(a-o)/2,lc:s,positions:r}}function ld(t,e,n){var r=[],i=0,o=0,a=0;return t.forEach(function(t){var s=e[t];r.push(o+(s.h/2-s.labelOffset)),o+=s.h+n,i=Math.max(i,s.w),a+=s.lc||0}),{w:i,h:o-=n,labeloff:0,lc:a,positions:r}}function ud(t,e,n,r,i){var o=("w"===r?sd:ld)(e,n,i);return{id:t,w:o.w,h:o.h,x:n[e[0]].x,y:n[e[0]].y,fixed:!1,labelOffset:o.labeloff,lc:o.lc,level:n[e[0]].level,group:{ids:e,positions:o.positions}}}function cd(t,e,n,r){for(var i=t.sort(function(t,e){return t[n]<e[n]?-1:t[n]>e[n]?1:0}),o=0;o<i.length;o++){var a=i[o][e];r[a]=r[a]||{str:"",list:[]},r[a].str=r[a].str+" _"+i[o][n],r[a].list.push(i[o][n])}}function dd(t,e,n,r,i){var o={},a=t.filter(function(t){var a;if(-1===r.indexOf(t[e]))return!0;if(o[t[n]])o[t[n]].numLinks+=t.numLinks||0,o[t[n]].arrowSize=Math.max(o[t[n]].arrowSize,t.arrowSize||0),(a=o[t[n]].links).push.apply(a,t.links||[]);else{var s="id1"===n?{id1:t[n],id2:i}:{id1:i,id2:t[n]};s.id=t.id,s.c=t.c,s.level=t.level,s.numLinks=t.numLinks||0,s.links=t.links||[],o[t[n]]=s}return!1});return a.push.apply(a,z(o)),a}function fd(t,e,n){for(var r=0;r<t.length;r++){var i=e[t[r]];i.group?i.group.ids.forEach(function(t){n(e[t])}):n(i)}}function hd(t,e){for(var n=0;n<t.length;n++){var r=e[t[n]];if(r.barycenter===1/0)break;r.orderPos=n}}function pd(t,e,n,r){for(var i=!0,o=-1,a={},s=0;s<t.length;s++){var l=t[s];if(a[l]=s,!n&&e[l].barycenter===1/0){i=!1;break}for(var u=0,c=0,d=e[l][r],f=0;f<d.length;f++)if(e[d[f]].barycenter===1/0)i=!1;else{c++;var h=e[d[f]].orderPos;-1!==h&&(u+=h)}var p=!0;if(c>0?e[l].barycenter=u/c:e[l].barycenter===1/0?i=!1:0===s?e[l].barycenter=0:p=!1,p){if(o+1<s)for(var g=e[t[o]].barycenter,v=Math.min(g,e[l].barycenter),m=Math.abs(g-e[l].barycenter),y=s-o,b=1;b<y;b++)e[t[o+b]].barycenter=v+m*(b/y);o=s}}return t.sort(function(t,n){return e[t].barycenter===e[n].barycenter?a[t]-a[n]:e[t].barycenter-e[n].barycenter}),hd(t,e),i}function gd(t,e,n){if(e<1||t.length<=e)return 0;var r=t[e].edges;return t[e-1].vertices.length>t[e].vertices.length?vd(r,n,"id1","id2"):vd(r,n,"id2","id1")}function vd(t,e,n,r){if(t.length<2)return 0;!function(t,e,n,r){t.sort(function(t,i){var o=e[t[n]].orderPos,a=e[i[n]].orderPos;return o<a||o===a&&e[t[r]].orderPos<e[i[r]].orderPos?-1:1})}(t,e,n,r);var i=t.map(function(t){return e[t[r]].orderPos});i.sort(function(t,e){return t-e});var o={};i.forEach(function(t,e){o[t]=e});for(var a=t.map(function(t){var n=o[e[t[r]].orderPos];return{index:n,multiplier:void 0===n?0:t.numLinks}}),s=1;s<a.length;)s*=2;var l=new Int32Array(2*s-1);s-=1;for(var u=0,c=0;c<a.length;c++){var d=a[c].index+s;for(l[d]+=a[c].multiplier;d>0;)d%2&&(u+=l[d+1]*a[c].multiplier),l[d=Math.floor((d-1)/2)]+=a[c].multiplier}return u}function md(t,e,n){var r=t.concat(e),i={};r.forEach(function(t){i[t[n]]=!0});var o=Object.keys(i),a=o.length;return{verts:o,edges:r,common:t.length===a&&e.length===a}}function yd(t,e){return md(t.childEdges||[],e.childEdges||[],"id2")}function bd(t,e){return md(t.parentEdges||[],e.parentEdges||[],"id1")}function xd(t,e,n){for(var r=1,i=t[e].vertices,o=0,a=0,s=0;s<i.length-1;s+=r){var l=i[s],u=i[s+1],c=!1,d=e>0?bd(n[l],n[u]):{common:!0,edges:[]},f=e<t.length-1?yd(n[l],n[u]):{common:!0,edges:[]},h=d.common?[]:d.edges,p=f.common?[]:f.edges,g=vd(h,n,"id1","id2")+vd(p,n,"id2","id1"),v=n[u].orderPos;n[u].orderPos=n[l].orderPos,n[l].orderPos=v;var m=vd(h,n,"id1","id2")+vd(p,n,"id2","id1");g<=m?(n[l].orderPos=n[u].orderPos,n[u].orderPos=v):(c=!0,o+=g-m,i[s]=u,i[s+1]=l,1===r&&(a=Math.max(a,s),r=-1),0===s&&(s=a,r=1)),c||-1!==r||(s=a,r=1)}return o}function wd(t,e,n){for(var r,i,o=t,s=!1,l=!1,u=!0,c=0,d=o.length,f=0;f<o.length;f++)if(o[f].vertices.length>0){d=f;break}if(d===o.length-1)return o;o[d].vertices.sort(function(t,n){return e[n].childEdges.length-e[t].childEdges.length}),e[o[d].vertices[0]].barycenter=0,e[o[d].vertices[0]].orderPos=0;var h=1/0;do{for(r=h,l?(h=0,i=a(o)):h=1/0,f=d;f<o.length-1;f++)s=pd(o[f+1].vertices,e,!0,"parents"),u&&(pd(o[f].vertices,e,!1,"children"),s=pd(o[f+1].vertices,e,!1,"parents"));for(l=s,f=o.length-1;f>d;f--)s=pd(o[f-1].vertices,e,f<c+2,"children"),u?(pd(o[f].vertices,e,!1,"parents"),s=pd(o[f-1].vertices,e,!1,"children")):h+=gd(o,f,e),s||(l=!1);u=!l}while(c++<100&&(h===1/0||h<r));return i&&(o=i).forEach(function(t){hd(t.vertices,e)}),h>0&&n<1e4&&function(t,e){var n;do{n=0;for(var r=0;r<t.length;r++)n+=xd(t,r,e)}while(n>0)}(o,e),o}function Cd(t,e){return null!==t&&"boolean"!=typeof t&&""!==t&&m(+t)&&+t>=0?+t:e}function Ad(t,e,r,i,o,a){var s={top:[],orientation:"down",spacing:"auto",stretch:1},l=T(r,s),u=t.v,c=t.e,d=l.level,f=d?[]:I(l.top,u),h=50+vu(l.tightness),p=l.orientation.match(/right|left/)?"h":"w",g=l.orientation.match(/right|left/)?"w":"h",v=Cd(r.stretch,s.stretch),m=Au(u,c),y=[];Nc(u,c,e,m,!0,f,d,y);var b=function(t,e){var r={};function i(t,e,n,i){r[t]=r[t]||[],r[t][e]=r[t][e]||{vertices:[],edges:[]};for(var o=0;o<e;o++)r[t][o]=r[t][o]||{vertices:[],edges:[]};r[t][e][n]=r[t][e][n]||[],r[t][e][n].push(i)}n(t,function(t,e){"level"in t&&i(t.c,t.level,"vertices",e)});for(var o=0;o<e.length;o++){var a=e[o];"level"in a&&(t[a.id2].level-t[a.id1].level==1?i(a.c,a.level,"edges",a):t[a.id1].level-t[a.id2].level==1&&i(a.c,a.level,"edges",{id:a.id,id1:a.id2,id2:a.id1,numLinks:a.numLinks,level:a.level}))}return r}(u,c);n(b,function(t,e){(function(t,e,r,i){var o,a=0,s=0;function l(n){var l=n.filter(function(t){return!pu({id:t})});if(l.length>1){for(var u=o[l[0]].list,c=1;c<l.length;c++){if(o[l[c]].list.length!==u.length)return;if(!o[l[c]].list.every(function(t,e){return t===u[e]}))return}var d="_group"+a+++"c"+e[l[0]].c;e[d]=ud(d,l,e,r,i),t[s].vertices=t[s].vertices.filter(function(t){return-1===l.indexOf(t)}),t[s].vertices.push(d),s>0&&(t[s].edges=dd(t[s].edges,"id2","id1",l,d)),s<t.length-1&&(t[s+1].edges=dd(t[s+1].edges,"id1","id2",l,d))}}for(var u=function(){o={},s>0&&cd(t[s].edges,"id2","id1",o),s<t.length-1&&cd(t[s+1].edges,"id1","id2",o);var e={};n(o,function(t,n){(e[t.str]=e[t.str]||[]).push(n)}),n(e,l)};s<t.length;s++)u()})(t,u,p,h),function(t,e){for(var n=0;n<t.length;n++){for(var r=t[n].vertices,i=0;i<r.length;i++){var o=e[r[i]];o.childEdges=[],o.parentEdges=[],o.children=[],o.parents=[],o.barycenter=1/0,o.orderPos=i}t[n].edges.forEach(function(t){e[t.id1].childEdges.push(t),e[t.id1].children.push(t.id2),e[t.id2].parentEdges.push(t),e[t.id2].parents.push(t.id1)})}}(t,u),b[e]=wd(t,u,c.length)});var x=function(t,e,n){var r=[],i=[],o={};if(n.length>0){var a={};n.forEach(function(n){var i=e[n].c;a[i]||(r.push(i),a[i]=!0,o=H(o,t[i].verts))}),r.length<t.length&&t.forEach(function(t){a[t.c]||(i.push(t),a[t.c]=!0)})}else t.forEach(function(t){o=H(o,t.verts),r.push(t.c)});return i.unshift({verts:o,edges:[]}),{orderedComponents:r,packingComponents:i}}(m,u,f),w=x.orderedComponents,C=cu(o.state,x.packingComponents,function(t){return Object.keys(t.verts)}),A=o.pack(a,C),_=function(t,e,n,r,i,o,a,s,l,u){return"auto"===a?qc(t,e,n,r,i):rd(t,e,n,o,r,i,a),ad(e,n,s,l,i,u)}(w,b,u,p,h,m,l.spacing,c,g,v),M=function(t,e,n,r,i,o,a){void 0===r&&(r="down");for(var s={},l=0;l<t.length;l++){var u=t[l];u.links.sort(function(t,e){return(O(t.off)?t.off*t.sign:1/0)-(O(e.off)?e.off*e.sign:1/0)});var c=0,d=0,f=0,h=!0,p=e[u.c][u.level].vertices,g=n[u.id1].orderPos,v=n[u.id2].orderPos,m=g<v?[g,v]:[v,g],y=g<v?1:-1;r.match(/right|up/)&&(y*=-1);for(var b=m[0]+1;b<m[1];b++){var x=n[p[b]];pu(x)||(h=!1);for(var w=0;w<x.parentEdges.length;w++)c+=x.parentEdges[w].numLinks;for(w=0;w<x.childEdges.length;w++)d+=x.childEdges[w].numLinks;f=Math.max(f,(x[i]||x.r)/2)}if(!h){d===c&&(c=n[p[m[0]]].parentEdges.length+n[p[m[1]]].parentEdges.length,d=n[p[m[0]]].childEdges.length+n[p[m[1]]].childEdges.length);var C=d<c?-y:y,A=f+20,_=40,M=a/2;for(A+=Math.abs(n[u.id1].x-n[u.id2].x)/o,(A=Math.min(A,M))+(u.links.length-1)*_>M&&(_=Math.max(10,(M-A)/(u.links.length-1))),b=0;b<u.links.length;b++){var E=u.links[b];s[E.id]={off:C*E.sign*(A+b*_)}}}}return s}(y,b,u,l.orientation,g,h,_);l.orientation.match(/up|right|left/)&&function(t,e,r){var i=wc(r);n(e,function(e){for(var n=0;n<e.length;n++)fd(e[n].vertices,t,i)})}(u,b,l.orientation),n(u,function(t){(t.group||pu(t))&&delete u[t.id]}),A(function(){return i(u,M)})}var _d=Math.pow(10,-3.8),Md=Math.pow(_o,1.35);function Ed(t,e,n,r){return{leaf:!0,nodes:{},point:null,x1:t,y1:e,x2:n,y2:r}}function kd(t,e){var n=t.x1,r=t.y1,i=t.x2,o=t.y2,a=.5*(n+i),s=.5*(r+o),l=e.x>=a,u=e.y>=s,c=(u?2:0)+(l?1:0);t.leaf=!1,l?n=a:i=a,u?r=s:o=s,t.nodes[c]||(t.nodes[c]=Ed(n,r,i,o)),Sd(t.nodes[c],e)}function Sd(t,e){if(t.leaf){var n=t.point;if(n)return Math.abs(n.x-e.x)+Math.abs(n.y-e.y)<.01||(t.point=null,kd(t,n)),void kd(t,e);t.point=e}else kd(t,e)}function Id(t,e){if(!t(e))for(var n=e.nodes,r=0;r<4;r++)n[r]&&Id(t,n[r])}function Td(t){var e=0,n=0;if(t.charge=0,t.size=0,!t.leaf)for(var r=t.nodes,i=0;i<4;i++){var o=r[i];o&&(Td(o),t.charge+=o.charge,t.size+=o.size,e+=o.charge*o.cx,n+=o.charge*o.cy)}if(t.point){var a=Ld(t.point);t.pointCharge=a,t.charge+=a,t.size+=t.point.r,e+=a*t.point.x,n+=a*t.point.y}t.cx=t.charge?e/t.charge:0,t.cy=t.charge?n/t.charge:0}function Ld(t){return _o*Math.pow(t.r,1.35)/Md*(1+(t.lc?t.lc:1)/3)}function Od(t,e){var r,i=yu(t),o=i.minx,a=i.miny,s=i.maxx,l=i.maxy,u=s-o,c=l-a;function d(t){if(t.point!==r){var e=t.cx-r.x,n=t.cy-r.y,i=1/Q(e,n);if((t.x2-t.x1)*i<.5)return f(r,t.charge,i,e,n),!0;t.point&&f(r,t.pointCharge,i,e,n)}return!t.charge}function f(t,e,n,r,i){h(t,e,r,i,Math.min(n,1e5))}function h(t,n,r,i,o){if(!(o<_d)){var a=e*Ld(t)*n*o*o*o;t.dx-=r*a,t.dy-=i*a}}u>c?l=a+u:s=o+c;var p=Ed(o,a,s,l);n(t,function(t){Sd(p,t)}),Td(p),n(t,function(t){r=t,Id(d,p)})}function Rd(t,e,n,r){Fd(t[e.id1],t[e.id2],n,r)}function Pd(t,e,n){return t.r+e.r+n*(1+((t.lc?t.lc:1)+(e.lc?e.lc:1))/6)}function Vd(t,e,n,r){var i=e[t.id1],o=e[t.id2],a=i.x-o.x,s=i.y-o.y,l=Pd(i,o,n),u=Q(a,s);if(u>.02){var c=r*((u-l)/u),d=a*c,f=s*c;i.dx-=d,i.dy-=f,o.dx+=d,o.dy+=f}}function Fd(t,e,n,r){var i,o,a;if(!t.fixed||!e.fixed){var s=2*r.next()*Math.PI;a=1.3*Pd(t,e,n)/2,t.fixed||e.fixed?(i=t.fixed?t.x:e.x,o=t.fixed?t.y:e.y,a*=2):(i=(t.x+e.x)/2,o=(t.y+e.y)/2),t.fixed||(t.x=i+a*Math.cos(s),t.y=o+a*Math.sin(s),s+=Math.PI),e.fixed||(e.x=i+a*Math.cos(s),e.y=o+a*Math.sin(s))}}function Dd(t,e){var n=t.extents,r=0,i=0;if(n){r=n.c;var o=n?Math.max(n.x2-n.x1,n.y2-n.y1):0,a=120*Math.sqrt(r);i=Math.max(o,a)/2}var s=0;r>1&&(s=Math.min(Math.pow(r,2.5),100));var l=s*r*Math.log(r),u=1/function(t){var e=gu(t.tightness);return Math.pow(2,.4*(e-5))}(e);return{repulsionFactor:40*(u>1?Math.pow(u,2):u),coeff:1,naturalDistance:20*u,iterations:s,chunk:20,temperature:i,estTime:l}}function Bd(t,e,n,r){var i={temperature:10,i:0},o={verts:t.v,edges:t.e},a=Dd(t,e);a.chunk=5,a.iterations=5,i.temperature=Math.pow(a.temperature,.72),Zd(i,o,a,n),r(t.v,{})}function Zd(t,e,r,i){var o,a,s=Math.min(t.i+r.chunk,r.iterations);function l(t){t.dx=0,t.dy=0,o++}function u(t){!function(t,e){if(!t.fixed){var n=Q(t.dx,t.dy),r=t.dx/n*Math.min(n,e),i=t.dy/n*Math.min(n,e);t.x+=r,t.y+=i}}(t,a)}for(;t.i<s;){var c=e.verts,d=e.edges;if(o=0,n(c,l),mu(c,i,2),1===o)return void(t.i=s);if(2===o){if(d[0])Rd(c,d[0],r.naturalDistance,i);else{var f=z(c);Fd(f[0],f[1],r.naturalDistance,i)}return void(t.i=s)}Od(c,r.repulsionFactor);for(var h=0;h<d.length;h++)Vd(d[h],c,r.naturalDistance,r.coeff);a=t.temperature*(1-t.i/r.iterations),n(c,u),t.i++}}function Gd(t){var e=0,r=0,i=0,o=!1,a=0,s=0;if(n(t,function(t){e+=t.x,r+=t.y,i+=1,o=o||t.fixed}),!(i<3||o)){e/=i,r/=i,n(t,function(t){var n=Math.sqrt((t.x-e)*(t.x-e)+(t.y-r)*(t.y-r));n>s&&(s=n,a=Math.atan2(t.y-r,t.x-e))}),a=-a;var l=Math.sin(a),u=Math.cos(a);n(t,function(t){var n=r+(t.x-e)*l+(t.y-r)*u;t.x=e+(t.x-e)*u-(t.y-r)*l,t.y=n})}}function zd(t,e){var r=S(t.fixed||[]),i=N(r),o=0,a=0;r.length&&(n(i,function(t,n){n in e.v&&(o+=e.v[n].x,a+=e.v[n].y)}),o/=r.length,a/=r.length),n(e.v,function(t,n){i[e.v[n].id]||(e.v[n].x=o,e.v[n].y=a)})}function jd(t,e,n,r,i,o,a){zd(r,n);for(var s=n.v,l=n.vcount,u=Au(s,n.e),c=r.tidy?l/(l+u.length):1,d=[],f=0,p=Date.now(),g=0;g<u.length;g++){var v=Dd(u[g],r);f+=v.estTime,d.push(v)}for(var m=0,y=0;y<u.length;y++){d[y].start=m;var b=m+d[y].estTime/f*(c-0);d[y].stop=b,m=b}var x=0;function w(){var t=function(){return o(s,{})};a?a(t):t()}u.length>0?function n(r){var o=r,a=u[o],s=d[o];!function(t,e,n,r,i,o,a,s){var l={i:0,temperature:r.temperature};function u(){Zd(l,n,r,a)}!function n(){if(u(),l.i>=r.iterations)s();else{var a=i+l.i/r.iterations*(o-i);e.trigger("progress","layout",a),t.fire("progress",{task:"layout",progress:a}),h(n,0)}}()}(t,e,a,s,s.start,s.stop,i,function(){if(Gd(a.verts),o++,x++,o<u.length){var t=Date.now();t-p>16||x>1e3?(p=t,x=0,h(function(){n(o)},0)):n(o)}else w()})}(0):o(s,{})}function Yd(t,e,n,r,i,o){t[e]=r?n[e]:K(n[e],{x:i,y:o})}function Nd(t,e,n){t[n]||(t[n]=[]),t[n].push(e)}function Ud(t,e){Nd(t,e.id1,e.id2),Nd(t,e.id2,e.id1)}function Wd(t,e,r,i,o,a,s,l){var u=function(t){return function(t){var e={},r={};return n(t,function(t,n){t.sort();for(var i="",o=0;o<t.length;o++)i+=t[o];e[i]||(e[i]=[]),e[i].push(n),r[n]=i}),{rev:e,ids:r,index:t}}(function(t){for(var e={},n=0;n<t.length;n++)Ud(e,t[n]);return e}(t))}(r.e),c=function(t,e,r){var i={},o=[],a=0;n(t.rev,function(s,l){for(var u={x:0,y:0,size:0},c=s.length,d=0;d<c;d++){var f=e[s[d]];u.x+=f.x,u.y+=f.y,u.size+=f.r}u.x/=c,u.y/=c;var h=ic(),p=z(e).filter(function(e){return t.rev[l].indexOf(e.id)>-1}).map(function(t){var e=r(t.id,!0);return t.r=e.radiusWithoutLabel,t.radiusWithText=e.radius,t.labelOffset=0,t}),g=0,v=0;p.forEach(function(t){g+=t.r,v+=t.radiusWithText});var m=h.concentricLayout(p,{padding:Math.max(8,(v-g)/p.length*.5)}),y={positions:W(m)},b=Iu(m,{x:0,y:0},0);i[l]={id:l,x:u.x,y:u.y,r:b,fixed:!1,lc:0,w:void 0,h:void 0,labelOffset:0,radiusWithText:b,jit:y},a++;for(var x={},w=t.index[s[0]],C=0;C<w.length;C++)x[t.ids[w[C]]]=!0;n(x,function(t,e){l<e&&o.push({id1:l,id2:e})})});for(var s=0;s<o.length;s++){var l=o[s].id2;i[o[s].id1].lc++,i[l].lc++}return n(e,function(e,n){t.ids[n]||(i[n]={id:n,x:e.x,y:e.y,lc:0,fixed:e.fixed,labelOffset:0,radiusWithText:e.r,r:e.r,w:e.w,h:e.h,jit:{radius:e.r,position:{x:0,y:0}}},a++)}),{v:i,e:o,vcount:a,extents:wu(i)}}(u,r.v,i);jd(t,e,c,K({},o,{tidy:!1}),a,function(t,e){return function(t){var e={};n(t,function(t,n){if(u.rev[n])for(var i=u.rev[n],o=t.fixed,a=0;a<i.length;a++){var s=i[a],l=t.x,c=t.y;t.jit.positions&&(l+=t.jit.positions[s].x,c+=t.jit.positions[s].y),Yd(e,s,r.v,o,l,c)}else Yd(e,n,r.v,r.v[n].fixed,t.x,t.y)}),l(function(){return s(e,{})})}(t),{vertices:t,updatedEdges:e,extents:null}})}var Xd=new RegExp("^(standard|hierarchy|lens|sequential|radial|structural|tweak|"+Object.keys(lc).join("|")+")$"),Hd=new RegExp("^(standard|lens|structural|"+lc.organic+")$"),Kd=new RegExp("^(standard|tweak|"+lc.organic+")$"),Jd=new RegExp("^(standard|structural|"+lc.organic+"|radial|hierarchy|sequential)$");function Qd(t,e,n){var r=nt(),i=function(){var t;return(t={})[au.Names.organic]=null,t}();return{arrange:mc,extractStructure:yc(t),layout:function(t,o,a,s,l,u,c){if(n.trigger("prechange","layout"),e.fire("prechange",{type:"layout"}),!Xd.test(t))throw new Error("The layout name is not valid.");Hd.test(t)||delete l.consistent,Kd.test(t)||delete l.fixed,Jd.test(t)&&(V(l.packing)?V(l.tidy)||l.tidy||(l.packing="none"):l.tidy="none"!==l.packing);var d=pc(o,s,i),f={klOpts:l,pinTo:{firstFixed:!!l.pinToFirstFixed,fallback:o.extents&&"adaptive"!==l.packing&&"none"!==l.packing?Cu(o.extents):void 0}};n.trigger("progress","layout",0),e.fire("progress",{task:"layout",progress:0});var h=ac(e,n,l,u);if(t===lc.organic)d.organic(f,c)(function(){return h(o.v,{})});else{r.setSeed(l.consistent?900736044081:null);var p=d.pack(f);switch(t){case"standard":"adaptive"===l.mode?Bd(o,l,r,h):jd(e,n,o,l,r,h,p);break;case"hierarchy":Jc(o,a,l,!1,h,p);break;case"lens":Qc().lens(e,n,o,s,l,r,h,c);break;case"sequential":Ad(o,a,l,h,d,f);break;case"structural":Wd(e,n,o,s,l,r,h,p);break;case"radial":Jc(o,a,l,!0,h,p);break;case"tweak":Bd(o,l,r,h)}}}}}function qd(t,e,r,i,o,s,l,u){var c=ic(),d=function(t,e){var n={on:function(){},fire:function(){},privateOn:function(){},privateFire:function(){},privateOff:function(){},off:function(){}},r=Qd(t,n,{bind:function(){},trigger:function(){return!1},getErrors:function(){return[]},unbind:function(){},suppress:function(){}});function i(i,o,a,s,l){var u=null;function c(){return null===u&&(u=ec(n)).privateSetProperties(o,a),u}var d=t.privateGetCanvas(),f=t.privateGetGenerator();return{getGraph:c,struct:r.extractStructure(f,d,o,a,c,s,i,e,l)}}return{layout:function(t,e,n,o,a,s,l,u){var c=i(t,e,n,a.fixed||[],s);r.layout(t,c.struct,c.getGraph,o,a,l,u)}}}(e,u),f={},h={list:[],index:{},nulls:0,comboLinkAdj:{}},p={},g=null,v=[],y={},b=T(t,{arrange:"concentric",resize:!0,updateGlyph:!0});function x(t,n){var r,i=f[t];if(void 0!==i&&void 0!==(r=i[n]))return r;var o=D(t);if(null!==o&&void 0!==(r=o[n]))return r;var s=e.privateGetItem(t);return s?a(s[n]):void 0}function w(t,e){return x(t,e)}function C(t,e){return x(t,e)}function A(t){if(p[t])return null;var n=a(e.privateGetItem(t))||{},r=D(t);return null!==r&&H(n,r),f[t]&&H(n,f[t]),n}function _(t){return x(t,"parentId")}function E(t){return x(t,"_combo")}function k(t){return E(t)}function S(t){var e=f[t];return e||(f[t]=e={id:t}),e}function I(t,e,n){S(t)[e]=n}function L(t,e,n){I(t,e,n)}function O(t){var e=S(t.id);K(e,t)}function R(t,e){L(t,"_offset",e)}function P(t,e){t.forEach(function(t){(function(t,e){var n=_(t)||null;e!==n&&(et(t),I(t,"parentId",e),"node"===x(t,"type")&&(e?C(t,"_offset")||R(t,{x:C(e,"x")-C(t,"x"),y:C(e,"y")-C(t,"y")}):(function(t,e){if(r&&r.api.isShown()){var n=A(t),i=r.internalUse.preMerge([n]);I(t,"hi",i[0].hi),at(t,i[0].x-n.x,i[0].y-n.y)}else if(b.reposition&&e){var o=C(t,"_offset"),a=C(e,"x"),s=C(e,"y"),l=C(t,"x"),u=C(t,"y");at(t,a-o.x-l,s-o.y-u)}}(t,n),R(t,void 0))))})(t,e),p[t]&&et(t)})}function F(t){var e=h.index[t];if(void 0!==e){var n=h.list[e];h.list[e]=null,delete h.index[t],h.nulls++;var r=h.list.length;if(r>0&&h.nulls/r>.5){h.index={};for(var i=0,o=0;o<r;)null!==h.list[o]&&(h.list[i]=h.list[o],h.index[h.list[i].id]=i,i++),o++;h.list.length=i,h.nulls=0}if(null!==n&&"link"===n.type&&n._combo){var a=h.comboLinkAdj;delete a[n.id1][n.id2],delete a[n.id2][n.id1]}}}function D(t){var e=h.index[t];return void 0===e?null:h.list[e]}function B(t){if(void 0===h.index[t.id]){if(h.index[t.id]=h.list.push(t)-1,"link"===t.type&&void 0!==t._combo){var e=h.comboLinkAdj,n=t.id1,r=t.id2;void 0===e[n]&&(e[n]={}),void 0===e[r]&&(e[r]={}),e[n][r]=t,e[r][n]=t}}else h.list[h.index[t.id]]=t}function Z(t,e,n){if(n){var r=E(n);if(r){var i=!1;t&&r.nodeIds&&t.length>0&&(i=$d(r.nodeIds,t),t.forEach(function(t){y[t]=!0})),e&&e.length>0&&(i=$d(r.linkIds,e)||i,e.forEach(function(t){y[t]=!0})),i&&I(n,"_combo",r)}}n&&Y(n)&&e.length&&X(n)}function G(t,e){Z([],t,e),P(t,e)}function j(t){var e=t,n=[];do{n.unshift(e),e=_(e)}while(e);return n}function Y(t){return!!E(t)&&"link"===x(t,"type")}function N(t){return!!E(t)&&"node"===x(t,"type")}function U(t){for(var e,n,r,i=j(w(t,"id1")),o=j(w(t,"id2")),a=0,s=Math.min(i.length,o.length);a<s&&i[a]===o[a];)a++;return a===i.length?(n=o[a],r=e=o[a-1]):a===o.length?(n=i[a],r=e=i[a-1]):(e=i[a],n=o[a],r=0===a?null:i[a-1]),{id1:e,id2:n,parentId:r}}function X(t){if(!p[t]){for(var e=w(t,"id1"),n=E(t).linkIds,r=n.length,i=!1,o=!1,a=!0,s=0;s<r;s++){var l=!!w(n[s],"a1"),u=!!w(n[s],"a2"),c=e===U(n[s]).id1;if(o=o||(c?u:l),(i=i||(c?l:u))&&o)break}for(s=0;s<r;s++)if(!x(n[s],"hi")){a=!1;break}O({id:t,a1:i,a2:o,hi:a})}}function J(e,n,r){var o=i(),s=a(r,!0);if(s.id=o,s.id1=e,s.id2=n,t&&t.comboLinkStyle){var l=t.comboLinkStyle;m(l.b1)&&(s.b1=l.b1),m(l.b2)&&(s.b2=l.b2),l.c&&(s.c=l.c),l.ls&&(s.ls=l.ls),m(l.w)&&(s.w=l.w)}return s.off=0,s.parentId=void 0,s._combo={linkIds:[]},s}function tt(t,e){if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}function et(t){var e=_(t);if(e&&!p[e]){var n=E(e),r=n.nodeIds,i=n.linkIds;tt(r,t),tt(i,t),r&&r.length||i.length?(I(e,"_combo",n),Y(e)&&X(e)):rt(e)}}function nt(t){return!!p[t]}function rt(t){p[t]||(p[t]=!0,it(e.privateNeighbourLinkIds([t])),et(t),delete f[t],F(t))}function it(t){t.forEach(rt)}function ot(t,n){var r=null,i=h.comboLinkAdj[t];if(void 0!==i&&void 0!==i[n]&&(r=i[n].id),null===r)for(var o=e.privateGetLinksBetween(t,n),a=o.length,s=0;s<a;s++){var l=o[s];l._combo&&!p[l.id]&&(r=l.id)}return r}function at(t,e,n){var r=C(t,"x"),i=C(t,"y");L(t,"x",r+e),L(t,"y",i+n);var o=k(t);o&&o.nodeIds.forEach(function(t){at(t,e,n)})}function st(){for(var t={},e=0,n=v.length;e<n;e++)void 0===t[(r=v[e]).id]&&(t[r.id]={id:r.id,dx:0,dy:0,sumX:0,sumY:0}),r.norm=q(C(r.id,"x")-C(r.to,"x"),C(r.id,"y")-C(r.to,"y")),t[r.id].sumX+=r.norm[0]*r.distance,t[r.id].sumY+=r.norm[1]*r.distance;for(e=0,n=v.length;e<n;e++){var r,i=(r=v[e]).norm,o=$(i[0],i[1],t[r.id].sumX,t[r.id].sumY),a=Math.abs(o)*r.distance;t[r.id].dx+=i[0]*a,t[r.id].dy+=i[1]*a}return z(t)}function lt(t,n){var i=_(t),o=[];i?o=e.privateGetItem(E(i).nodeIds):r.api.isShown()||(o=e.privateGetRawItems().filter(function(e){var n=nt(e.id),r=_(e.id);return!n&&!r&&t!==e.parentId})),o.filter(function(e){return"node"===e.type&&!e.hi&&e.id!==t}).forEach(function(e){v.push({id:e.id,to:t,distance:n})})}function ut(t){v.forEach(function(e){t[e.id]&&(e.distance=0)})}function ct(t,e){return"rectangle"===u?Q(t,e):t}function dt(t,e,n){if(0!==e&&!x(t,"hi")){n&&lt(t,e);var r=_(t);if(r){var i=vt(r),o=i.width,a=i.height,s=C(r,"oc")||{};if(o!==s.w||a!==s.h){var l=ct(s.w,s.h),u=(ct(o,a)-l)/2;s.w=o,s.h=a,L(r,"oc",s);var c=E(r);c&&c.open&&dt(r,u,n)}}}}function ft(t){var n=ku(t,e.privateGetCanvas(),{include:!1},u).radius;return t._combo&&t._combo.open&&(t.oc&&m(t.oc.bw)?n-=t.oc.bw:n-=lo.bw),Math.max(n,0)}function ht(t,e,n,r,i){for(var o=[],a=E(t).nodeIds,s=a.length,l={include:!0,partial:i,maxLength:r},c=0;c<s;c++){var d=A(a[c]);if(!d.hi){var f=n&&n[d.id],h=ku(d,e,l,u);o.push({id:d.id,x:f?d.x+f.dx:d.x,y:f?d.y+f.dy:d.y,t:d.t,labelOffset:Su(d,r),r:h.radius,rWithoutLabel:h.radiusWithoutLabel,w:h.width,h:h.height})}}return o}function pt(t,e,n){var r=e.width,i=e.height,o=C(t,"oc")||{};if(n||o.w<r||o.h<i){"rectangle"!==u||n?(o.w=r,o.h=i):(o.w=Math.max(o.w,r),o.h=Math.max(o.h,i)),L(t,"oc",o);var a=k(t);a&&(a.comboScale=a.open?1:0,I(t,"_combo",a))}}function gt(t){var e=0,r=0;return n(t,function(t){e+=(2*(t.rWithoutLabel||t.r)-e)/++r}),5+.05*e}function vt(t,n){var r=e.privateGetCanvas(),i=W(st()),o=W(ht(t,r,i,n)),a={x:C(t,"x"),y:C(t,"y")};return Tu(u,o,a,gt(o))}function mt(t,n){var r,i,o=e.privateGetCanvas(),a=e.privateGetMaxLabelLength();"none"===b.arrange?pt(t,r=vt(t,a),!!b.resize):(i="concentric"===b.arrange?function(t,e,n){var r=ht(t,e,null,n,!0),i=c.concentricLayout(r,{includeLabels:!0}),o={include:!0,partial:!1,maxLength:n};return i.forEach(function(t){var n=A(t.id);t.r=ku(n,e,o,u).radius}),W(i)}(t,o,a):"grid"===b.arrange?function(t,e,n){return W(function(t,e){void 0===e&&(e=1);for(var n=Math.round(Math.sqrt(t.length/e)),r=Math.ceil(t.length/n),i=[0],o=[0],a=[],s=0,l=0,u=0,c=0;l<t.length;l++,c++){l<r?a[c]=0:c===r&&(c=0,i[++u]=0,o[u]=0);var d=t[l].h/2+t[l].labelOffset;i[u]=Math.max(i[u],t[l].h/2-t[l].labelOffset),o[u]=Math.max(o[u],d),a[c]=Math.max(a[c],t[l].w),s+=(Math.sqrt(t[l].w*t[l].h)-s)/(l+1)}var f=10+.05*s,h=a.reduce(function(t,e){return t+e},0)+f*(r-1),p=i.reduce(function(t,e){return t+e},0)+o.reduce(function(t,e){return t+e},0)+f*(n-1),g=-h/2+a[0]/2,v=g,m=-p/2+i[0];for(l=0,u=0,c=0;l<t.length;l++,c++)c===r&&(v=g,m+=o[u]+f+i[u+1],c=0,++u),t[l].x=v,t[l].y=m,v+=a[c]/2+f+a[c+1]/2;return t}(ht(t,e,null,n)))}(t,o,a):function(t,e,n){var r,i=k(t),o=W(i.nodeIds.map(A)),a=W(i.linkIds.map(A).filter(function(e){return e.id1!==t&&e.id2!==t}));d.layout("lens",o,a,Lu(o,e,n,u),{consistent:!0},"all",function(t){r=t},!0);var s=ht(t,e,null,n);s.forEach(function(t){t.x=r.vertices[t.id].x,t.y=r.vertices[t.id].y});var l=function(t,e){void 0===e&&(e=0);var n=[];return t.forEach(function(t){var r=t.r;if(r+=e,!m(t.x)||!m(t.y)||!m(r))throw new Error("Inputs must be finite");n.push({x:t.x,y:t.y,r:r})}),Ns.radialExtents(n)}(s);return null!==l&&s.forEach(function(t){t.x-=l.x,t.y-=l.y}),W(s)}(t,o,a),r=Tu(u,i,{x:0,y:0},gt(i)),ut(i),pt(t,r,!!b.resize),function(t,e,n){for(var r=k(t).nodeIds,i=r.length,o=C(t,"x"),a=C(t,"y"),s=0;s<i;s++){var l=r[s];if(!x(l,"hi")){var u={id:l},c=C(l,"x"),d=C(l,"y");n&&(u._offset={x:o-c-n.dx,y:a-d-n.dy},O(u)),at(l,o+e[l].x-c,a+e[l].y-d)}}}(t,i,n));return ct(r.width,r.height)/2}function yt(t){var e=k(t);return e?e.nodeIds.reduce(function(t,e){return t+yt(e)},0):x(t,"hi")?0:1}function bt(){if(b.updateGlyph){var t={};[z(f),h.list].forEach(function(e){e.forEach(function(e){if(e){var n=e.id;e._combo&&"node"===x(n,"type")&&j(n).forEach(function(e){t[e]||(function(t){var e=k(t);if(e&&void 0!==e.g){var n=!1,r=(x(t,"g")||[]).map(function(r){return r.p===e.g?(n=!0,K(r,{t:yt(t)})):r});n?I(t,"g",r):(e.g=void 0,I(t,"_combo",e))}}(e),t[e]=!0)})}})})}}function xt(t,n){Object.keys(t).forEach(function(r){var i=t[r],o=a(e.privateGetItem(r)._combo);V(i.open)||(o.open=i.open),o.nodeIds=wt(o.nodeIds,i.removeNodeIds),o.nodeIds=Ct(o.nodeIds,i.addNodeIds),o.linkIds=wt(o.linkIds,i.removeLinkIds),o.linkIds=Ct(o.linkIds,i.addLinkIds),n.push({id:r,_combo:o})})}function wt(t,e){var n=t;return e.length&&(n=n.filter(function(t){return-1===e.indexOf(t)})),n}function Ct(t,e){var n=t;return e.length&&(n=n.concat(e)),n}function At(t,n){b.updateGlyph&&bt();var r=e.selection(),i=Object.keys(y);st().forEach(function(t){at(t.id,t.dx,t.dy)}),e.privateAddItemsToTransfer(i),function(t,n){var r=!!b.animate&&function(){var t=[],n={},r=[],i={},o={};function a(t){o[t]||(o[t]={addNodeIds:[],removeNodeIds:[],addLinkIds:[],removeLinkIds:[]})}function s(t,e,n){a(e),o[e][(n?"add":"remove")+("node"===t.type?"NodeIds":"LinkIds")].push(t.id)}function l(t){if(!0!==p[t])return!1;i[t]=!0;var n=e.privateGetItem(t);return n&&("link"===n.type?(l(n.id1),l(n.id2)):n.parentId&&l(n.parentId)),!0}return z(f).forEach(function(i){var s=i.id,u=e.privateGetItem(s);if("x"in i&&u){var c=function(t){for(var n=j(t),r=0;r<n.length;r++){var i=n[r],o=E(i),a=e.privateGetItem(i),s=a&&a._combo;if(!(s&&s.open||o&&o.open))return i}return t}(s);r.push({id:s,x:C(c,"x"),y:C(c,"y")})}if("parentId"in i&&u&&u.parentId!==i.parentId){var d={id:s},h="node"===u.type;if(d.parentId=null,h){var g=function(t){for(var n=e.privateGetAncestryIds(t),r=0;r<n.length;r++){var i=e.privateGetItem(n[r])._combo;if(!i||!i.open)return n[r]}return t}(s),v=e.privateGetItem(g);d.x=v.x,d.y=v.y,"x"in i||r.push({id:s,x:u.x,y:u.y})}else if(i.parentId)if(N(i.parentId)){var m=e.privateGetItem(i.parentId);!m||m._combo.open&&e.privateAllParentsOpen(i.parentId)||!u.parentId||(delete d.parentId,l(u.parentId))}else if(Y(i.parentId)){var y=D(i.parentId),b=e.privateGetItem(i.parentId),w=y||b;if(w)if(e.privateGetItem(w.id1)&&e.privateGetItem(w.id2)){var A=f[w.id2]&&"parentId"in f[w.id2],_=f[w.id1]&&"parentId"in f[w.id1]||e.privateAllParentsOpen(w.id1),M=A||e.privateAllParentsOpen(w.id2);_&&M?(d.parentId=i.parentId,y&&(n[i.parentId]=!0)):u.parentId&&p[u.parentId]?x(s,"hi")||(d.hi=!0,I(s,"hi",!1)):delete d.parentId}else l(u.parentId)&&delete d.parentId;else p[u.parentId]&&(d.parentId=i.parentId)}t.push(d)}"_combo"in i&&N(s)&&u&&u._combo.open!==i._combo.open&&(r.push({id:s,_combo:{comboScale:i._combo.comboScale}}),a(s),o[s].open=!0),N(s)&&u&&"oc"in i&&(!u.oc||u.oc.w===i.oc.w&&u.oc.h===i.oc.h||r.push({id:s,oc:{w:i.oc.w,h:i.oc.h}}))}),t.forEach(function(t){var n=e.privateGetItem(t.id);if("parentId"in t){var r=n.parentId,o=t.parentId;r&&!(r&&p[r]&&!i[r])&&s(n,r,!1),o&&(D(o)||s(n,o,!0))}}),Object.keys(p).forEach(function(t){if(!i[t]){var n=e.privateGetItem(t);n&&n.parentId&&s(n,n.parentId,!1)}}),xt(o,t),{propertiesToSetBeforeAnimation:t,itemsToMergeBeforeAnimationMap:n,propertiesToAnimate:r,idsToRemoveAfterAnimationMap:i}}();if(r&&Object.keys(r.idsToRemoveAfterAnimationMap).forEach(function(t){delete p[t]}),e.privateRemoveItem(Object.keys(p)),r){var i=[];Object.keys(r.itemsToMergeBeforeAnimationMap).forEach(function(t){i.push(D(t)),F(t)}),e.privateMerge(i),e.privateSetNonImageProperties(r.propertiesToSetBeforeAnimation),e.privateSetAllDirty(),M(n),e.privateAnimateProperties(r.propertiesToAnimate,b,function(){e.privateRemoveItem(Object.keys(r.idsToRemoveAfterAnimationMap)),M(t)},!1,!0)}else M(t)}(function(){e.privateMerge(h.list.filter(function(t){return null!==t})),b.animate||M(n),e.privateSetNonImageProperties(z(f),!0),e.privateRemoveItemsFromTransfer(i),y={},function(t){if(g){e.selection(Object.keys(g)),s.trigger("selectionchange");var n=new Set;t.forEach(function(t){return n.add(t)}),l.selection().hasChanged(n)&&o.fire("selection-change")}else{var r=t.filter(e.privateItemIsShown);t.length!==r.length&&(e.selection(r),s.trigger("selectionchange"),o.fire("selection-change"))}}(r),h={list:[],index:{},nulls:0,comboLinkAdj:{}},f={},p={},g=null,v=[],M(t)},n)}return{adjustForNewComboSize:dt,adjustTopLevelLayout:function(t,n,r,i){var o=function(){var t={nodes:{},links:{}};return e.privateGetRawItems().concat(h.list).forEach(function(e){if(null!==e){var n=nt(e.id),r=_(e.id);n||r||("node"===e.type?t.nodes[e.id]=A(e.id):t.links[e.id]=e)}}),t}(),a=e.privateGetCanvas(),s=e.privateGetMaxLabelLength();d.layout(t.name,o.nodes,o.links,Lu(o.nodes,a,s,u),t,"toplevel",function(t){ut(t.vertices),Object.keys(t.vertices).forEach(function(e){var n=t.vertices[e],r=C(e,"x"),i=C(e,"y");at(e,n.x-r,n.y-i)}),n(t.updatedEdges),i(t.extents)})},applyUpdates:At,afterComboResize:function(t,e){var n,r,i=t.id,o=vt(i,void 0),s=o.width,l=o.height,u=ft(t),c=C(i,"oc")||{};if(c.w&&c.w<=s||c.h&&c.h<=l){c.w=Math.max(null!=(n=c.w)?n:0,s),c.h=Math.max(null!=(r=c.h)?r:0,l),L(i,"oc",c);var d=a(t);d.oc.w=s,d.oc.h=l,u=ft(d)}dt(i,u-e,!0),At()},forEachChild:function(t,e){var n=x(t,"_combo");n&&(n.nodeIds&&n.nodeIds.forEach(e),n.linkIds&&n.linkIds.forEach(e))},getChangingComboNodeIds:function(){var t=[];return z(f).forEach(function(e){e._combo&&N(e.id)&&t.push(e.id)}),t},getComboProperty:E,getDiameterFromExtents:ct,getIdsToRemove:function(){return Object.keys(p)},getItem:A,getComboSizeChange:function(t,n,r){var i=e.privateGetCanvas(),o={include:!1,maxLength:r},a=ku(t,i,o,u,!0).radius,s=ku(t,i,o,u,!1).radius;return n?a-s:s-a},getNodeComboProperty:k,getNodeProperty:C,getNodeSizeWithoutBorder:ft,getParentId:_,getProperty:x,layoutCombo:function(t){return mt(t)},layoutComboWithOffset:mt,mergeItem:B,preMergeDetails:function(){return{itemsToMerge:h.list.filter(function(t){return null!==t}),propertiesToSet:z(f)}},privateState:function(){return{itemsToMergeList:h.list,propertiesToSetMap:f,idsToRemoveMap:p,idsToSelectMap:g}},removeItems:it,removingItem:nt,selectItems:function(t){g=g||{},t.forEach(function(t){g[t]=!0})},setComboMinimumSize:function(t){pt(t,vt(t,e.privateGetMaxLabelLength()),!1)},setNodeComboSubProperty:function(t,e,n){var r=k(t);r[e]=n,I(t,"_combo",r)},setNodeProperty:L,setProperty:I,transferComboLinkToCorrectParent:function(t){if(!p[t.id]){var e=_(t.id1),n=_(t.id2);G([t.id],(n===t.id1?n:e)||null)}},transferNodesToCombo:function(t,e){Z(t,[],e),P(t,e)},transferRawLinksToCorrectParents:function(t){var e={},n=[];t.forEach(function(t){if(!p[t.id]){var r,i=_(t.id1),o=_(t.id2);if(i||o)r=i===o||i===t.id2?i:o===t.id1?o:function(t){var e=U(t.id),n=ot(e.id1,e.id2);if(!n){var r=J(e.id1,e.id2,t);n=r.id,B(r),null!==e.parentId&&G([n],e.parentId)}return n}(t),t.parentId!==r&&(e[r]||(e[r]=[])).push(t.id);else null!==t.parentId&&n.push(t.id)}});var r=Object.keys(e);r.forEach(function(t){Z([],e[t],t)}),Z([],n,null),r.forEach(function(t){P(e[t],t)}),P(n,null)},updateComboLinkProperties:X,updateComboNodeGlyphs:bt}}function $d(t,e){if(1===e.length)return-1===t.indexOf(e[0])&&(t.push(e[0]),!0);for(var n={},r=!1,i=0;i<t.length;i++)n[t[i]]=!0;for(var o=0;o<e.length;o++)n[e[o]]||(t.push(e[o]),r=!0);return r}function tf(t,e,n,r,i,o,s){var l=0;function u(e){var n;do{n=e+ ++l}while(t.privateGetItem(n));return n}function c(){return u(Hr)}function d(t){return!(!t||"number"!=typeof t.lat||"number"!=typeof t.lng)}function f(t,e,n){if(t._combo={nodeIds:[],linkIds:[],open:!1,comboScale:0,g:void 0},n?t.oc=n:t.oc||(t.oc={}),t.oc=T(t.oc,i().openCombos),m(t.oc.w)||(t.oc.w=0),m(t.oc.h)||(t.oc.h=0),void 0===t.x&&(t.x=0),void 0===t.y&&(t.y=0),t.g=t.g||[],null!==e){var r=un(un({},{p:"ne",c:"rgb(255, 0, 0)",t:"0"}),e||{});t.g.unshift(r),t._combo.g=r.p}}function h(n,r){var o,l,c=n.style,h=c||a(r[0],"d"),p=u("_combo_"),g=function(t,e){return V(e.label)?t.map(function(t){return t.t}).filter(function(t){return!V(t)&&""!==t}).join("\n"):e.label}(r,n);if(void 0===n.glyph&&i&&(n.glyph=i().comboGlyph),null!=n.glyph&&!w(n.glyph))throw new Error("[combo().combine] glyph must be an object");var v,m=c&&!V(c.hi)?c.hi:r.every(function(t){return!!t.hi}),y=c&&!V(c.bg)?c.bg:r.every(function(t){return!!t.bg}),b=c&&d(c.pos)?c.pos:function(t,e){if("first"!==t.position){var n=0,r=0,i=0;if(e.forEach(function(t){d(t.pos)&&(r+=t.pos.lat,i+=t.pos.lng,n++)}),n>0)return{lat:r/n,lng:i/n}}else for(var o=0,a=e.length;o<a;o++){var s=e[o];if(d(s.pos))return s.pos}}(n,r);if(e&&e.api.isShown()&&d(b)){var x=e.api.viewCoordinates(b.lat,b.lng);v=t.worldCoordinates(x.x,x.y)}else{var C=t.privateGetCanvas(),A=s();v="first"===n.position?r[0]:function(t,e,n){var r=wu(t.map(function(t){var r=ku(t,e,{},n);return{id:t.id,x:t.x,y:t.y,r:r.radius,w:r.width,h:r.height,labelOffset:Su(t)}}),!0);return r?Cu(r):void 0}(r,C,A)}var _=un(un({},h),{type:"node",id:p,t:g,hi:m,bg:y,pos:b,x:(null===(o=v)||void 0===o?void 0:o.x)||0,y:(null===(l=v)||void 0===l?void 0:l.y)||0});return f(_,n.glyph,n.openStyle),n.open&&(_._combo.open=!0),w(n.d)&&(_.d=n.d),_}var p=go({strings:{label:!0}});function g(i,o,s){var l=S(i),u=e&&e.api.isShown(),c=T(o,{animate:!0,select:!0,time:250,arrange:"lens",resize:!0,easing:"cubic"}),d=_(c),f=[],g=[],v={};l.forEach(function(e){var n,r={},i=[],o=[],s=a(e,"d");if(s&&s.ids&&(p.ensureObject(s,!1),n=t.privateGetItem(s.ids)),u&&s.open&&delete s.open,!n)throw new Error("[combo().combine] function must be passed valid combo definitions");if(n.forEach(function(t){if(!t)throw new Error("[combo().combine] function must be passed valid ids");if("node"===t.type){if(t.parentId)throw new Error("[combo().combine] nodes cannot be combined if they are already in a combo");if(v[t.id])throw new Error("[combo().combine] nodes should only be in one combo");v[t.id]=!0,r[t.id]=!0,i.push(t),o.push(t.id)}}),!Object.keys(v).length)throw new Error("[combo().combine] function must be passed at least one node id");var l=h(s,i);d.mergeItem(l),k(d,W(i),o,l.id,[],[]),d.layoutComboWithOffset(l.id,{dx:0|(s.dx||0),dy:0|(s.dy||0)}),f.push(l),g.push(l.id)}),c.select&&d.selectItems(g),n.fire("prechange",{type:"combine"}),r.trigger("prechange","combine"),d.applyUpdates(function(){t.applyRevealedLinkOffsets(f),t.privateSetAllItemsInComboDirty(g),M(s,g)})}function v(e,n,r){void 0===n&&(n=null),void 0===r&&(r=!1);var i=e._combo,o=n||{nodes:[],links:[]},a=i.nodeIds,s=a?t.privateGetItem(a):[];function l(t){t._combo?(v(t,o,r),r&&("node"===t.type?o.nodes.push(t):o.links.push(t))):"node"===t.type?o.nodes.push(t):o.links.push(t)}return t.privateGetItem(i.linkIds).forEach(l),s.forEach(l),o}function y(e,n){var r=t.privateGetItem(e);return!(!r||"all"!==n&&n!==r.type||!r._combo)}function x(e,n){var r=t.privateGetItem(e);return y(e,n)&&!r.parentId}function C(e){return t.privateGetAncestryIds(e).length}function A(t,e,n){(e||t.getChangingComboNodeIds()).sort(function(t,e){return C(e)-C(t)}).forEach(function(e){var r=t.getNodeComboProperty(e),i=t.getNodeProperty(e,"oc")||{},o=t.getDiameterFromExtents(i.w,i.h)/2,a=t.layoutCombo(e),s=r.open?a-o:0;(!n||n.resize||s>0)&&t.adjustForNewComboSize(e,s,!!n.adapt)})}function _(a){return qd(T(a,{comboLinkStyle:i().comboLinks}),t,e,c,n,r,o,s())}function E(e,n){var r={},i={};t.privateGetItem(t.privateNeighbourLinkIds(n)).forEach(function(e){var n=e;n._combo?(i[n.id]=n,t.privateGetItem(n._combo.linkIds).forEach(function(t){r[t.id]=t})):r[n.id]=n}),z(i).forEach(e.transferComboLinkToCorrectParent),e.transferRawLinksToCorrectParents(z(r))}function k(t,e,n,r,i,o){var a={};t.transferNodesToCombo(n,r);var s={};z(e).forEach(function(t){s[t.id]=t,t._combo&&v(t,null,!0).nodes.forEach(function(t){s[t.id]=t}),t.hi||i.push(t.id),t.parentId&&(a[t.parentId]=!1)}),t.getIdsToRemove().forEach(function(e){var n=t.getProperty(e,"parentId");n&&(a[n]=!1)}),E(t,Object.keys(s)),i.length>0&&!t.getProperty(r,"hi")&&(i.length=0),Object.keys(a).sort(function(t,e){return C(t)-C(e)}).forEach(function(e){if(!t.removingItem(e)){var n=!1;t.forEachChild(e,function(e){t.getProperty(e,"hi")||a[e]&&!1!==a[e]||(n=!0)}),n||(a[e]=!0,o.push(e))}})}function I(e,i,o,a,s){var l=T(o,{animate:!0,time:250,select:!1,arrange:"lens",resize:!0,easing:"cubic",reposition:!1,adapt:!0}),u=null;if(i&&(!(u=t.privateGetItem(i))||"node"!==u.type||!u._combo))throw new Error("[combo().transfer] comboId must be the id of a combo node or null");var c=_(l),d=function(e,n){var r={},i=[];if(void 0===e)throw new Error("[combo().transfer] function must be passed a valid transfer destination");var o=e?function(t){var e={};return t.forEach(function(t){e[t]=!0}),e}(t.privateGetAncestryIds(e)):{};return t.privateGetItem(n).forEach(function(t){if(!t)throw new Error("[combo().transfer] function must be passed valid ids");if(o[t.id])throw new Error("[combo().transfer] cannot transfer a combo inside itself");"node"===t.type&&(r[t.id]=t,i.push(t.id))}),{nodes:r,order:i}}(i,S(e)),f=Object.keys(d.nodes),h=[],p=[];l.select&&c.selectItems(f),k(c,d.nodes,d.order,i,h,p),A(c,null,l);var g=[];if(u){var v=c.getNodeComboProperty(u.id);v&&!v.open&&g.push(u)}n.fire("prechange",{type:a}),r.trigger("prechange",a),c.applyUpdates(function(){h.length>0&&t.show(h,!0),p.length>0&&t.hide(p),t.applyRevealedLinkOffsets(g),M(s)},function(){l.animate&&t.applyRevealedLinkOffsets(g)})}function L(e,n){var r=S(n);(r=r.filter(function(e){!function(t){var e=t;["id","id1","id2","parentId"].forEach(function(t){t in e&&null!=e[t]&&(e[t]+="")})}(e);var n=t.privateGetItem(e.id);if(n&&e.type&&e.type!==n.type)return!1;if(n&&n.oc&&(e.oc=K(n.oc,e.oc)),"node"===e.type)return!0;if("link"===e.type){if(!e.id1||!e.id2){if(n)throw new Error("You must specify both id1 and id2 for a link");return!1}if(n&&"link"===n.type&&(n.id1!==e.id1||n.id2!==e.id2))throw new Error("You cannot change the ends of an existing link. Remove the existing item first");return e.id1!==e.id2||t.options().selfLinks}throw new Error("The type of the item should be specified")})).forEach(e.mergeItem);var o,a=i?i().comboGlyph:null,s=0,l=[],u={};try{o=function(t,e,n){void 0===n&&(n=function(t){return t});var r=new Map,i=[],o=[];for(t.forEach(function(t){var e=n(t);e&&r.set(e,{item:t,inDegree:0})}),t.forEach(function(t){var i=e(t),o=n(t);i&&i.forEach(function(t){r.has(t)&&t!==o&&r.get(t).inDegree++})}),t.forEach(function(t){var e=n(t);e&&0===r.get(e).inDegree&&o.push(t)});o.length>0;){var a=o.shift();i.push(a);var s=e(a);if(s)for(var l=0;l<s.length;l++){var u=r.get(s[l]);u&&1==u.inDegree--&&o.push(u.item)}}if(i.length<r.size)throw new Error("Cycle detected");return i}(e.preMergeDetails().itemsToMerge,function(t){return[e.getParentId(t.id)]},function(t){return t.id})}catch(t){throw new Error("A node's parentId can't refer to a child")}o.forEach(function(n){var r=t.privateGetItem(n.id);if(r&&R(n,"parentId")&&r.parentId!==n.parentId)throw new Error("You can't set or change the parentId of an existing item");if("link"!==n.type&&!(void 0===n.parentId||r&&n.parentId===r.parentId)){if(n.id===n.parentId)throw new Error("A node can't be the parent of itself");if(null!==n.parentId){var i=e.getItem(n.parentId);if(!i||!i.id)return void e.setProperty(n.id,"parentId",null);if("link"===i.type)throw new Error("The parentId of a node can't be a link");i._combo||(f(i,a,void 0),e.mergeItem(i),l.push(i.id)),void 0===n.x&&e.setNodeProperty(n.id,"x",i.x),void 0===n.y&&e.setNodeProperty(n.id,"y",i.y),n.parentId=i.id,e.setNodeProperty(n.id,"_offset",{x:0,y:0}),(u[n.parentId]||(u[n.parentId]=[])).push(n.id),s++}}}),Object.keys(u).forEach(function(t){e.transferNodesToCombo(u[t],t)}),e.transferRawLinksToCorrectParents(o.filter(function(n){if("link"===n.type){t.privateGetItem(n.id)||void 0===n.parentId||(n.parentId=null);var r=t.privateGetItem(n.id);if(r){var i=r.parentId;i&&"link"===e.getProperty(i,"type")&&e.updateComboLinkProperties(i)}else if(0!==n.id2.indexOf("dummyEnd"))return!0}return!1})),l.forEach(e.layoutCombo),s>0&&e.updateComboNodeGlyphs()}function O(e){var n=[];e.forEach(function(e){var r=t.privateGetItem(e.id),i=e.count;if(r.g){var o=!1,a=r.g.map(function(t){return t.p===r._combo.g?(o=!0,K({},t,{t:i})):t});o&&n.push({id:r.id,g:a})}}),n.length&&t.privateSetNonImageProperties(n)}function P(t,e,n,r){return t.filter(function(t){return n[t.id]||!r[t.id]&&!t[e]})}function F(e,n,r,i,o){return Object.keys(r).forEach(function(r){var a,s,l,u=t.privateGetItem(r),c=v(u),d=P(c.links,n,i,o);if(u._combo.nodeIds?(l="nodes",a=(s=P(c.nodes,n,i,o)).length>0):(l="links",a=d.length>0),l){if(a&&"hi"===n){var f={id:r,links:d};s&&(f.nodes=s),e.combos[l].push(f)}a!==!u[n]&&(a?i[r]=!0:o[r]=!0)}}),e}function D(e,n,r,i,o){t.privateGetItem(e).forEach(function(e){if(e){var a=e[i]===o;if(e._combo){var s=v(e,null,!0);s.nodes.forEach(function(t){!!t[i]===o&&(a=!0,n[t.id]=!0)}),s.links.forEach(function(t){!!t[i]===o&&(a=!0,n[t.id]=!0)}),a&&(r[e.id]=!0)}for(var l=t.privateGetParentItems(e.id),u=l.length-1;u>=0;u--){var c=l[u];("node"===e.type&&a&&"hi"===i||!!c[i]===o)&&(r[c.id]=!0,a=!0)}}})}function B(t){return"node"===t.type?"nodes":"links"}function Z(e,n,r){var i={toShow:[],toHide:[],shown:{nodes:[],links:[]},hidden:{nodes:[],links:[]},combos:{nodes:[],links:[]}},o={},a=N(e),s=N(n),l=e,u=n;return r&&r.all&&(l=r.all.shown.nodes.concat(r.all.shown.links),u=r.all.hidden.nodes.concat(r.all.hidden.links)),D(l,a,o,"hi",!0),D(u,s,o,"hi",!1),i=F(i,"hi",o,a,s),t.privateGetItem(Object.keys(a)).forEach(function(t){null!==t&&(i.toShow.push(t.id),i.shown[B(t)].push(t.id))}),t.privateGetItem(Object.keys(s)).forEach(function(t){null!==t&&(i.toHide.push(t.id),i.hidden[B(t)].push(t.id))}),i}function G(e,n,r,i){var o={toShow:[],toHide:[],foreground:{nodes:[],links:[]},background:{nodes:[],links:[]}},a={},s=N(e),l=N(n),u=e,c=n;return r&&r.all&&(u=r.all.foreground.nodes.concat(r.all.foreground.links),c=r.all.background.nodes.concat(r.all.background.links)),D(u,s,a,"bg",!0),D(c,l,a,"bg",!1),i||function(e,n,r){t.privateGetRawItems().forEach(function(t){!j(t.id)||t.bg&&!e[t.id]||(delete e[t.id],delete n[t.id],t.bg||(r[t.id]=!0))})}(a,s,l),o=F(o,"bg",a,s,l),t.privateGetItem(Object.keys(s)).forEach(function(t){null!==t&&(o.toShow.push(t.id),o.foreground[B(t)].push(t.id))}),t.privateGetItem(Object.keys(l)).forEach(function(t){null!==t&&(o.toHide.push(t.id),o.background[B(t)].push(t.id))}),o}function j(e){var n=t.privateGetItem(e);return!!(n&&n._combo&&"node"===n.type&&n._combo.open)}function Y(i,o,a,s){if(!e||!e.api.isShown()){var l=S(i),u=T(a,{animate:!0,time:300,easing:"cubic",adapt:!0,updateGlyph:!1}),c=t.privateGetMaxLabelLength(),d=o?"open":"close",f=_(u),h=function(e,n){return t.privateGetItem(e).filter(function(t){return t&&"node"===t.type&&t._combo&&t._combo.open===!n})}(l,o);h.length?(h.sort(function(t,e){return C(t.id)-C(e.id)}).forEach(function(t){var e=f.getComboSizeChange(t,o,c);f.setNodeComboSubProperty(t.id,"open",o),f.setNodeComboSubProperty(t.id,"comboScale",o?1:0),f.adjustForNewComboSize(t.id,e,u.adapt)}),n.fire("prechange",{type:d}),r.trigger("prechange",d),f.applyUpdates(function(){u.animate&&o||t.applyRevealedLinkOffsets(h),t.privateSetAllItemsInComboDirty(l),M(s)},function(){u.animate&&o&&t.applyRevealedLinkOffsets(h)})):M(s)}}var U={api:{combine:g,combineNodes:g,uncombine:function(e,n,r){var i=T(n,{animate:!0,time:250,full:!1,select:!0,reposition:!0}),o=S(e).filter(function(t){return x(t,"node")});if(0!==o.length){var a=[];o.forEach(function(e){var n=t.privateGetItem(e),r=i.full?X(v(n).nodes):n._combo.nodeIds;a=a.concat(r)}),I(a,null,i,"uncombine",r)}else M(r)},info:function(e){var n=null,r=t.privateGetItem(e);return r&&r._combo&&(n=v(r,n,!1)),a(n,!0)},isCombo:function(t,e){var n=S(t),r=T(e,{type:"all"});if(!r.type.match(/^(node|link|all)$/))throw new TypeError("[combo().isCombo] opts type property should be either 'node', 'link' or 'all'");return n.some(function(t){return y(t,r.type)})},find:function(e,n){var r=T(n,{parent:"top"});if(!Array.isArray(e)&&!m(e)&&"string"!=typeof e)throw new Error("[combo().find] Incorrect argument passed");var i={top:function(e){var n=t.privateTopParentId(e);return{parentComboId:n,isCombo:x(n,"all")}},first:function(e){var n=t.privateGetItem(e),r=n?n.parentId:null;return{parentComboId:r,isCombo:!!r&&y(r,"all")}}},o=i[r.parent]?i[r.parent]:i.top,a=!Array.isArray(e),s=S(e).map(function(t){var e=o(t);return V(e.parentComboId)||!e.isCombo||e.parentComboId===t?null:e.parentComboId});return a?s[0]:s},transfer:function(t,e,n,r){I(t,e,n,"transfer",r)},open:function(t,e,n){Y(t,!0,e,n)},close:function(t,e,n){Y(t,!1,e,n)},isOpen:j,arrange:function(t,e,i){var o=T(e,{animate:!0,time:300,name:"lens",resize:!0,easing:"cubic",adapt:!0});if(o.arrange=o.name,o.resize||"none"!==o.name){var a=S(t).filter(function(t){return y(t,"node")}),s=_(o);A(s,a,o),n.fire("prechange",{type:"arrange combo"}),r.trigger("prechange","arrange combo"),s.applyUpdates(i)}else M(i)},reveal:function(e){return t.privateReveal(e)}},internalUse:{hide:function(t,e){return U.internalUse.filter([],t,null,e).toHide},show:function(t){return U.internalUse.filter(t,[],null,{updateGlyph:!0}).toShow},filter:function(t,e,n,r){var i=Z(t,e,n);return r.updateGlyph&&O(i.combos.nodes.map(function(t){return{id:t.id,count:t.nodes.length}})),n&&function(t,e){t.combos=e.combos,t.shown={nodes:e.shown.nodes,links:e.shown.links},t.hidden={nodes:e.hidden.nodes,links:e.hidden.links}}(n,i),i},foreground:function(t,e,n,r){var i=G(t,e,n,!!r.foregroundOpenCombos);return function(t,e){t.foreground={nodes:e.foreground.nodes,links:e.foreground.links},t.background={nodes:e.background.nodes,links:e.background.links}}(n,i),i},preMerge:function(t,e){var n=_(T(e,{arrange:"none",resize:!0}));return L(n,t),n.preMergeDetails()},preDelete:function(e){var n=S(e),r=t.privateGetItem(n).filter(function(t){return null!==t}),i=_({animate:!1});function o(e){var n=e._combo;t.privateGetItem(n.linkIds).forEach(function(e){var n=e;r.push(n),n._combo&&t.privateGetItem(n._combo.linkIds).forEach(function(t){r.push(t)})}),n.nodeIds&&t.privateGetItem(n.nodeIds).forEach(function(t){var e=t;r.push(e),e._combo&&o(e)})}r.forEach(function(t){t._combo&&o(t)});var a=W(r);t.privateNeighbourLinkIds(Object.keys(a)).forEach(function(e){r.push(t.privateGetItem(e))}),i.removeItems(r.map(function(t){return t.id})),i.applyUpdates()},serialize:function(){var e=t.privateGetRawItems(),n={};return e.filter(function(t){return t._combo}).forEach(function(e){var r=e._combo;n[e.id]=a(e,"d"),n[e.id]._combo=a(r),"node"===e.type&&(n[e.id]._offsets=a(r.nodeIds.map(function(e){return t.privateGetItem(e)._offset}),!0))}),n.nodes=[],n.links=[],n},preLoadUp:function(t,e){if(l=0,t){var n=t.combos;n&&(n.links&&n.links.length||n.nodes&&n.nodes.length)?function(t,e){var n={},r=[];t.combos.nodes.forEach(function(e){var i=e.nodes.map(function(n){var r=H({parentId:e.id,_offset:{x:n.x||0,y:n.y||0}},n);return t.items.push(r),n.id}),o={nodeIds:[],linkIds:[],open:!1,comboScale:0,g:void 0};o.nodeIds=i,n[e.id]={type:"node",_combo:o,oc:{w:0,h:0}},r.push(e.id)}),t.items.forEach(function(t){if("node"===t.type&&n[t.id]&&(H(t,n[t.id]),t._combo.g=void 0,t.g&&t.g.length>0)){var e=t.g[0];e.t&&b(e.t)&&(t._combo.g=e.p)}"link"===t.type&&function(t){return 0===t.indexOf(Hr)}(t.id)&&H(t,{_combo:{linkIds:[]}})}),M(e,{comboIdsToLayout:r,itemsToMerge:{}})}(t,e):function(t,e){var n=t.combos||{},r=t.items||[],i={},o=[],a={};r.forEach(function(t){var e=t.id;if(n[e])throw new Error('Item "'+e+'" specified twice');if(null!=t.parentId){var r=n[t.parentId];if(r){var i=r._combo.linkIds;(r._combo.nodeIds||[]).indexOf(e)<0&&i.indexOf(e)<0&&(a[e]=t)}else a[e]=t}}),Object.keys(n).forEach(function(t){var e=n[t];if(e._combo&&("node"===e.type||"link"===e.type)){var a=e._offsets;if(delete e._offsets,"node"===e.type){if(e._combo.nodeIds.forEach(function(t,n){i[t]={parentId:e.id,_offset:a[n]}}),!("g"in e._combo)&&(e._combo.g=void 0,e.g&&e.g.length)){var s=e.g[0];s.t&&b(s.t)&&(e._combo.g=s.p)}e.oc&&("w"in e.oc||"h"in e.oc)?(e.oc.h=e.oc.h||e.oc.w,e.oc.w=e.oc.w||e.oc.h):(o.push(t),e.oc=e.oc||{},e.oc.w=0,e.oc.h=0)}e._combo.linkIds.forEach(function(t){i[t]={parentId:e.id}});var l="node"===e.type?{nodeIds:[],linkIds:[],open:!1,comboScale:0,g:void 0}:{linkIds:[]};H(l,e._combo),"node"===e.type&&(l.comboScale||(l.comboScale=l.open?1:0)),e._combo=l,r.push(e)}}),t.items=r.filter(function(t){return a[t.id]||"link"===t.type&&(a[t.id1]||a[t.id2])?(a[t.id]=t,!1):(i[t.id]&&H(t,i[t.id]),!0)}),M(e,{comboIdsToLayout:o,itemsToMerge:a})}(t,e)}else M(e)},postLoadUp:function(t,e,n){var r=_({animate:!1});e&&e.comboIdsToLayout.forEach(function(t){r.layoutCombo(t)});var i=t.combos;i&&i.links&&i.links.length?L(r,i.links):e&&L(r,z(e.itemsToMerge)),r.applyUpdates(n)},dblclick:function(e){var n=t.privateGetItem(e);if(n)if("node"===n.type&&n._combo)Y(e,!n._combo.open);else if(n.parentId){var r=t.privateGetItem(n.parentId);r&&"node"===r.type&&r._combo&&Y(r.id,!1)}},ensureMinimumOpenComboSize:function(t){var e=_({animate:!1});t.forEach(function(t){e.setComboMinimumSize(t)}),e.applyUpdates()},arrangeAndLayout:function(t,e,i,o,a){var s=T(e.arrange,{animate:!0,time:300,name:"lens",resize:!0,easing:"cubic",adapt:!0});s.arrange=s.name;var l=_(s);if(s.resize||"none"!==s.name){var u=S(t).filter(function(t){return y(t,"node")});A(l,u,s)}n.fire("prechange",{type:"arrange combo"}),r.trigger("prechange","arrange combo"),l.adjustTopLevelLayout(e.layout,i,r,function(t){o(t),l.applyUpdates(a)})},afterComboResize:function(){var e=0;return n.privateOn("drag-start",function(n){var r=n.id;if("resize"===n.type&&r){var i=t.privateGetItem(r);if("node"===i.type&&i._combo&&i._combo.open){var o=_({animate:!1});e=o.getNodeSizeWithoutBorder(i)}}}),function(n){var r=t.privateGetItem(n);"node"===r.type&&r._combo&&r._combo.open&&_({animate:!1}).afterComboResize(r,e)}}()}};return U}var ef=/^do([0-9]|[1-9]\d+)$/,nf=/^a(1|2)$/,rf=/^(?:n|s|w|e|ne|nw|se|sw|\d|[1-9]\d|[1-2]\d\d|3[0-5]\d|(\d|[1-9]\d|[1-2]\d\d|3[0-5]\d)-(\d+))$/,of=/^ha([0-9])$/,af=/^([0-9]|[1-9]\d+)-t(1|2)$/,sf=/^t(1|2)$/,lf=/^(n|s|w|e|ne|nw|se|sw)-resize$/;function uf(t){return"link"===t.type||function(t){return"node"===t.type&&!(t.u||t.c||t.fi)}(t)}function cf(t,e){if("t"===e)return{subId:e,type:"label"};if("bu"===e)return{subId:e,type:"bubble"};var n="node"===t.type&&t.donut&&ef.exec(e);if(n)return{subId:e,index:u=parseInt(n[1],10),type:"donut"};if("link"===t.type&&(t.a1||t.a2)&&nf.test(e))return{subId:e,type:"arrowhead"};if(t.g&&(n=rf.exec(e))){for(var r=n[1],i=n[2],o=parseInt(e,10),a=null!=r?parseInt(r,10):o,s=null!=i?parseInt(i,10):null,l=t.g.length,u=0;u<l;u++){var c=t.g&&t.g[u];if(c&&uf(t)&&o===u)return{subId:e,index:l-1-u,type:"glyph"};if(c&&(null===s||c.r===s)&&(c.p===e||c.p===a))return{subId:e,index:u,type:"glyph"}}return{subId:e,index:void 0,type:"glyph"}}if("node"===t.type&&of.exec(e))return{subId:e,type:"halo"};if(n="link"===t.type&&!(!t.t1&&!t.t2)&&af.exec(e)){var d=t,f=n[2],h=parseInt(n[1],10);if(1===(p=parseInt(f,10))&&d.t1&&"object"==typeof d.t1&&d.t1.g)return{subId:e,linkEnd:"t1",index:u=(l=d.t1.g.length)-1-h,type:"glyph"};if(2===p&&d.t2&&"object"==typeof d.t2&&d.t2.g)return{subId:e,linkEnd:"t2",index:u=(l=d.t2.g.length)-1-h,type:"glyph"}}if(n="link"===t.type&&!(!t.t1&&!t.t2)&&sf.exec(e)){var p;if(f=n[1],1===(p=parseInt(f,10)))return{subId:e,linkEnd:"t1",type:"label"};if(2===p)return{subId:e,linkEnd:"t2",type:"label"}}return"node"===t.type&&lf.test(e)?{subId:e,type:"resize"}:{subId:void 0,type:void 0}}function df(t,e){var n=e.events,r=e.legacyEvents,i=e.controller,o=i.getActiveDragger,a=i.stopDrag,s=i.getFakeDragger,l=i.setFakeDragger,u=Of(t,e);n.fire("context-menu",u);var c=s();return c&&t.validDownEvent&&!o()&&2!==t.button&&a(!1,c),l(null),r.trigger("contextmenu",u.id,t.x,t.y,u.subItem.subId||null),u.defaultPrevented}function ff(t,e){var n=t.id,r=t.button,i=t.pointerType,o=e.events,a=e.model,s=e.controller,l=e.legacyEvents,u=e.overlays,c=Of(t,e);o.fire("pointer-down",c);var d=c.id,f=c.subItem;"mouse"===i?l.trigger("mousedown",d,t.x,t.y,r,f.subId||null):l.trigger("touchdown",d,t.x,t.y,f.subId||null);var h=null;0!==r||s.lock()||(h=a.createDragger(e,s.getCanvasContext(),n,t,c.subItem,{},s.inMapMode()),n&&!h&&(h=u.createDragger(n,t)),s.setFakeDragger(h)),s.lock()&&(s.stopDrag(!1),s.setFakeDragger(null)),"mouse"===t.pointerType&&2!==r&&l.trigger("click",d,t.x,t.y,t.button,f.subId||null),l.suppress(!1)}function hf(t,e){var n=e.events,r=Of(t,e);n.fire("pointer-up",r)}var pf={"Arrow-ne.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAARVBMVEUAAAAAruoAruoAruoArukArOsAre8AruoArusAr+0Ap+IArusAruoAruoAr+oAruoAr+oArusArusAreoAruoAruoArurGDVJ2AAAAFnRSTlMA7PlILTQSzUApCPry5LWHbmZYV56dONEurAAAAHFJREFUKM+90DkOgDAMRFGzZQOyQu5/VCRiVwzp4LdPsqyhj3MpG6vedBprreOu/RFiNg6pZKijhToaqaOBgK6MJ8BlY/TAhsppbNt9eYc2zG0NbPyzwtbUQmM1yEQLMtGETHIPA81sMKXFsLJhtfRjF/wgC8yO94CNAAAAAElFTkSuQmCC","Arrow-nw.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAPFBMVEUAAAAAruoAresArusAruoAqvEArusAresArusAp+IArekAruoAr+oAruoAr+oAruoAruoAr+oAresArurF+043AAAAE3RSTlMA7jL5SBJYQSwI8+TOzLWeh29nYHqaQgAAAHNJREFUKM+9z8kKwDAIRdHXIVOnDP7/v7Yk2QRU6KK9Sw+I4peMd7aEYRSczSle574Q0bJiyFGPMVjFkBVDUgxRMVwdt5nBk3oTo3vdufHafp8nTk2/hVXfjFdXTVBbTdDymKgBUBRv1St6GIgqG+ANPuwGG+MKJZ7NkmMAAAAASUVORK5CYII=","Arrow-se.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAP1BMVEUAAAAAr+oAruoAruoAruoAruoAsOkAr+sAreoAr+sAruoAp+IAr+sAruoAruoAruoAruoAruoAreoA//8Arur2XPH+AAAAFHRSTlMAL/nsSOsSaldAKgjx48/MtJ2GARaOxv8AAAB2SURBVCjPvcs5EoQwEENRYYxXGDbd/6yzdYCrmiaCH+qVcGehGPYaunMjT7UMNLS71r7RaqiPx2/fqHcJiooxQ1ExFmj6Nwao+jO3Q9Pxa5wARaUZio6Ci4LeCa6GcTOM0TAmw5gVc9O8rFtMuTZWP0sJOx7oDS3DCuS8EfUUAAAAAElFTkSuQmCC","Arrow-sw.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAQlBMVEUAAAAArusAruoArukAruoAruoArusAsvEAruoArusArusAr+0AruoAruoAr+oAruoAruoAr+oArusAn98As+YAruriSELzAAAAFXRSTlMA+Ugt7usyEc1XQCny5LWeh25mCArMFThRAAAAc0lEQVQoz73JSQ6EMAwEQAdmyMYO/f+vIpClFiLxDepa8qXW16/7BV8/gPs8/LNxrajNOFmb+kl0ujxK0OVRhi6PPM7l3blreTcDzu2LJwGKR6Nez6NJ0zWFnGHsAmMjjE0wdk9xmacxDI5b4HOK6ybvOgBebguIlLvi1QAAAABJRU5ErkJggg==","Arrow.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABACAMAAAB4KUSAAAAAflBMVEUAAACVlZWRkpWSkpaQkpWRk5WQkpWSkpWQkpaPj4////9wcHCRkpX9/f3S09TU1NWztLaSkpKGhoaPj492dnb39/empqahoaGJiYmDg4NycnLt7e3j4+Pc3NzExMS6urqysrOXl5eLi4t8fHz7+/vx8fHg4OCrq6vo6OjGxsZuZdNVAAAACnRSTlMAGLS4bEXLqI8QHTDIvAAAAPxJREFUSMft1rlSw0AQhGEZMMe21rJ1opV1IWzD+78gVaNIimaagnKgP9vgizqYjbb+ptdHbfuF28X61vCQaCrj5zX0TtMhfrgv6Fl49CSsBxaiY2FIKJgC+ZmEmBoSIi1IiNOnGb5DqjwJMbAQHQtDwkGZ0wI/MCdzUlDmpKDMSUGZUw0zLBpYiI6FIaGgzKmDJ8zlwFRVVVneem+AUri4OT0Ms+ytcGozgam3wbRxHaTWBMfCuSIXWBrgeJNXKTAv9PDqpBbSt/nM+VpgZoauh/Rlhhdx49kM3Yi6b5hTfm39nX8e/gcOR03xCr7F6l6iRfsnbbtoa+u3/QB6AlluQsKWJgAAAABJRU5ErkJggg==","Hand.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABACAMAAAB4KUSAAAAArlBMVEUAAACVlZWRkpWSkpaQkpWRk5WQkpWSkpWQkpaPj4////+RkpVwcHD9/f3S09TU1NWztLbKysqzs7Px8fHv7+/u7u7p6emWlpZzc3PS0tKDg4P5+fnCwsKioqJ3d3f19fXm5ubc3NzY2Ni5ubm2trapqambm5uRkZGLi4v8/Pzz8/Pr6+vi4uLGxsa8vLyvr6+Ojo6AgIB4eHh0dHTo6Oiurq6lpqd9fX2Hh4d7e3sYjczTAAAACnRSTlMAGLS4bEXLqI8QHTDIvAAAAWNJREFUSMft1dduwjAYhmE66HA+QzMgk+zF3tDe/43VQqlQzIGdVEgc5JV+Owd5pESy5F7Xffp4ka1fc0+KfDwcDGU6KW88pESmgfLcQdbhmB8PLaBtAbDshtDwEh+lVsJPPKMBtHcAHJe4DoCdLQ3HezimNWFPE8t0sB/LwgzKlAwvcEimCjJZaGLJ1nU1SxSBJFSgslWrRgVQhC0h/HELWC7CDcwWMCJkAYs2h+wrR8DdYLhKhkVzSBMLrOZQBUqzgn8TGxJwi5SS+AJriWAAuGxLG0Md0NlGi6aQOjhd3rM5OBdAYle/Rzm4gC84chn8OblNxUYA3W9sprdwjUwASbiHdgtNeCJIPCDmHf1BJIQ0x3nGQR0IhJDMtshpHcZwiBiSCPDqcIVcBpIU1nJkXIvOWElBOgHXNhDBSqa7mjPn0rcVnenX3Ee/kR8Xal8yKRz8VKR779Xqv8r21Ovq+m+/Ii1ihjYVGpMAAAAASUVORK5CYII=","Nav-Control-Head.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAABoCAMAAAAqwkWTAAABDlBMVEUAAACRkpWWlpqRk5WRkpWRkpWRkpWRkpWRkpWOjpSRkpWRkpWRkZORkpWRkpWRkpWRk5WRkZeRkpWRkpWSkpWRkpWRkZaRkZaRkpWRkpWRkpWQkZWRkpWRkpSRkpX///8ArurQ0dORkpX8/v8Jsev7+/y/6/rY2NqfoKLq6usiue3f4OHg9f1TyfH4/f7Hx8nT1NWurrHp+f2UlZfw8fFNxvHz8/T29vfm5ufi4+S8vb6qq62Wl5qW3vfu7u+3t7nl9/2s5fiT3faJ2vVizfIpu+2am57y+/4RtOzE7fpr0fPc3N2xsbSnqKqD2PUZt+y36fmN2/bCwsSkpad+1vRGxfCk4/hy0/Q8we/Kysxfm/hGAAAAH3RSTlMA+QdRsCLmzbkMj+wZ8dWdeBRpWklCNCzcwXI8h35gX/9DngAABnpJREFUaN61mmlD2kAQhjfcyOl91oE3pAnFChTKXdFK8a7Wq/r//0g1tZiwTDZYeb7y4WF2J7Ozk4gpCC9tZGLr0bVEKrIWXQ/NbW/Oi/cmsLwV1SCTCC2svp9lfiFmS6xqJ3/WLu41mvViq2Q+9i96eCKSWQq8RyzBkAbUuuW2QTINs2M9u+ZW/jeYDwmg1y8ZxFPPdwFEg/+j2dKAqmmQir2yBaQX37iC8WdNv0i+0M0bYO1NUQUjqHXq5J9SFwiFp9WEQ0Cf0fAqC9qH6dZvUYNVoqkxyjVEpwgqkAHKbArsnpzs8mnRRSroe9miGLaJ4+Ayl7u84rOiDMz5W77NFKpN4viVs/nssVNDxOJCzZKGa93TY/ONNzUuEFWX220NeVJ4bL4Ti1HFmiolFlAzlR61qY+ItymIWkntUZv0DtaSgmdZwxmxHL461KY+onxGrKRQ8e1R71MswBXrCMpKj3/TBeYYUQh9X55CwZepMcTkGrEBy/Dj+bS/88mXqYRUeNIGaTX+7Ll3eoicpgPeVEZU3qZA2uNB/XLs8rhMx0d86nWRlURZVInlwO1xm66IZa+mjS9e2Gvh6N7tcZsOiKeMkJRx18SzU3B63KbCPvEY1ljmLdsZx3M78kimQ+/THWuufIih4t3kfH9Kh8HRWIp8fkqFb+RNF4vO1JYCklU7E7LraEdXNixIu3YoT7PiwrFLqxgaNCvOEB2J5lCmmaFbWPlXFBKo0+woj6p4EF2aIXUkAlIqzITuSzrEtVqTZkn+pQ4tTSqn+v4uvYGjLyTTQILLOf3Xca7we5LKqBdbreKeMbkk3j2VqY8kYcG+UUfRGvd8zj1zJ/n3zvIvmEWDO7XkotTBxnNLgp4ueSYeAA0z76BSHC8/A65bNhGyk7vKeHKn5KSYH6M0ZvrE9eVNpOyj9ZrxuEWlvMTYNfpHjjMNkRQigwrjyTn3tZWfwJkrpt85ztTFshDraDOegWuYMJGWK7c/caYOFoRIoDHZ83XXebvPT6bpSm/O9Ig5EUeP88iJIFMiP6YzhEQYltpDZp7D8GNqY12swlJ7mnmWIvkwFREVm7gYPXCMx145fu140/2okcSaWB49rwesh1q8yCTG5Gz5GoiIIM7pL19ZD5V4UYU8TN9HpUFzHBIPTDftWyRvwc+RKCE2R+f46WvI46W+PcXS0c+c9I/riIgV3IyqvGxS79GZh+fuNevSzufoY4Ez1XlRi/f8+DL6o4iKJIakNOm8qOHDQyXEhNBgqE0lNhd0Hx6qICNEGkVSmppsYfDjoWtkhQjBpMmmE3VIpiugQ8ZD5wgKsYUyTTZdOi4qhqneoROnR26DttEnxnToXLyKcuHuOI8BBIRdvhnTwNUDVRQeumQ81P57c0mgzphuyYZZvUqD3Dy4PPJ9IoQKTTQVdsb7R9OhaenSNILxUBVL9tBRnjWdXD57DuSOvN42bUtp1BRLbdCD5DFqmj26C2OoS8364eB2h5sdGDoxnJye3ss/lv5dLtNo0yzpIPtvftahGWL0kBQ2SfQMmh0mYq9zE5Nmx/nr7GRxlrflOlKjcXEgMsN06GDLOb+v0oxo1LR5IRwhFWk2XGPOPSE+J092bgeH0njr6vT0QBVQT0s6RfEISuTBQeH5fDohJ7sDu9PxHhP0x6fsQc+J3U5BPt13Xzrb316eNiJx4SaGsmLSaZskT66w6zlSXRTymHiPOAavHYvLY7PvNdiKCYksbgz+hYHT5PYc66ynBS0sZGJ8bT26dJlsj/rlRNPCtphAMsKXvBNnv+fyfGYD0s+RYd6HoVckCbnfu5I8zAaluXdiWQzrapON2lNBalVwZGA1edNUnjNoy4InhAuDN03hadcQFB4E1nGhjkntKfWwIDyJr8NS7ZPaYwIbQkEghKEi95SePLRFoSaDnsmb1B6jA21J+OED0DFYk8pTvEFkRfhjOYGbPc5k390HrKdSQ2xe+CW5jhr3LciX04ev7Lm6VwWyYho+MF+3KL9tWdsU0xGOAedTdSy6yX2to/4CCect39HkLSAWFm8hvhEBuqZBahqPQ2B9SbyVwEIE6HXauncwlSqAmGJzVKrFGACrY9aZjWk9VmtAKrMi/ptkNo1nWb/sfvPRbFeuqz0AWigYEO9DeCGUgM3Quqie96vdG6sHm/RcMC7eldXtrVBawyupaCYbTIrZEEiGV5aDi0ubq+F5MRV/AMrHP3wtA6vJAAAAAElFTkSuQmCC","Nav-Control-Short-Zoom.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAACACAMAAACMX59YAAABU1BMVEUAAACOjpiRkpWRkpWSkpWRkpWRkpWQkJWRkpWRkpWRkpWRkpWRkpWRkpWQkpWRk5SRkZWQkZWRk5WTk5WOjo6RkpWRkpWRkpWRkpWRkpWRkpWQkJWRkpaRkZaRkpWRkpWRkpWRkpWRkpWRk5WRkpWRkpWRkpWRkZWOjpSSk5aRkpWRkpWRk5WRkpWRk5WRkpWRkZWRkZWQkpT///+RkpUAruoiue2Q3Pas5fjFxceVlpj6+vqkpacRs+yhoqT9/v78/Pzx8fLk5OWur7Gen6H8/f7q6+u+v8D39/je3+DW19jOzs+7vL6nqKqcnaCXmJvR0dLIycq4ubu2triwsbOrq66am51+1vVo0PPo6OnCw8Wys7XS8fux5/nt7e4qvO4LsuvLzM3w+/7o+P3Y8/zH7vu56fma3/f09PROx/Ezv+4Zt+wEsOvg4OHa29yX3vY9we9ZHrf1AAAAM3RSTlMABfp2HfA8IWdV6+Cij09JQjArGArm2dLFYFo0JRP057CpmG7Xy5WADvb2vLZ8cKeJgoGIgHZSAAADoElEQVRo3u2Y2VfaQBSHQyCCCIgiitRq1bZ23+anLSFlF1BZBBG3Vu2+L///U0NJThNT7kx8as/J9wTk3C+ZO3NnbpD+aXyBYDDou2xwLHpjETry3Ep6xnX41bUl6LRyuQp0lGjA3d39i4DWKWWZTvZoZx+QH7l4ikAKKB8xC6ddYHZaNH5qCZUtdoEjDbcnBeMV9OrMQbYBWcgQDGNvk/2NDG6PCeTvBk6MeAc1TFzlCh4jl7XEvH5t+ZIvI8KdgDsoWUIOvq4fWr4WVVzhCKLYswS8WNd5b0vDNTp+RkGV/eHZQPDU8kNdRZAUpLHPKAHr4j4piGCXFmwhRQomUKUFWVWmauIW1DwtYBqmCME0NDbk6dmGzpeB4Png09mBYT5BjBCMYd+8tQPjQRqYFxEcOgWfRARTaLLffHAKDoZX9jBOCBLoG6v+4MtznfNB5Png08ahUWFNkBWp4CM9C/k2yIK8h21acIRZicKPLi3IYIWuZqh1SrBZQVwiuYcOJdg2RkCthPbHC/vBS0sl5DAvcbhm21EO9QVk2SGPMcc9KYOKraLfvrXVsnxF4jIOYyodlFT4JQH8MJ/BzpaKm5IkaGhk2QUKGZjxfNKLaG3bT5fvOch+SZjpFJDrnDKD4o4GzI5JbpifA9DqHWcyxycVABMPXHc68UgSBuFrMSKcIBDz64wvSP8zMwtXpgKXbRSvhpYnMGwUb066l0wvywDUSlNrQSe8dstVeCIC4GS7mGc6hepgISmrLp5iMgz1uGirxB6QEu5WQ0Cv6CjGCpKCreYq8Io5qZcRpk5m/o5S2MOSwCiCinl/p6GMu3zBXXTZKOoVhPgD6NfZSL5D4fWqc9hlBGWs8Q6WVoESlLBEr6cVZBhJDnFun0fSQZQ+nft5WlDCDbIIUGY0Wdyhq6DGhrz7uWHjs3lI95GgDiUzh2/O1y/ywszigojg/bqDHyKCVXMIb746BO+GV1rkEGLosSEvP2/YOPtgJlH2kd12hdFUcZ186VNQpAU7iHBapF1asI80p5qbjKKIxRlS4EviGyVoYEWieQBtk0ihKgc5At8sOmwUhSai/MYCKLHRb98CJ9wTtKujptBsNGkeov23ROYzwLgkgi8CZAqOCSxDTkuC3Jehbdn3kZ02ki4avbHrgPbq1Ex+qdYGlhOSC3yrSQD9cqNW6zZVAKm4+7/ClsMwuB4lsk+xMBkKhebjCcnDw8PDw8PDw8PDw+My/AIFurvICRtjawAAAABJRU5ErkJggg==","Nav-Control-Zoom.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAEgCAMAAAAzNIUCAAABQVBMVEUAAACQkpWRkZaTk5aRkpWRkpWSkpWRkpWQkJWRkpWRkpWTk5WRkpWRkpWIiJmQkJaSkpaRkpWQkpSRkpWRkpWRkpWSkpSRkpWRkpWRkpWRkpWSkpaRk5WRkZGRkpWRkpWRk5WQkZWRk5WRk5aRk5SRkZX///+RkpWxsrTHx8kArurQ0dP9/f4iue36+vr29/fY2drd3t/4+Pjx8fLo6OmUlZj8/PyQ3Pbl5ues5fj09PSrrK7r6+zi4+Tb3N3U1NbNzc+cnZ8Rs+y3t7mgoaTu7u/k5OXa29zW1tjCw8S7vL6lpajf4OHS09WZmpyXmJvv7/Ds7e3KyszExcawsLOjpKaB1/WoqKuen6EqvO6/wMLX8vxoz/NPyPEKsuvw+/626Pl31PRq0PMZt+zO7/uj4veb3/eX3vaP2/aO2/ZkzvKuoX/yAAAAJnRSTlMAmGYM/fBd+iHZdRX26QUvt6KIgFVMHODIj0M8KgfFr2w00Kc6nNlHBgsAAAT9SURBVHja7ZxpV9pAFIbTyiII7mvVql3mRTMGAsRSwYWCoqC4r612X///D+hwIKfR6A04nlNp5/kky33IZO5cvORMtAdNd6eg+67BQ2OjEQiCzx4FOloO7xqIQpAvFk8h8I91tvbp4QhQ2c8YTGCkV7NAsL+Foxh+ChymmYO1AhDqaTa+J4pTk10jU0HkSXPxM34cxpkLo4zgUDPxnVEUOLuJA0ReeMdPjiLG2c2cY6TLUzCAI8MR8/694wE/RJ/nBESw7gg5vpz75Hi4a/lmPARjKDgC3s4JPjiemMUUHd/hR4794XVN8MrxRNzy0SkZQJZRAlbAACnog04LtvCUFIwgRwsMKzhJnQKfxWkBOwK1JCZwxOq8OpsXfK4J3swLzo4b5hiofH6BrP3RLhoHUkaAEIzbgnduwYUteEwtZFTqb/vmFhzb8zhIFTJUG1n/8fMbwWUt8rL21/y7hforJxjXCPxYpGeB74BckL1I0II0QhpFGAVaMItHdDnyWXFKwE/hURh7sU8JEvYIiEzYcZzGL9fqgVEUaeTBlH0W7IS6cKyOTTzr9izKfujOmvTW8cBEcEbzZNCHBLuRjIWw1gRhQL8p3rQcU0gbfCgnr4cvHMAZTxOIIL/CmZPlIoJhrWkmRoHi/p4dnVqtAKFxrRUCfgD5w82Dg83YKQTPJ7XWeIRKHg2qsRNRRloWzLKUuSoo7YpKeDeBjRLICbghJ0it6ImkhICv6Lq+JSEwdEFCZggJIcjICIyl5TRv8zxQAiV4EAJ7McktZ+mCIl3SpIuqZFlv9zxQAiW4H0EqF5cSrIvlnJIQLOiCZVlB6S8OQbCWXmz3PFACJVA90wPpmZJmYl31TEqgBKpnEgK+LQSmzBDWtvUNuZ5pIc7bPA+UQAnuqWfak+uZMu3fMy0JwZqMgKueSQn+EYFsyyO+nUuG7HJelxDEZQsK3xCCtMw5iJuJjGp5lEAJ7qXlMXMyAl5refZkC4op2zMtyZyDnOi5DNXyKIES3INgcc1gkv3CdlxCkNQFW7ICU2YIpuxlIr6Xjrd7HiiBEtyPgMsJdld0c0GmZ6r9pppp856ptKEuEymBEtyHwFg39/73nimty14mSi6qnkkJlOCf6JmkKxJbFoJdGQHPravLRH9fwJN3T+WD5c1sHoBVjO1nWxf0YQeCnWrVQo2+yZbCO/p9wMnsUrw2ilTpPA+MDLYQ3xMCCs4ts7x0BDzvaDZ+KIJKhl2F6zt4Ntxc/GAQZYO52K1gpCnDk2B9Bl0kswg1MYrhKDbZzSQrmPIW9CLGbmOxioDnABx7NN1sIOo1iKdYZQQnmKbjZ1A1KIGJEVowhnNGwU8xTgpCSDOSTfRT8V3Y4bTAY9f4E2QZTRx+SvAY5cZYj8/mr3D2s2GokvuVw3YW/phz8bX+ShGdpOCg/rYLt+CXvW99ghBM27N47BZ8r7+SxzC1ku2FwD/NX+NjfXoWLN8kVYpQZDQ5esdztx+LtEBHn8diXqEFh3jseQMEihSCXV63YMjQS+G5RjNAHkLK8vV4CDqi2HbFue9jQaaClbtNsI9ol+bJS+R3b6uIviHNm+5e5HM3pwDCzX2z9sJyZ0OyDN+A1hzdL4Hs1dLGN/KIBLSmCUSBWMn4s+n7CBid0Fqga8wPWCfl/dXV2UIRQKjlf1E6pkeDaOCfIs4+5Xgx3d/fPxCY0BQ0vwHPu0gIqkZhFgAAAABJRU5ErkJggg==","Slider.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAYBAMAAAB+X3LOAAAAIVBMVEUAAACRk5aRkZSSk5OWlpaSkpL5+v+RkpW7vMC1tbmhoqXGrO6IAAAABnRSTlMAaFgoEQ5LYgUfAAAANElEQVQoz2PADpgFMYADAwNjOQYwAIl2oAGwaEUaGlg+3EXLZ6KBcgNcYcashAECGAYDAADj/n4pps+kzwAAAABJRU5ErkJggg==","TBFit.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAWlBMVEUAAAB4eHh4eHh4eHh2dnZ9fX14eHh4eHh4eHh4eHh4eHh4eHhwcHB4eHhwcHB4eHh4eHhycnJ4eHh3d3dxcXF4eHh3d3d3d3d3d3dubm5xcXF5eXl4eHhxcXE+JRc1AAAAHHRSTlMA9qd7GAewklkjEvLn28fArJqNbWZkUi9QOjlR6dZl8gAAAVBJREFUSMfFVtuWgyAMXC4V1LZar90t/P9vbozIulVq56l58sBMyCSQ+PURO422Vaq14+kddGFr4YKJ2hYH8FwGdOTI/JV3M6MulWwaWV1mikmeMpTTftbrZUH32XRgOezjFbsL6MgxE0XtpUbSRpbvyMpoQ24TNuFV+mi5syjuKXF3sXE2kBPCp+xB2/+UF2V0kYyqXGfXkN7XFSXlZpUIEpAsaIS4P4ic6AdmVpkqhBM6VOP2DLyFCmgCLSpsVKCv/pngrzqqsGGtdq7nj5+z3xL8+Zs/eufqEAaVhb103u8QyDo+nTIzhzfSfebwfYrgWQjd9nGRUHH4aQILqRYRLSWMw08bC6Hkt0vZm84fWtc4p2ACHBIsGk4rXDj0asCXD77e6ANCnihD0CYAtxm0kQGt8hFbJd6M8XZ/PFAcmUJHFjoUwbELDnbw1+ET9gtaEjv2MjNk4gAAAABJRU5ErkJggg==","TBNext.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAWlBMVEUAAAB4eHh4eHh1dXV4eHh5eXl3d3d4eHh0dHR4eHh7e3t0dHR4eHh4eHhxcXF4eHhxcXF4eHhycnJvb294eHh3d3dwcHB3d3d1dXV4eHh3d3d5eXl4eHhxcXGK2btVAAAAHHRSTlMA9pEkpgZ7sGxZGBOq8u/b2sC8lWRSRC8PfFBRuUo9rwAAAWBJREFUSMfFVll2gzAMxAvGZklKA4Ek9v2vWVEQslna6vUj8zXBM44lC4nsLcgHZ42xbsj/oh5dLfwCUbvxF7lCNXnUD/JKzqprq6XU7XW2yOpM3zfTetGV+KDsiukPm/5Y//jeDtXokZPFHKVGw0KhDsIqYEHvE6Zpoy3M5Dh4KJ7ZCZ5it1kPm5B+hxcsJ5FXzbqFzRA2TUgTZ1dCvAsN94wYASKXUSIgAIWyS8pI4ulnHdlD+KhihpBRpkbhRUmG8JkToxsEEVaiowhABrgRS6JwdKIuMQQbMUTnfT2zXHhfpoZwJ7aeCTIzn3CAes42houK2AKo9gFDaLcGSFDEZrQYhKWEkQESRGwtT4t1J/eGcCO23oRhG9hHYgfNTiv74rilwS4+dnlzXyDmKyoUtwmw2wy3kTFa5YtaZdqMH+dzQPPb/R7meKB4gOGOrH8PRYLS27GrFXOwMz8d3oEvPJs941PvdQ4AAAAASUVORK5CYII=","TBPause.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAS1BMVEUAAAB4eHh4eHh4eHh4eHh4eHh4eHh3d3d4eHh7e3t5eXmBgYF4eHh4eHh4eHh3d3d4eHh3d3d5eXl1dXV4eHh4eHh4eHhxcXF4eHj1iuhDAAAAF3RSTlMA+ad78rBZUSMYkgjArI1tZC8UD9valLlU9lYAAAEtSURBVEjHxJXbkoQgDERJuCiOd9fd/v8v3R01W9SMgnmaPFnQB+gQovlIPKYwWDuE6XFHvYSOcITrwlKQ10xAGsR1Rj43u3xtue+5XXekma/0lXvO+zHKQBw9AXDVud5uy4lamG1Te5YaBuDrE1seAL8n7Km311vzyaCrcubsyxCAF312ev5f4mcLk37LAdLsNoA3OcB4oEkSQaA6B4hEggW/Bsx3kqnlj44lIBJIKjGIgytAXITjswPGMjAC3VEUBMQyEAG3F8gErKYMmC9gEgvtHaAVEwPAdwAGBrn2/g7QA1YNqI+kNq1Oq/ritKWhLj51eWsfkPqJapuAus3oG5m+Veqbsb7dl38ovxODVyiUV1mISlEEUimKwCpFCqtdzIqdBbliJ7npQH8AADUuN1z9SxsaAAAAAElFTkSuQmCC","TBPlay.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAYFBMVEUAAAB4eHh4eHh4eHh6enp4eHh4eHh4eHiBgYF4eHh0dHR4eHh4eHh4eHh3d3d4eHh3d3d4eHh3d3dxcXFxcXFxcXFxcXFxcXFwcHBwcHBwcHBycnJzc3N0dHRxcXF4eHhzyzi7AAAAHnRSTlMA9ad7F69ZIwiPEJPbwG1kUlAv7+HQu6OMdFxGMR+YuEezAAABRUlEQVRIx8VW2baDIAyUXaQu9e6b/v9f3rGWggJtc/rQPHlgBpghJFZPiXrUnRCdHut70I1WbD4HU7q5ATfcoz2Hmytw6VbUoeXW8vawUqws4Qd2OkZ/AchenYaGPF4sc07uN10oImcNx4QyGVkKEzw1bMGL8tY8M8iOJXFHliw2YBHgiwxMb5TLsMT7b+FULLbDQe/5c5o+/jIMKLeREeAbT0B8pgkByGxih1wVEaaXr8RGFznVsOiA0xqv3/u0AchvrIMCEHy8/SQqdPjsEwJia1h/WbaGpzJH2Bom4cyqbEQ+VznCzjBk++gltCVCbFjrRXQwrEwIhsH8zl+7LROCYRbpQyaQj0QWTbaVfHHU1CAnHzm9qQ+I9kQBoRYBepmhFzJ6qaQXY3q5v91QZoR4uGV5gCU1RXrbTRs71w3x1+EZ8Q9bFUNUrCre7AAAAABJRU5ErkJggg==","TBPlayExtend.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAYFBMVEUAAAB4eHh4eHh4eHh6enp4eHh4eHh3d3d4eHh8fHx1dXVycnJ4eHh5eXl4eHh4eHh4eHh4eHh4eHh4eHh4eHhxcXFxcXFycnJvb292dnZ4eHhvb29vb29ycnJxcXF4eHh7Kc98AAAAHnRSTlMA9qd7F7CSUSMHbRD1WPLbwKyNZFrv2ryVMC8nRUR/XsosAAABT0lEQVRIx8VWV3bEIAxcinsvKXayzP1vGROw2WQBW1+rLz+YwdJISNxeYsXSlEKUzVJcQVfzwGCtHubqBJ5zhj/GeB6By9Sgup6PI+87Q0llCJ+1ej+ZDoCcEgagzfx44TtOppoifNJwAEnuCSsBwJ8F03gR/jX3LNZZMLj66bAMgAcf3JZtwJ/SOdA+ypECifdo9W0/EiB9EAJgud7e7B/h7euAwEnINd1PUO/V7oRTqmJgMkRQH4UJcwPtlTjrCIIE9XlEMdvVAZgiBGWkmoDBFgUDZIxgpJJAbbxbgO4WI1ipOmD9XWyAPkqwUvVAY7J5CKb8ZqXiQLmnfYwSrFQjIMgEskvkoMmyXkzc3SWOXhr04qOXN/0CnV9RBzlvAndPEyC0GXIjo7dKejOmt/vzgYLNBHVkUYciceyeD/baDfamuvR0WM3TYS1ur7AfgEVDcxHQFLwAAAAASUVORK5CYII=","TBPrev.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAXVBMVEUAAAB4eHh4eHh4eHiBgYF3d3d4eHh4eHh3d3d4eHh6enpvb294eHhxcXF4eHhxcXF4eHh4eHhvb293d3dxcXF4eHhycnJ3d3dzc3N6enp4eHhycnJxcXF4eHhxcXFnXdd7AAAAHXRSTlMA9qeRCHuwWVEjFhDy79vZwKyVbWtkRC8mGXy8u51RKiIAAAFZSURBVEjHxVbbVoQwDLQt5S6CiMjq9P8/07JQkh6KGl92nmbptKczGxKeHoJsLkZrx2LO/qJuikFhhxqK5hd5pRUiKF39IK/Npup6bYzuu22Lqa/0Zbuu59MSHixTrgC0ZVp/Sx1Xm3WLTUWj/UJeJWzlfkGfA9P8oBh23ZF4qMpLc+p0WAkgrU8v1218xBuxI5CWx2G8X/bz3Z2Yd25YEN4Ay+fj2REjCUiio+3Ni3PE2CX0oVBQdMHs0zlH7LDpRaESi8jBq/PgjFwUOx2AiWJxKxgLmIBhv4MCForlDsYCFkBtBTIDHQvoDsYOdMAcLPQU0AbGDvTBxAhoCmgDsag8x1B3JgQUQCwqB/uvDfxKX0FGLL6S3LQ8VvkfJy8NefFReVNUxKLylr5AgleUJOImIG8z8kYmb5XUjG/Xc0DL2/0ZNj1Q4GGlI0s6FIVjVzjYhZ8Oj8A3c5hAJhDkPcoAAAAASUVORK5CYII=","TBZoomIn.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAACWUlEQVRYw+VYwU7CQBAtN2960BA8gnf8FMSDiEfxiDEx7CyLB3+ARMBfgJoICX4Bfod8BSZyKAccZltoS9ttS0tM7CZNWbpvdmffvJ2ppv2T6/mgcQ4Vdg8CBN4rjfPng4SgH47YDYxgDktX+4EhVOFwJ3B+xt7A2IK2N4O98bNY4M0T6MLCBvUFEzaANrTxPsFfNiO80zyJCM/KMDOHz2HMbkXO/YbI8RqM166bsXJ49Aw8WXODrsgGvSqyvGc5kbW0TCi+oAsk/JjnQ+1UHlciR/TV3MpY8CHnY41qWSYUo8wXf1gpKilYCYkrJxaw2Etz9qVYpL4wR5f9ifkdPIeHpWx+/5vkmPmQFnlPW+vvRZUB5B9tN+94Ri2FlRHEHKUBrVEglIVHdKMorGz3AnVJaQD98Ep+0LckjcJlHhxWYQyILEW34ZJBVEzpf21XA+jsD8KqOhc2Iv7cJmKgRgaGDnmQorUtaXEMiJwMVpts4GlFgqw8fEIZQH9MCa+46ahQxyQpA/yTGHm12eJ72oGBF1jY5liBThOubzoEdbQTM9AmPLE/A+m7KO1NTp2myQYaO90KtNSlYg9il7pcp37gJHxkGo3C/g99SltmqaYtlFOnmXjtljoivDp1JC/2zTT2KUryu074+8pRKBv9aOk7MidC+u5Mxg3eUxUgyHur0BIR1mwvofgHr3mVUHCHohCrhDJJyzuOInCKKq+vikDQ8WlqLwLh5fE4ZhmLkIoyFnTPqA1/wSGW20NJQVch/s6vdyzEHdwq8iuorz4lQB2fiol9Svjz1y+we1CD3hl6FwAAAABJRU5ErkJggg==","TBZoomOut.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAACSklEQVRYw+VYwU7CQBCFGzc9SAgehTt+CuJB1CN4hJgYdpaFgz9AIuIv1JoICXwBfod8BSZwKAccpi20FGi33RITt0nTbrpvdmffvJ1pIvFP2nOqcQllVgcBAu/lxuVzShH04ym7hwHMYbl1zaAPd3ASCZzn2QcYHmjnZbAPng8F3kzDKywcUN8wZu/QgQ7ex/jmMMK7zbQkPCvB1Bo+hyGriOz2FyLLqzBcu27KSsHRk9C25wavInPoU5HhPduJrJVIBuILusCEH/KLQDt1gSsxR2j+3Era8AHnY49q2SZ8RlkfzlhRlhSsiMQ1J3ZgsdfW7IuhSH1ljS7tJ+aP7xwONosc0z2kRd7T1kr43ss/2m7e3Rm1FFZGMObsa40coSx2RDeKwsp2L6p2wRv5QfdIGoXL/HBYBWkiQ9FtbMkgKqbpfwWNjwjrzr2wAfGnosRAlQz0XfJgipZX0kI5KWsGq0M28LQiQVZ1/sGE8AqbjjJ1jFUZ4F/EyJvNFtdpB95dvFrKXa4V6DTh2qZDUEdHmYEO4YnjGYjfRXFvcuw0VRto7NwTaLFLxRHELna5jv3AUXxkGo3c8Q99SlumsaYtlFPHmXhFSx0RfhZk/UnQrDS2LZP8rhN+zXcUyoYml74jcyTSd3cybvCeXwGCvLcLLSGxZmcJxUe8uquEggcUhVAllEVa3nUVgRNUeX1VBIKOTxNnEQgvT2chy1iE9CljQd8ZtRLBc4Lldt+k4FYh/slvIxbiLm4V+A3UVr8SoIZPBWW/Ev58+wWZNt3EgwcumAAAAABJRU5ErkJggg==","openhand.png":"data:image/png;base64,AAACAAEAICACAAgACAAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8="},gf={nw:["x1","y1"],n:["y1"],ne:["x2","y1"],e:["x2"],se:["x2","y2"],s:["y2"],sw:["x1","y2"],w:["x1"]};function vf(t,e){return!(!t||(!e.drag||e.drag.links)&&(!e.linkStyle||"horizontal"!==e.linkStyle.path&&"vertical"!==e.linkStyle.path)||"link"!==t.type)}function mf(t,e,n,r,i,o){var a,s;if(0!==i)return null;var l=t.overlays,u="node"===(null===(a=n)||void 0===a?void 0:a.type)&&n,c="link"===(null===(s=n)||void 0===s?void 0:s.type)&&n,d=t.controller.options(),f=d.handMode;return o&&f?null===e||n?"map":l.chooseDefaultDragger(e):n&&"resize"===r.type?"resize":c&&!vf(c,d)?c.id1===c.id2?null:"link":f&&(null===e||c)?"pan":u?"node":null===e||c?"marquee":l.chooseDefaultDragger(e)}function yf(t,e){var n=e.controller,r=n.setPointerMoved;t.down||(0,n.stopDrag)(!1),r(t)}function bf(t,e){var n=t.id,r=t.button,i=t.isPrimary,o=t.x,a=t.y,s=e.events,l=e.legacyEvents,u=e.model,c=e.overlays,d=e.controller,f=d.getActiveDragger,h=d.getFakeDragger,p=d.setFakeDragger,g=d.stopDrag;if(!f()||!t.dragging.started){var v=Of(t,e);s.fire("click",v),!v.defaultPrevented&&i&&((!v.id||!u.getByID(v.id))&&v.id||function(t,e,n){var r=e.selection,i=n.modifierKeys,o=i.consistentCtrl,a=i.shift,s=null===t,l=t&&r().has(t);(s&&r().getSelections().length>1||!l||o)&&r().set(t,o,a)}(v.id,u,v),n&&0===r&&c.doclick(n,o,a));var m=h();m&&t.validDownEvent&&!f()&&2!==t.button&&g(!1,m),p(null),"mouse"!==t.pointerType&&l.trigger("click",v.id,t.x,t.y,t.button,v.subItem.subId||null)}}function xf(t,e){var n,r=e.controller,i=r.combo,o=r.zoomIn,a=e.model,s=e.events,l=e.legacyEvents;if(!(0,r.getActiveDragger)()||!t.dragging.started){var u=t.x,c=t.y,d=t.button,f=Of(t,e),h=f.id,p=0===d,g=p&&l.trigger("dblclick",h,u,c,null!=(n=f.subItem.subId)?n:null);s.fire("double-click",f),!f.defaultPrevented&&!g&&p&&(null===h?o(!0):a.getByID(h)&&i.internalUse.dblclick(h))}}function wf(t,e,n){var r=e.x,i=e.y;if(!e.dragging.started)return{dx:0,dy:0};var o=t?t.viewToWorldX(r):r,a=t?t.viewToWorldY(i):i;return{dx:o-n.x,dy:a-n.y}}function Cf(t,e,n){var r=t.getByID(e);r&&(r._disableHitTesting=n,t.setDirty(e))}function Af(t){return Array.isArray(t)?N(t):w(t)&&Array.isArray(t.add)?N(t.add):{}}function _f(t,e,n){var r=e.id,i=e.dragging,o=i.startX,a=i.startY,s=t.model,l=t.legacyEvents,u=t.events,c=t.view,d=e,f=B(r),h="node",p=!1,g="move",v=!0,m=!1,y=new Set,b=!f||s.selection().has(f),x=l.trigger("dragstart",g,f,o,a,Z(r));if(x){if(!0===x)return null;var w=Af(x);Object.keys(w).forEach(function(t){return y.add(t)})}else n.alsoDrag&&(Array.isArray(n.alsoDrag)?n.alsoDrag.forEach(function(t){return y.add(t)}):y.add(n.alsoDrag));if(n.dragCombos&&(b||f)){var C=b?s.selection().getSelections():[f];(function(t,e){var n=t.topParentId,r=t.getByID,i=[];return e.forEach(function(t){var e,o=r(t);"node"===(null===(e=o)||void 0===e?void 0:e.type)&&o.parentId&&i.push(n(o.parentId))}),i})(s,C).forEach(function(t){y.add(t)})}if(b&&s.selection().forEach(function(t){var e;"node"===(null===(e=s.getByID(t))||void 0===e?void 0:e.type)&&y.add(t)}),f){var A=s.getByID(f);m=A&&!(!A.w||!A.h)}if(f)if(m){var _=y;(y=new Set).add(f),_.forEach(function(t){return y.add(t)})}else y.add(f);var M=[],E=[];y.forEach(function(t){var e=s.getAncestryIds(t,!0);(e=e.slice(0,e.length-1)).some(function(t){return y.has(t)})||M.push(t),E.push(t)});var k=new Map,S=[];M.forEach(function(t){s.findAllComboChildren(S,t)}),M.forEach(function(t){var e=s.getByID(t);k.set(e,{x:e.x,y:e.y})});var I={x:c.viewToWorldX(e.dragging.startX),y:c.viewToWorldY(e.dragging.startY)};function T(){s.moveAllNodesTo(k,0,0)}var L=!1,O=e.id;function R(t){S.forEach(function(e){Cf(s,e,t)}),M.forEach(function(e){Cf(s,e,t)})}return E.forEach(s.setDirty),{type:h,rebuild:{positions:!0},scrollable:!0,setLastProps:function(t){d=t},getLastProps:function(){return d},direction:n,getDragIds:function(){return E},getCursor:function(){return"move"},dragMove:function(t){if(!p){L||(R(!0),L=!0,u.privateFire("redraw",{all:!0})),d=t;var e=wf(c,t,I);n&&(n.horizontalMovement||(e.dx=0),n.verticalMovement||(e.dy=0)),s.moveAllNodesTo(k,e.dx,e.dy),v&&!m&&f&&s.setDirty(f),s.drawInTransientLayer(M)}},afterDraw:function(e){v=!1;var n=e(d.x,d.y);return d.id=n,O=Vf(h,M,d,O,u,l,t)},getLegacyDragStartRequest:function(){if(x&&"object"==typeof x)return x},endDrag:function(t){if(!p){p=!0;var e=d.x,n=d.y,i=d.dragging.started;if(c.cancelScroll(),l.trigger("dragend",g,B(r),e,n)||t)T();else if(i){var o=function(t){return t.map(function(t){var e=s.getByID(t);return{id:e.id,x:e.x,y:e.y}})}(M);T(),l.trigger("prechange","move"),u.fire("prechange",{type:"move"}),s.setProperties(o,!1,{all:!0},!1)}R(!1),y.forEach(s.setDirty),l.trigger("dragcomplete",g,B(r),e,n)}}}}function Mf(t,e){var r=t.legacyEvents,i=t.events,o=t.view,a=t.model,s=e.dragging,l=s.startX,u=s.startY,c="area",d=t.controller.options(),f=e,h=!1;if(r.trigger("dragstart",c,null,l,u,null))return null;var p=new Set;a.selection().forEach(function(t){p.add(t)});var g=ie.midgrey,v=ie.blue,m={id:null,type:le.rect,x1:l,y1:u,x2:l,y2:u,borderColour:g,borderWidth:1,fillColour:v,isFilled:!1,webglBorderColour:Se(g),webglFillColour:Se(v)},y={x1:0,y1:0,x2:0,y2:0};function b(t,e){m.x1=Math.min(l,t),m.y1=Math.min(u,e),m.x2=Math.max(l,t),m.y2=Math.max(u,e),y.x1=o.viewToWorldX(m.x1),y.y1=o.viewToWorldY(m.y1),y.x2=o.viewToWorldX(m.x2),y.y2=o.viewToWorldY(m.y2)}function x(t,e){var n=!1;a.selection().forEach(function(r){e||t.has(r)||(a.selection().remove(r,!0),n=!0)}),t.forEach(function(t){a.selection().has(t)||(a.selection().add(t,!0),n=!0)}),n&&(i.privateFire("redraw",{all:!0}),i.fire("selection-change"))}return{type:"marquee",rebuild:{drawOnly:!0},scrollable:!0,setLastProps:function(t){f=t},getLastProps:function(){return f},getCursor:function(){return"crosshair"},generate:function(t){var e=t.getLayer(),n=t.getLayerPath();t.setLayerPath(null),t.setLayer(Yr.HANDLES),t.copyPrimitive(m),t.setLayerPath(n),t.setLayer(e)},dragMove:function(t){if(f=t,!h){var e=t.modifierKeys;!function(t,e,r){b(t,e);var i=d.marqueeLinkSelection,o=new Set,s=a.getShownNodes(),l=a.getShownLinks();n(s,function(t,e){Ye(y,t.x,t.y)&&o.add(e)}),"off"!==i&&n(l,function(t,e){if("centre"===i)Ye(y,t._x,t._y)&&o.add(e);else if("ends"===i){var n=s[t.id1],r=s[t.id2];Ye(y,n.x,n.y)&&Ye(y,r.x,r.y)&&o.add(e)}}),x(o,r)}(t.x,t.y,e.consistentCtrl||e.shift)}},endDrag:function(t){if(!h){h=!0,o.cancelScroll();var e=f.x,n=f.y;if(r.trigger("dragend",c,null,e,n)||t){var s=a.selection().hasChanged(p);a.selection().clear(!0),p.forEach(function(t){a.selection().add(t,!0)}),s&&i.fire("selection-change")}else r.trigger("selectionchange");r.trigger("dragcomplete",c,null,e,n)}}}}function Ef(t,e,n){var r,i,o=t.events,a=t.legacyEvents,s=t.view,l=e.dragging,u=l.startX,c=l.startY,d="hand",f=!1,h={horizontalMovement:!0,verticalMovement:!0},p=s.offsetX(),g=s.offsetY(),v=0,m=0,y=e,b=s.zoom(),x=a.trigger("dragstart",d,null,u,c,null);if(x){if(!w(x))return n(),null;var C=x;h.horizontalMovement=null!=(r=C.x)?r:h.horizontalMovement,h.verticalMovement=null!=(i=C.y)?i:h.verticalMovement}return{type:"pan",rebuild:{drawOnly:!0},direction:h,dragMove:function(t){f||(e.dragging.started&&(function(){var t=s.zoom();t!==b&&(p=s.offsetX(),g=s.offsetY(),u=y.x,c=y.y,b=t)}(),function(t,e){v=t-u,m=e-c,h&&(h.horizontalMovement||(v=0),h.verticalMovement||(m=0))}(t.x,t.y),s.offsetX(p+v),s.offsetY(g+m),o.fire("view-change"),a.trigger("viewchange")),y=t)},setLastProps:function(t){y=t},getLastProps:function(){return y},getCursor:function(){return"move"},endDrag:function(t){if(!f){f=!0;var e=y.x,n=y.y,r=y.dragging.started;a.trigger("dragend",d,null,e,n)||t?Math.abs(v)+Math.abs(m)>0&&(s.offsetX(p+0),s.offsetY(g+0),o.fire("view-change"),a.trigger("viewchange")):r||a.trigger("selectionchange"),a.trigger("dragcomplete",d,null,e,n)}}}}function kf(t,e){var n,r,i,o,a,s,l=e.events,u=e.model,c=e.overlays,d=e.controller,f=e.legacyEvents,h=t.id,p=t.button,g=B(h);if(!(g&&u.isTransferring(g)||t.pointers.length>1)){var v,m=d.getFakeDragger(),y={dragCombos:!0,alsoDrag:[],horizontalMovement:!0,verticalMovement:!0};if("create-link"!==(null===(n=d.getActiveDragger())||void 0===n?void 0:n.type)){var b=Of(t,e,{dragIds:null,setDragOptions:function(t){var e=un({},t);if(t.alsoDrag){var n=[];S(t.alsoDrag).forEach(function(t){var e;"node"===(null===(e=u.getByID(t))||void 0===e?void 0:e.type)&&n.push(t)}),e.alsoDrag=n}"marquee"!==e.type&&"node"!==e.type&&"pan"!==e.type||(v=e.type),y=T(e,y)},type:null});b.type=mf(e,h,u.getByID(g),b.subItem,p,d.inMapMode()),f.suppress(!0);var x=u.createDragger(e,d.getCanvasContext(),h,t,b.subItem,y,d.inMapMode());if(b.dragIds=(null===(r=x)||void 0===r?void 0:r.getDragIds)?cn(x.getDragIds()):[],f.suppress(!1),l.fire("drag-start",b),"create-link"!==(null===(i=d.getActiveDragger())||void 0===i?void 0:i.type)){var w=b.x,C=b.y,A=b.defaultPrevented,_=null;if(f.suppress(!0),v)_=function(t,e,n,r){var i=null,o=n.model;return"node"===e.type?i=_f(n,r,e):"marquee"===t?i=Mf(n,r):"pan"===t&&(i=Ef(n,r,o.selection().clear)),i}(v,y,e,t);else if(!A&&m){var M=m.getLegacyDragStartRequest&&m.getLegacyDragStartRequest();M&&(y={alsoDrag:Object.keys(Af(M)),dragCombos:(o=M.combos,null==o||o),horizontalMovement:(a=M.x,null==a||a),verticalMovement:(s=M.y,null==s||s)}),_=u.createDragger(e,d.getCanvasContext(),h,t,b.subItem,y,d.inMapMode())}h&&!_&&(_=c.createDragger(h,t)),_||(_=function(t,e){var n=t,r=e.view;return{type:null,rebuild:{drawOnly:!0},direction:{horizontalMovement:!0,verticalMovement:!0},dragMove:function(t){n=t},getCursor:function(){return"pointer"},setLastProps:function(t){n=t},getLastProps:function(){return n},endDrag:function(){r.cancelScroll()},getDragIds:function(){return[]},scrollable:!1}}(t,e)),d.setActiveDragger(_),d.updateCursor(_.getCursor(w,C)),f.suppress(!1),Pf(t,e)}else Pf(t,e)}}}function Sf(t,e){var n=e.controller,r=n.stopDrag,i=(0,n.getActiveDragger)();i&&i.setLastProps(t),r(!1)}function If(t,e){var n=e.events,r=e.view,i=e.controller,o=e.legacyEvents,a=t.x,s=t.y,l=t.deltaY,u=t.isNormalised,c=function(t){var e=!1;return{deltaX:t.deltaX,deltaY:t.deltaY,x:t.x,y:t.y,deltaMode:t.deltaMode,modifierKeys:t.modifierKeys,get defaultPrevented(){return e},preventDefault:function(){e=!0}}}(t);if(r){var d=o.trigger("mousewheel",-l,a,s);if(n.fire("wheel",c),c.defaultPrevented||d)i.isMapMode()&&t.wheelEvent.stopImmediatePropagation();else if(!i.isMapMode()){if(t.wheelEvent.preventDefault(),Math.abs(l)){var f=r.wheelToPosition(-l,a,s,u);u&&i.pushAnimation(f)}i.render({drawOnly:!0})}}}function Tf(t,e){var n=e.events,r=e.controller,i=e.model,o=e.legacyEvents,a=t.keyCode,s=t.modifierKeys,l=Rf(t);n.fire("key-down",l);var u=o.trigger("keydown",l.keyCode,s.ctrl,s.shift);if(l.defaultPrevented||u)t.keyboardEvent.preventDefault();else if(65===a&&s.consistentCtrl)i.selectAll(),r.render();else if(27!==a){if(i.hasSelection()){var c=0,d=0;switch(a){case 37:c=-20;break;case 38:d=-20;break;case 39:c=20;break;case 40:d=20}if(0!==c||0!==d)return o.trigger("prechange","move"),n.fire("prechange",{type:"move"}),i.moveSelection(c,d),void r.render();if(46===a){if(!o.trigger("delete")){o.trigger("prechange","delete"),n.fire("prechange",{type:"delete"});var f=i.selectionPlusDummyNodes();r.removeItem(f)}return void r.render()}113===a&&o.trigger("edit",i.doSelection())}}else r.stopDrag(!0)}function Lf(t,e){var n=e.events,r=Rf(t);n.fire("key-up",r)}function Of(t,e,n){void 0===n&&(n={});var r=t.id,i=t.button,o=t.pointerType,a=t.modifierKeys,s=t.pointerId,l=t.x,u=t.y,c=!1,d=e.model,f=B(r),h=Z(r),p={};if(d){var g=f&&d.getByID(f);!g&&r||g&&h&&(p=cf(g,h)||{})}return un({id:f,subItem:p,button:i,pointerType:o,pointerId:s,x:l,y:u,modifierKeys:a,get defaultPrevented(){return c},preventDefault:function(){c=!0}},n)}function Rf(t){var e=!1;return{keyCode:t.keyCode,modifierKeys:t.modifierKeys,get defaultPrevented(){return e},preventDefault:function(){e=!0}}}function Pf(t,e){var n=e.events,r=e.controller,i=r.getActiveDragger();if(i&&t.isPrimary){var o=t.x,a=t.y,s=i.getDragIds?i.getDragIds():[],l=function(l){var u,c=r.getActiveDragger();if(c){c.dragMove(l),t.id=null!=(u=t.lastDownId)?u:null;var d=Of(t,e,{dragIds:cn(s),type:i.type});n.fire("drag-move",d),r.updateCursor(c.getCursor(o,a))}};(function(t,e,n,r){var i=n.controller,o=n.view,a=i.options();if(e.scrollable&&function(t){return!(t.drag&&!t.drag.panAtBoundary||!t.dragPan)}(a)){var s=o.maybeScroll(t,e,r);if(s)return i.pushAnimation(s),!0}return!1})(t,i,e,l)||l(t)}}var Vf=function(t,e,n,r,i,o,a){var s=n.x,l=n.y,u=B(n.id);if(e[0]===u)return r;if(u!==r){var c=Of(n,a,{dragIds:cn(e),type:t});o.trigger("dragover",u,s,l,c.subItem.subId||null),i.fire("drag-over",c)}return u};function Ff(t,e,n,r){var i=t.model,o=t.events,s=t.legacyEvents,l=t.controller,u=t.view,c=i.getByID,d=i.moveNode,f=i.moveAllNodesTo,h=i.removeItem,p=n.dragging,g=p.startX,v=p.startY,m=n,y=!1,b=!1;if(s.trigger("dragstart","dummy",r,g,v,null))return null;var x,w=e.id2,C={x:u.viewToWorldX(g),y:u.viewToWorldY(v)},A=new Map,_=c(w),M=_.x,E=_.y;function k(){d(w,M,E)}A.set(_,{x:_.x,y:_.y});var S=[r];return{type:"create-link",rebuild:{all:!0},scrollable:!0,getDragIds:function(){return S},getCursor:function(){return"move"},dragMove:function(t){if(!y){b||(Cf(i,w,!0),Cf(i,e.id,!0),o.privateFire("redraw",{all:!0}),b=!0);var n=wf(u,t,C);m=t,f(A,n.dx,n.dy)}},afterDraw:function(e){var n=e(m.x,m.y);return m.id=n,x=Vf("create-link",S,m,x,o,s,t),n},getLastProps:function(){return m},setLastProps:function(t){m=t},endDrag:function(t){if(!y){y=!0;var n=m.x,r=m.y,i=B(m.id);u.cancelScroll();var d=s.trigger("dragend","dummy",i,n,r)||t;if(k(),s.trigger("prechange","move"),!d&&c(i)&&i!==e.id1){o.fire("prechange",{type:"move"});var f=a(e);f.id2=i,delete f.off,delete f._du,delete f._disableHitTesting,h([w,e.id]),l.merge([f])}else i=null;s.trigger("dragcomplete","dummy",i,n,r)}}}}function Df(t,e,n,r){var i=t.legacyEvents,o=n.dragging,a=o.startX,s=o.startY,l=!1,u="hand",c=B(e),d=n;return i.trigger("dragstart",u,c,a,s,Z(e)),{type:"map",rebuild:void 0,direction:{},dragMove:function(t){d=t},getCursor:function(){return"move"},setLastProps:function(t){d=t},getLastProps:function(){return d},endDrag:function(){if(!l){l=!0;var t=d.x,e=d.y;i.trigger("dragend",u,c,t,e),i.trigger("dragcomplete",u,c,t,e)}}}}function Bf(t,e,r,i,o,a){var s=t.legacyEvents,l=t.events,u=t.model,c=t.view,d=o.dragging,f=d.startX,h=d.startY,p=!1,g=o;if(s.trigger("dragstart","offset",a,f,h,Z(a)))return null;var v={},m={},y={};function b(t){var e=u.getByID(t);e&&"link"===e.type&&(v[t]=e.off||0,m[t]=e.off||0,y[t]=!0)}u.selection().has(i.id)?u.selection().forEach(b):b(i.id);var x=Object.keys(m);function w(t,n,r){var o=t===i,a=o?c.viewToWorldX(n):n,s=o?c.viewToWorldY(r):r,l=e(1,t),u=e(2,t),d=function(t,e,n,r,i,o){return((n-t)*(e-o)-(t-i)*(r-e))/Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}(l.x,l.y,u.x,u.y,a,s);y[t.id]&&Math.abs(d-v[t.id])>8&&(y[t.id]=!1),y[t.id]||(Math.abs(o?d:d+v[t.id])<12&&(d=o?0:-v[t.id]),m[t.id]=o?d:d+v[t.id])}return{type:"link",rebuild:{all:!0},scrollable:!0,setLastProps:function(t){g=t},getLastProps:function(){return g},getDragIds:function(){return x},getCursor:function(){return"move"},dragMove:function(t){if(!p){g=t;var r=t.x,o=t.y,a=c.viewToWorldX(r)-c.viewToWorldX(f),s=c.viewToWorldY(o)-c.viewToWorldY(h);n(m,function(t,n){var l=u.getByID(n);if(l)if(l===i)w(l,r,o);else{var c=e(1,l),d=e(2,l);w(l,(c.x+d.x)/2+a,(c.y+d.y)/2+s)}u.setLinkOffset(n,m[n])})}},endDrag:function(t){if(!p){var e=g.x,r=g.y;p=!0,c.cancelScroll();var i=s.trigger("dragend","offset",a,e,r)||t;if(u.getByID(a))if(i)n(m,function(t,e){u.setLinkOffset(e,v[e])});else if(g.dragging.started){var o=[];n(v,function(t,e){var n=u.getByID(e);o.push({id:e,off:n.off}),u.setLinkOffset(e,t)}),s.trigger("prechange","offset"),l.fire("prechange",{type:"offset"}),o.forEach(function(t){u.setLinkOffset(t.id,t.off)})}s.trigger("dragcomplete","offset",a,e,r)}}}}var Zf={w:!0,x:!0,y:!0,bw:!0,b1:!0,b2:!0},Gf={b1:!0,b2:!0,bw:!0,e:!0,fs:!0,h:!0,off:!0,w:!0,x:!0,y:!0},zf={bs:!0,ff:!0,id1:!0,id2:!0,id:!0,ls:!0,sh:!0,t:!0,u:!0},jf={b:!0,c2:!0,c:!0,fbc:!0,fc:!0},Yf={p:!0};function Nf(t,e,r,i,o){var s,l,u,c=!1,d=new Set,f=new Set,h=new Set,p=new Set,g={},v={},y=[];function b(){return{allDirty:!1,allLinksMoved:!1,allLinksDirty:!1,anyLinkDirty:!1,dirty:new Map}}var x,w=b(),C=1,A=null,_=Qd(t,e,r);function M(t){var e=w.dirty;e.delete(t),e.set(t,2),v[t]&&(w.anyLinkDirty=!0)}function E(){P(),s=null,u=null}var k,I=go({numbers:Gf,numOrString:Yf,negatives:{x:!0,y:!0,off:!0,lat:!0,lng:!0},strings:zf,stringValues:{ls:{solid:!0,dashed:!0,dotted:!0},bs:{solid:!0,dashed:!0}},colours:jf,booleans:{hi:!0,bg:!0,ci:!0,du:!0,fb:!0,a1:!0,a2:!0,re:!0,tc:!0,a:!0},reserved:{gh:!0},mapPos:{pos:!0},halos:["ha0","ha1","ha2","ha3","ha4","ha5","ha6","ha7","ha8","ha9"]},M,E,function(t){n(v,function(e){J(e,t)}),n(g,function(e){J(e,t)})});function L(){return A||(c?A={betweenness:function(){},clearCache:function(){},closeness:function(){},clusters:function(){return[[]]},components:function(){return[{nodes:[]}]},connections:function(){return[[]]},degrees:function(){return{}},distances:function(){return{}},eigenCentrality:function(){return{}},findAdjacency:function(){},internalMarkLinks:function(){},kCores:function(){return{}},neighbours:function(){return{nodes:[]}},pageRank:function(){return{}},privateGetLinkIdsBetween:function(){return[]},privateNeighbourLinks:function(){return[]},privateSetProperties:function(){},shortestPaths:function(){return{onePath:[],one:[],items:[],distance:0}}}:(A=ec(e,r)).privateSetProperties(g,v)),A}function R(t,e){var n=1===t?e.id1:e.id2,r=d.has(e.id)?it(n):g[n];return{x:r.x,y:r.y}}function P(){w.allDirty=!0,e.privateFire("redraw",{all:!0})}function V(t,e){M(e)}function F(t,e){void 0===e&&(e=!1);var n=w.dirty,r=n.get(t);(!r||e&&1===r)&&(e&&n.delete(t),n.set(t,1))}function D(t,e,n){G(t,function(t){t.x+=e,t.y+=n,F(t.id)})}function Z(t,e,n){var r=g[t];if(r){var i=e-r.x,o=n-r.y;r._combo?G([t],function(t){t.x+=i,t.y+=o,F(t.id)}):(r.x+=i,r.y+=o,F(r.id))}}function G(t,e){for(var n={},r=t.slice(0);r.length>0;){var i=r.shift(),o=g[i];if(o&&!n[i]&&(n[i]=!0,e(o),o._combo))for(var a=o._combo.nodeIds,s=0,l=a.length;s<l;s++)n[a[s]]||r.push(a[s])}}function j(){y=null}function N(t){Object.keys(t).forEach(function(e){y.push(t[e])})}function X(){return y||(y=[],N(v),N(g)),y}function J(t,e){t[e]&&xt(t.id)}function Q(t){return t&&!!t.parentId}function q(t,e,n){for(var r="x"===e||"y"===e?F:M,i=0;i<t.length;i++){var o=t[i],a=g[o],s=v[o];a?(a[e]=n,r(o)):s&&(s[e]=n,M(o))}}function $(t,e){return!!t[e]}function tt(t,e,r){var i,o=S(t);if(q(o,e,!1),I.ensureConsistency(e,g,v),r){var a={},s={};for(i=0;i<o.length;i++)a[o[i]]=!0;n(v,function(t){if($(t,e)&&!$(g[t.id1],e)&&!$(g[t.id2],e)&&(a[t.id1]||a[t.id2])){t[e]=!1;var n=t.parentId;n&&v[n]&&(s[n]=!0)}}),I.applyPropertyRuleToComboLinks(s,e,v)}}function et(t,e){q(S(t),e,!0),I.ensureConsistency(e,g,v)}function nt(){var t=[];return X().forEach(function(e){e._combo||t.push(a(e,"d"))}),t}function rt(t,e,r,i,o){var s,l,u,c,d,f=function(){l=B(t[s].id),c=[],l&&(e?(d=new RegExp(l,"im"),n(g,function(t,e){d.test(e)&&c.push(t)}),n(v,function(t,e){d.test(e)&&c.push(t)})):(g[l]&&c.push(g[l]),v[l]&&c.push(v[l])));var f=a(t[s]),h=function(){var t=!0,e=c[u];i||"node"!==e.type||void 0===f.x&&void 0===f.y||Z(e.id,void 0===f.x?e.x:f.x,void 0===f.y?e.y:f.y),n(f,function(n,i){if("id"!==i&&"type"!==i)switch(t&&"x"!==i&&"y"!==i&&(t=!1),i){case"id1":case"id2":if(n!==e[i])throw Error("You cannot change the ends of an existing link");break;case"parentId":case"hi":if("parentId"===i&&o&&n!=e[i])throw Error("You cannot manually change the parentId of an item");r.all=!0,r.hi=!0,e[i]=n;break;case"oc":var a=e;a.oc&&(r.all=!0,a.oc=K(a.oc,f.oc));break;default:fo[i]&&(e._noHalos=!1),Zf[i]?r.positions=!0:r.all=!0,e[i]=n}}),t?F(e.id):M(e.id)};for(u=0;u<c.length;u++)h()};for(s=0;s<t.length;s++)f()}function it(t){var e=g[t]||v[t];if(e&&!e.hi){if("link"===e.type&&Zt(t)&&ut(t))return e;var n=at(t);n.push(e);var r=null;return n.every(function(n){return null!==n&&(n.hi?(r=null,!1):n.id===t?(r=e,!1):!!n._combo&&(r=n,n._combo.open))}),r}return null}function ot(t,e){var n=t,r=[],i=0;do{e&&1===i&&n.indexOf("_combolink")>-1||r.unshift(n);var o=st(n);n=o&&o.parentId,i++}while(n);return r}function at(t){var e=ot(t,!1);return e.pop(),function(t){for(var e=S(t),n=[],r=0;r<e.length;r++){var i=st(e[r]);n.push(i=i||null)}return n}(e)}function st(t){var e=B(t);return g[e]||v[e]||null}function lt(t,e){return!st(t).parentId||at(t).every(function(t){return t._combo.open&&(!e||!t.hi)})}function ut(t){var e=v[t];if(e&&!e.hi){if(e.parentId){if(ct(e.parentId)){var n=it(e.id1);if(e.id1===e.id2&&n)return!0;var r=it(e.id2);return!(!n||!r||n.id===r.id)}return!1}return!0}return!1}function ct(t){return!st(t).parentId||at(t).every(function(t){return!t.hi})}function dt(){var t=new Set;ft(g,t),ft(v,t),o.forEach(function(e){e.isAsset||t.has(e.src)||o.delete(e.src)})}function ft(t,e){n(t,function(t){ht(t,e),function(t,e){t.forEach(function(t){t&&"string"!=typeof t&&t.g&&t.g.forEach(function(t){ht(t,e)})})}([t,t.t1,t.t2],e),t.bu&&ht(t.bu.g,e)})}function ht(t,e){if(t){var n=t.u;n&&(e.add(n),o.has(n)||o.get(n))}}function pt(){A&&A.clearCache()}function gt(){s||(function(){s={},l=0;for(var t=Object.keys(g),e=0,n=t.length;e<n;e++){var r=t[e],i=g[r];!i.hi&&lt(r,!0)&&(s[r]=i,l++)}}(),function(){u={};for(var t=Object.keys(v),e=0,n=t.length;e<n;e++){var r=t[e],i=v[r],o=!i.hi;o&&(o=Zt(r)?ut(r):lt(r,!0))&&(u[r]=i)}}())}function vt(){if(!w.allDirty){var t=w.dirty.size;t>100?t>=l?(w.allLinksMoved=!w.anyLinkDirty,w.allLinksDirty=w.anyLinkDirty):null!==u&&n(u,function(t,e){w.dirty.has(e)||(w.dirty.has(t.id1)||w.dirty.has(t.id2))&&w.dirty.set(e,1)}):L().internalMarkLinks(w.dirty)}}function mt(e){var n=t.privateGetItem(e);n&&(n._combo||n.parentId)&&t.privateSetAllItemsInComboDirty([t.privateGetTopItemId(n.id)])}function yt(t,n,r){var i=B(t),o=!t&&0===h.size,a=1===h.size&&h.has(t);if(!o){if(!n&&!r){if(a)return;Ct(!!i)}h.has(i)?n&&xt(i):bt(i),e.privateFire("redraw",{all:!0})}}function bt(t,n){void 0===n&&(n=!1);var i=B(t);i&&!h.has(i)&&function(t){return Et(t)&&!function(t,e){var n=!1;return g[t]&&(n=$(g[t],"gh")),v[t]&&(n=$(v[t],"gh")),n}(t)}(i)&&(mt(i),h.add(i),M(i),n||(r.trigger("selectionchange"),e.fire("selection-change")))}function xt(t,n){var i=B(t);h.delete(i)&&(mt(i),M(i),n||(r.trigger("selectionchange"),e.fire("selection-change")))}function wt(t){return!!h.size&&h.has(t)}function Ct(t){void 0===t&&(t=!1);var n=h.size;h.forEach(function(t){M(t),mt(t)}),h.clear(),t||(r.trigger("selectionchange"),n>0&&e.fire("selection-change"))}function At(t){n(t,function(t,e){bt(e,!0)})}function _t(t){return!!f.size&&f.has(t)}function Mt(t){return p.has(t)}function Et(t){return gt(),!(!s[t]&&!u[t])}function kt(){var t=[];return h.forEach(function(e){t.push(e)}),t}function St(t){if(t){Ct(!0);for(var n=0;n<t.length;n++)bt(t[n],!0);e.privateFire("redraw",{all:!0})}return kt()}function It(t){var n=ec(e,r);return n.privateSetProperties(g,t),n}function Tt(t){var e=T(t,{all:!1,self:!0,combos:"all"});return L().connections(e)}function Lt(t,e){var n=[],r={};if(Y(t)){var i=It(t).findAdjacency;n=Tt();for(var o=0;o<n.length;o++){var a=v[n[o][0]];i({all:!0,combos:"all"},a.id1,a.id2)&&(r[o]=!0)}}e(n,r)}function Ot(t){e.privateFire("redraw",{all:!0}),Lt(t,Dt),jt(z(t),!1,void 0,!1)}function Rt(t){for(var e={},n=0;n<t.length;n++){var r=t[n],i=v[r];i&&(e[r]=i)}return e}function Pt(){e.privateFire("redraw",{all:!0}),Dt(Tt({self:!1,combos:"toplevel"}))}function Vt(t,e,r,i,o){var a=i||function(t){return t};function s(t){var e=O(t.off)?t.off:1e6,n=a(t);return n.id1>n.id2&&(e=u(-e)),e}function l(t,e){return s(v[t])-s(v[e])}function u(t){return 0===t?0:t}n(e||t,function(e,n){var i=t[+n];if(r||(i=i.filter(function(t){return!v[t].gh})),i.length>0){i.sort(l);for(var s=a(v[i[0]]),c=s.id1===s.id2,d=i.length,f=c?20:40,h=c?0:-.5*f*(d-1),p=0;p<d;p++){var g=v[i[p]],m=a(g),y=h+p*f;o(g,u(y=m.id1<=m.id2?y:-y))}}})}function Ft(t,e){t.off=e,M(t.id)}function Dt(t,e){Vt(t,e,!0,null,Ft)}function Bt(t,e){var n={};t.forEach(function(t){(function(t){var e=v[t];return e&&!e._combo})(t)&&(n[t]=!d.has(t))}),d.forEach(function(t){void 0===n[t]&&Gt(t)});var r=[];t.forEach(function(t){if(n[t]){var e=st(t);null!==e&&(d.add(t),r.push(e),M(t))}}),e&&jt(r,void 0,void 0,!0),E()}function Zt(t){return!!d.size&&d.has(t)}function Gt(t){M(t),d.delete(t),wt(t)&&!lt(t,!1)&&xt(t,!0)}function zt(t,e,n){t.forEach(function(t){var r=it(t.id1),i=it(t.id2);if(null!==r&&null!==i&&r!==i){var o=r.id>i.id?r.id+i.id:i.id+r.id;void 0===e[o]&&(e[o]=[]),e[o].push(t.id),n[t.id]={id1:r.id,id2:i.id}}})}function jt(t,e,n,r){var i,o=void 0===n?Ft:n,a={},s={};if(zt(Yt.getRevealedLinks().map(st).filter(function(t){return!t.hi}),a,s),t){var l=[],u={};t.forEach(function(t){if("node"===t.type){var e=it(t.id);e&&(u[e.id]=!0)}else l.push(t)});var c={};zt(l,c,{}),i={};var d=!1;if(Object.keys(a).forEach(function(t,e){(void 0!==c[t]||function(t,e){if(s[t]){var n=void 0,r=s[t],i=ot(r.id1,!1);for(n=0;n<i.length;n++)if(e[i[n]])return!0;for(i=ot(r.id2,!1),n=0;n<i.length;n++)if(e[i[n]])return!0}return!1}(a[t][0],u))&&(i[e]=!0,d=!0)}),!d)return}if(r){var f=o;o=function(t,e){st(t.id1).parentId!==st(t.id2).parentId&&f(t,e)}}Vt(z(a),i,!!e,function(t){return void 0!==s[t.id]?s[t.id]:t},o)}var Yt={addItemsToTransfer:function(t){t.forEach(function(t){f.add(t)})},allParentsOpen:lt,allParentsVisible:ct,animated:function(){return i.animated()},applyRevealedLinkOffsets:jt,applyUpdatedOffsets:function(t){n(v,function(e,n){t[n]&&Yt.setLinkOffset(n,t[n].off)})},applyVertices:function(t){n(g,function(e,n){t[n]&&Z(n,t[n].x,t[n].y)})},arrange:function(n,i,o,a,s,l,u){var c=Lu(g,a,t.privateGetMaxLabelLength(),s);_.arrange(n,e,r,i,o,l,c,u)},bothEndsForeground:function(t){return!(g[t.id1].bg||g[t.id2].bg)},bothEndsShown:function(t){return!t.hi&&!(g[t.id1].hi||g[t.id2].hi)},clearExtraItemsInTransientLayer:function(){p.forEach(function(t){M(t),mt(t)}),p.clear()},contains:function(t){return i.contains(t,g).filter(function(t){return!Q(g[t])})},createDragger:function(t,e,n,r,i,o,a){var s,l,u=B(n),c=st(u),d="node"===(null===(s=c)||void 0===s?void 0:s.type)?c:null,f="link"===(null===(l=c)||void 0===l?void 0:l.type)?c:null,h=mf(t,n,c,i,r.button,!!a);if("map"===h)return Df(t,n,r);if(d&&"resize"===h)return function(t,e,n){var r,i,o=t.events,a=t.legacyEvents,s=t.view,l=t.model,u=l.getByID,c=l.setDirty,d=t.controller,f=d.combo,h=n.id,p=n.dragging,g=p.startX,v=p.startY,m=p.started,y=n.modifierKeys,b=(0,d.options)().combos,x=!1,w=n,C=B(h),A=u(C),_="circle"===A.sh,M=f.api.isOpen(C),E=null!=(r=M?A.oc.w:A.w)?r:0,k=null!=(i=M?A.oc.h:A.h)?i:0,S=E/2,I=k/2,T={x:A.x,y:A.y,w:E,h:k,x1:A.x-S,y1:A.y-I,x2:A.x+S,y2:A.y+I,ratioH:A.h/A.w,ratioW:A.w/A.h},L=y.shift,O=y.consistentCtrl||M;if(a.trigger("dragstart","resize",C,g,v,null))return null;var R=function(t){var e="1"===t[1];return{position:T[t[0]+(e?"2":"1")],direction:e?-1:1}},P=function(t,e){var n,r="x"===t?"w":"h",i="w"===r?"h":"w",o="x"===t?T.ratioH:T.ratioW;M?("circle"===(null===(n=b)||void 0===n?void 0:n.shape)&&(A.oc[i]=e),A.oc[r]=e):_?(A[r]=e,A[i]=e):(A[r]=e,L&&(A[i]=e*o))},V=function(t,e,n){var r,i=n[0],o=n[1],a=function(t,e){return O?2*Math.abs(t-e):"1"===o?"x"===i?function(t){var e=t,n=T.x+S;return A.x=(e+n)/2,n-e}(t):function(t){var e=t,n=T.y+I;return A.y=(e+n)/2,n-e}(t):"x"===i?function(t){var e=T.x-S,n=t;return A.x=(e+n)/2,n-e}(t):function(t){var e=T.y-I,n=t;return A.y=(e+n)/2,n-e}(t)};"x"===i?(r=a(t,T.x),P(i,r)):(r=a(e,T.y),P(i,r)),c(C)};return{type:"resize",rebuild:{all:!0},scrollable:!0,setLastProps:function(t){w=t},getLastProps:function(){return w},getCursor:function(){return"move"},dragMove:function(t){var n=t.y,r=t.modifierKeys,i=r.consistentCtrl,o=r.shift;if(m){var a=s.viewToWorldX(t.x),l=s.viewToWorldY(n);if(L=o,O=i||M,e.forEach(function(t){V(a,l,t)}),L&&!O){var u=A.w/2,c=A.h/2;if(2===e.length){var d=R(e[1]),f=d.position,h=d.direction;"x"===e[1][0]?A.x=f+u*h:A.y=f+c*h}var p=R(e[0]),g=p.position,v=p.direction;"x"===e[0][0]?A.x=g+u*v:A.y=g+c*v}M||(A.w=Math.abs(A.w),A.h=Math.abs(A.h))}},endDrag:function(t){var e,n,r,i;if(!x){x=!0,s.cancelScroll(),A=u(C);var l=w.x,d=w.y,h={x:A.x,y:A.y,w:A.w,h:A.h,oc:{w:(n=null===(e=A.oc)||void 0===e?void 0:e.w,null!=n?n:0),h:(i=null===(r=A.oc)||void 0===r?void 0:r.h,null!=i?i:0)}};M?(A.oc.w=T.w,A.oc.h=T.h):(A.w=T.w,A.h=T.h),A.x=T.x,A.y=T.y,a.trigger("dragend","resize",C,l,d)||t?c(C):(a.trigger("prechange","resize"),m&&(o.fire("prechange",{type:"resize"}),M?(A.oc.w=h.oc.w,A.oc.h=h.oc.h):(A.w=h.w,A.h=h.h),A.x=h.x,A.y=h.y,f.internalUse.afterComboResize(C))),a.trigger("dragcomplete","resize",C,l,d)}}}}(t,function(t){if(t.subId&&"resize"===t.type){var e=t.subId.split("-")[0];return gf[e]}return[]}(i),r);if(f){if("create-link"===h)return Ff(t,f,r,u);if("link"===h)return Bf(t,R,0,f,r,u)}return Yt.clearExtraItemsInTransientLayer(),"pan"===h?Ef(t,r,Ct):"node"===h?(gt(),_f(t,r,o)):"marquee"===h?Mf(t,r):null},defaultValueFor:function(t,e){switch(t){case"e":return 1;case"fs":return i.fontSize;case"off":case"b1":case"b2":return 0;case"x":case"y":return 0;case"w":case"h":return 1;case"bw":return 4;case"donut":var n=H({v:[]},I.donutDefaults);return e&&(e.b&&(n.b=Ee(e.b,0)),e.c&&Array.isArray(e.c)&&e.c.forEach(function(t,e){n.c[e]=Ee(t,0)})),n;case"ha0":case"ha1":case"ha2":case"ha3":case"ha4":case"ha5":case"ha6":case"ha7":case"ha8":case"ha9":return{c:e&&e.c?Ee(e.c,0):"rgba(0, 0, 0, 0)",r:0,w:0};case"fi":return{c:"black",t:""};case"oc":return lo;case"c":case"b":return ie.midgrey;case"fc":return ie.black;case"fbc":return ie.textback;default:return}},destroy:function(){c=!0,pt(),w.dirty.clear(),A=null,g={},v={},w=b(),_=null},doSelection:St,drawInTransientLayer:function(t){if(t&&t.length>0){t.forEach(function(t){p.has(t)||M(t)});var e=U(t);p.forEach(function(t){e.has(t)||M(t)}),p=e}},each:function(t,e){t.type.match(/^(node|all)$/)&&n(g,e),t.type.match(/^(link|all)$/)&&n(v,e)},ensureObject:I.ensureObject,ensureTypesInArray:I.ensureTypesInArray,extractStructure:function(t,e,n,r){return _.extractStructure(i,t,g,v,L,e.fixed,n,r,void 0,e.overrides)},firstVisibleItemInAncestry:it,generate:function(t,e,n,r,o){void 0===r&&(r=!1),void 0===o&&(o=!1);var a,l=n.getUnzoom(),c=l!==C;return c&&P(),(!!(w.allDirty||w.allLinksMoved||w.allLinksDirty)||!!w.dirty.size)&&(gt(),vt(),function(t){w.allDirty=!1,w.allLinksMoved=!1,w.allLinksDirty=!1,w.anyLinkDirty=!1,w.dirty.clear(),t.forEach(V)}((a=i.generate(s,u,w,t,e,n,wt,d,Mt,_t,r,o)).stillDirty),C=l),i.generateHandles(t,e,n,h),i.animated()||a&&a.rebuildAll||c},findAllComboChildren:function t(e,n){var r=g[n]||v[n];r._combo&&("node"===r.type&&r._combo.nodeIds.forEach(function(n){g[n]._combo&&t(e,n),e.push(n)}),r._combo.linkIds.forEach(function(t){e.push(t)}))},getAlwaysRedraw:function(){return i.getAlwaysRedraw()},getAncestryIds:ot,getByID:st,getItem:function(t){return a(st(t),"d")},getParentItems:at,getRawItems:X,getRevealedLinks:function(){var t=[];return d.forEach(function(e){t.push(e)}),t},getShownNodes:function(){return gt(),s},getShownLinks:function(){return gt(),u},ghost:function(t){et(t,"gh")},graph:L,hasSelection:function(){return 0!==h.size},hidden:function(){return function(t){var e=[];return n(g,function(t,n){t.hi&&e.push(n)}),n(v,function(t,n){t.hi&&e.push(n)}),e}()},hide:function(t){et(t,"hi"),pt()},isItemShown:Et,isRevealedLink:Zt,isSelected:wt,isTransferring:_t,labelPosition:function(t,e,n){var r=st(t);if(!r||r.hi)return null;var i=r._edit,o=n.getAnchorPosition(t,0);if(!i||i.hib)return null;var a=i.y1+o.y,s=i.x2+o.x,l=i.y2+o.y;return{x1:e.x(i.x1+o.x),y1:e.y(a),x2:e.x(s),y2:e.y(l),fs:e.worldToViewDistance(i.fs)}},layout:function(e,n,r,i,o,a){var s=Lu(g,r,t.privateGetMaxLabelLength(),i);_.layout(e,n,L,s,o,a)},load:function(t){if(t){g={},v={},Ct(!0),d.forEach(function(t){M(t),wt(t)&&!lt(t,!1)&&xt(t,!0)}),d.clear(),I.typeCheck(t,v);var e=I.filterNodesAndLinks(t.items,g,v,{selfLinks:x});v=e.links,g=e.nodes,Bt(S(t.reveal).map(function(t){return""+t}),!1),I.ensureHiddenItemConsistency(g,v),A=null,j(),function(){for(var t=Tt(),e={},n=0;n<t.length;n++){var r=!1,i=t[n];if(i.length>1){for(var o=0;o<i.length;o++){var a=v[i[o]];a&&(r=r||O(a.off))}r||(e[n]=!0)}}Dt(t,e)}(),P()}dt()},makeNodePositionAnimator:function(t,e,r){var i=e,o=[];n(g,function(e,n){t[n]&&o.push({id:n,from:{x:e.x,y:e.y},to:{x:t[n].x,y:t[n].y}})});var a=o.length;return yn(function(t){i-=t;for(var n=r(Math.max(0,(e-i)/e)),s=0;s<a;s++){var l=o[s],u=l.from,c=l.to;Z(l.id,u.x+n*(c.x-u.x),u.y+n*(c.y-u.y))}return i>0},{positions:!0})},merge:function(t){var e=a(t);I.ensureTypesInArray(e,!1,v);var r=I.filterNodesAndLinks(e,g,v,{carefulWithXandY:!0,selfLinks:x});n(r.nodes,function(t,e){g[e]=H(g[e],t),g[e]._noHalos=!1,M(e)}),n(r.links,function(t,e){v[e]=H(v[e],t),v[e]._noHalos=!1,M(e)}),I.ensureHiddenItemConsistency(g,v),pt(),j(),Ot(function(t){var e={};return n(t,function(t,n){var r=v[n];r&&void 0===r.off&&(e[n]=r)}),e}(r.links)),dt()},moveAllNodesBy:D,moveAllNodesTo:function(t,e,n){t.forEach(function(t,r){Z(r.id,t.x+e,t.y+n)})},moveNode:Z,moveSelection:function(t,e){var r=[];h.size&&(n(g,function(t,e){wt(e)&&!Q(t)&&r.push(e)}),n(v,function(t,e){wt(e)&&(g[t.id1].du&&r.push(t.id1),g[t.id2].du&&r.push(t.id2))}));for(var i=0;i<r.length;i++){var o=g[r[i]];Z(r[i],o.x+t,o.y+e)}},neighbourLinkIds:function(t){return L().privateNeighbourLinks(t)},privateGetLinksBetween:function(t,e){for(var n=L().privateGetLinkIdsBetween(t,e),r=[],i=n.length,o=0;o<i;o++)r.push(v[n[o]]);return r},privateSelection:function(){return h},removeFromTransientLayer:function(t){t.forEach(function(t){p.delete(t)&&M(t)})},removeItem:function(t){var e,r=S(t);if(r.length>0){for(var i={},o={},a=0;a<r.length;a++)v[e=r[a]]&&(i[e]=v[e]),g[e]&&(o[e]=!0);n(v,function(t,e){(o[t.id1]||o[t.id2])&&(i[e]=t)}),n(i,function(t,e){xt(e,!0),Gt(e),M(e),delete v[e]}),n(o,function(t,e){xt(e,!0),M(e),delete g[e]}),pt(),j(),Ot(i),E()}},removeItemsFromTransfer:function(t){t.forEach(function(t){f.delete(t)})},resetAllConnectionOffsets:Pt,resetConnectionOffsets:Ot,resurrect:function(t){tt(t,"gh",!0)},reveal:Bt,selectAll:function(){var t=h.size;At(g),At(v),e.privateFire("redraw",{all:!0}),r.trigger("selectionchange"),t!==h.size&&e.fire("selection-change")},selection:function(){return{add:bt,remove:xt,clear:Ct,set:yt,getSelections:kt,forEach:h.forEach.bind(h),has:h.has.bind(h),hasChanged:function(t){return!(0===t.size&&0===h.size||function(t,e){if(t.size!==e.size)return!1;var n=!1;return t.forEach(function(t){n=n||!e.has(t)}),!n}(t,h))}}},selectionPlusDummyNodes:function(){for(var t=St(),e=0;e<t.length;e++){var n=v[t[e]];n&&(g[n.id1].du&&t.push(n.id1),g[n.id2].du&&t.push(n.id2))}return t},serialize:function(){return{type:"LinkChart",items:nt()}},setAllDirty:P,setDirty:M,setItem:function(t){var e=a(t);I.ensureObject(e,!1,v);var n=null;if("node"===e.type&&(n=g),"link"===e.type){if(n=v,!I.hasValidEnds(e,{},g,x))return;(g[e.id1].hi||g[e.id2].hi)&&(e.hi=!0)}if(I.setZeroXY(e),e.id&&null!==n){var r=n[e.id];n[e.id]=e,r&&(r._combo&&(n[e.id]._combo=r._combo),r.parentId&&(n[e.id].parentId=r.parentId),r._offset&&(n[e.id]._offset=r._offset)),e.hi?I.ensureHiddenItemConsistency(g,v):E(),pt(),j(),M(e.id)}dt()},setLastHoverId:function(t){k=t},setLinkOffset:function(t,e){var n=v[t];n&&(n.off=e,M(t))},setOptions:function(t,e){x=!!t.selfLinks,i.setOptions(t,e)},setProperties:function(t,e,n,r,i){void 0===i&&(i=!1);var o=S(a(t));I.ensureTypesInArray(o,!1,v),rt(o,e,n,r,i),n.hi&&I.ensureHiddenItemConsistency(g,v),(n.graphCache||n.hi)&&pt(),dt()},setSelection:yt,show:function(t,e){tt(t,"hi",e),pt()},showFullLabelOnHover:function(t){k&&M(k),t?(M(t),i.setSpecialOptions("showFullLabel",t)):i.setSpecialOptions("showFullLabel",null)},showHideBendLinks:function(t){Ot(Rt(t))},showHideGetLinksToBend:function(t,e){var n=Rt(t),r=function(t,e){var n;return Lt(t,function(t,r){n=function(t,e,n){var r=[];return Vt(t,e,n,null,function(t,e){r.push({id:t.id,off:e})}),r}(t,r,e)}),n}(n,e),i=function(t,e){var n=[];return jt(z(t),e,function(t,e){n.push({id:t.id,off:e})},!1),n}(n,e);if(i.length>0){var o=W(i);r=r.filter(function(t){return void 0===o[t.id]}).concat(i)}for(var a=[],s=0;s<r.length;s++){var l=r[s];v[l.id].off!==l.off&&a.push(l)}return a},createNewLinkEndDragger:function(t,e,n){var r=B(e);return Ff(t,v[r],n,r)},topParentId:function(t){for(var e=t,n=st(e),r=n&&n.parentId;r;)(e=r)===(r=(n=st(e))?n.parentId:null)&&(r=null);return e},type:function(){return"LinkChart"},unsafeApplyChanges:function(t,e,n){var r,i,o;for(r=0;r<t.length;r++){i=(o=t[r]).id;var a=void 0!==o.x,s=void 0!==o.y;!a&&!s||n?o._combo&&m(o._combo.comboScale)&&D([i],0,0):Z(i,a?o.x:g[i].x,s?o.y:g[i].y),H(g[i]||v[i],t[r]),e?M(i):F(i)}},updateLinkStyles:function(t){t.straighten&&Pt()},validateCombos:function(){var t={};function e(e){var n=e.parentId;if(n){var r=g[n]||v[n];if(!r)throw new Error("The "+e.type+" '"+e.id+"' has parentId = '"+n+"' but the parent item is not present in the model.");if(!r._combo)throw new Error("The "+e.type+" '"+e.id+"' has parentId = '"+n+"' but the parent item has no _combo property.");t[n]=t[n]||{},t[n][e.id]=!0}}function r(e){if(e._combo){var r={};(e._combo.nodeIds||[]).concat(e._combo.linkIds).forEach(function(n){r[n]=!0;var i=g[n]||v[n];if(!i)throw new Error("The combo "+e.type+" '"+e.id+"' has a child item '"+n+"' in its _combo property, but this item is not present in the model.");if(!t[e.id][n])throw new Error("The combo "+e.type+" '"+e.id+"' has a child item '"+n+"' in its _combo property, but this item's parentId property is "+(i.parentId?"set to '"+i.parentId+"'":"undefined."))}),n(t[e.id],function(t,n){if(!r[n]){var i=g[n]||v[n];throw new Error("The "+i.type+" '"+i.id+"' has parentId set to '"+e.id+"' but is not included in the parent's _combo property.")}})}}n(g,e),n(v,e),n(g,r),n(v,r)}};return Yt}var Uf={backColour:!0,selectionColour:!0,selectionFontColour:!0,controlColour:!0};function Wf(t,r,i,o,s,l,u,c,d,f){var p,g,v,y,b,x,C=d,_=null,E=c,k=null,I=!1,L=!1,O={arrows:"normal",backColour:void 0,backgroundAlpha:.2,bands:{bands:[],bottom:!1,top:!0},combos:{shape:"circle"},controlColour:ie.midgrey,defaultStyles:void 0,drag:{links:!1,panAtBoundary:!0},dragPan:!0,fontFamily:"sans-serif",gradient:void 0,handMode:!1,hover:150,iconFontFamily:"sans-serif",imageAlignment:{},labelOffset:0,linkEnds:{spacing:"tight",avoidLabels:!0},_linkSelection:!0,linkStyle:{glyphs:"horizontal",transition:.75,inline:!1,path:"direct"},logo:void 0,marqueeLinkSelection:"centre",maxItemZoom:void 0,minZoom:.05,navigation:{shown:!0,p:"nw",x:0,y:0},overview:{icon:!0,p:"se",shown:!1,size:100},_rendering:{showTextAtlas:!1,showFontIconAtlas:!1,showImageAtlas:!1,canvasSkipItemsOutOfView:!0,disableFloatTexture:!1},selectedLink:void 0,selectedNode:void 0,selectionColour:void 0,selectionFontColour:void 0,selfLinks:!1,_showShadowCanvas:!1,zoom:{adaptiveStyling:!0},truncateLabels:void 0,watermark:{fb:!0},gestures:!0};y=l.resetControlColour(O.controlColour);var R={arrows:!0,combos:!0,fontFamily:!0,iconFontFamily:!0,imageAlignment:!0,labelOffset:!0,linkStyle:!0,linkEnds:!0,maxItemZoom:!0,selectedLink:!0,selectedNode:!0,selectionColour:!0,selectionFontColour:!0,truncateLabels:!0,_rendering:!0},P={controlColour:!0,navigation:!0,logo:!0,overview:!0,watermark:!0,fontFamily:!0},D=function(t){var e=Ur;t&&(e=K({},e,t));var n=jr(e,Xr),r="COMBO_";function i(t){return 0===t.indexOf(r)}function o(t){var e=n.createLayer(Yr.BG,t);Wr.forEach(function(t){return n.createLayer(t,e)});var r=n.createLayer(Yr.FG,t);Wr.forEach(function(t){return n.createLayer(t,r)})}function a(){n.setup(),n.createLayer(Yr.BANDS,null),n.createLayer(Yr.UNDERLAYS,null),o(n.createLayer(Yr.MAIN,null)),n.createLayer(Yr.COMBOS,null);var t=n.createLayer(Yr.TRANSIENT,null);o(n.createLayer(Yr.MAIN,t)),n.createLayer(Yr.COMBOS,t);var e=n.createLayer(Yr.REVEALED,null);o(n.createLayer(Yr.MAIN,e)),n.createLayer(Yr.COMBOS,e),[Yr.DRAGGERS,Yr.HANDLES,Yr.BANDLABELS,Yr.OVERLAYS,Yr.OVERLAYS_REQUIRED,Yr.OVERVIEW_IMAGE,Yr.OVERVIEW,Yr.OVERLAYSSHADOW,Yr.OVERVIEWSHADOW,Yr.WAIT].forEach(function(t){n.createLayer(t,null)})}return a(),un(un({},n),{createComboSegment:function(t){return r+t},createItemLayersAt:function(t){var e,r=[],a=null;t.forEach(function(t){r.push(t);var s=r;i(t)&&(s=s.concat([Yr.FG])),n.hasLayerPathAt(s)?e=n.getLayerAt(r):(e=n.createLayer(t,a),n.createLayer(Yr.COMBO_CONTAINER,e),o(e)),a=e})},destroy:function(){n.destroy(),n=null},hasPath:n.hasLayerPathAt,removeAllItems:a,setNodeAnchorPosition:function(t,e,r){n.setAnchorPosition(t.id,e,r,0,0),t._sx=e,t._sy=r},setShadowColourMap:function(t){n.setShadowColourMap(t),a()},startGeneratingFor:function(t,e,r){var i=n.useItem(t.id,e);i.hiddenByGenerator=!1,i.gh=!!t.gh,i.bg=r&&!!t.bg,i.isHitTested=!t._disableHitTesting}})}();t.__w=D;var Z=1,G=function(){var t,e={},n={};return O.defaultStyles&&(O.defaultStyles.comboLinks&&(e=O.defaultStyles.comboLinks),O.defaultStyles.openCombos&&(n=O.defaultStyles.openCombos),t=O.defaultStyles.comboGlyph),{comboLinks:e,openCombos:n,comboGlyph:t}},z=function(){return O.combos.shape},j=tf(t,s,r,i,G,E,z),U="Cambridge Intelligence",W=[47,6,-11,-58,-64,-52,-48,-59,-51,21,-22,-66,-66,-48,-58,-67];function X(t){return void 0!==t&&t!==St&&(St=t,t&&vt(function(){var t=0;return yn(function(e){return It=Math.floor(8*(1-(t+=e)%1200/1200)),St})}())),St}function J(){return null!==s&&s.api.isShown()}function Q(t,e){n(e,function(n,r){var i=t[r];if(w(i)&&w(n))Q(i,n);else if(function(t){return!(!jf[t]||!et[t])}(r))if(Array.isArray(i))for(var o=Math.max(n.length,i.length),a=0;a<o;a++){var s=n[a],l=i[a];!ge(s)&&s||(e[r][a]=ye(s||l),t[r][a]=ye(l||s))}else ge(n)&&(i=ge(i)?i:n,t[r]=ye(i),e[r]=ye(n))})}function q(t,e,n){if("number"==typeof t)return t+n*(e-t);if(Array.isArray(t)){var r=void 0,i=e;return Math.abs(t[0]-i[0])>.5?(r=t[0]<i[0]?q(1+t[0],i[0],n):q(t[0],1+i[0],n),r-=Math.floor(r)):r=q(t[0],i[0],n),be([r,q(t[1],i[1],n),q(t[2],i[2],n),q(t[3],i[3],n)])}return e}function $(t,e,r){var i={};return n(t,function(n,o){i[o]=o in e?et[o]?q(t[o],e[o],r):e[o]:n}),i}function tt(t,e,n){if(!w(e))return!1;var r=E.getByID(n);return null!==r&&w(r[t])}var et=N(co.concat(["b","b1","b2","bw","c","c2","donut","e","fbc","fc","fi","fs","h","n","oc","off","r","w","x","y","_combo","t1","t2","comboScale","v"])),nt={t1:!0,t2:!0},rt={};co.concat(["fi","oc","_combo","t1","t2"]).forEach(function(t){rt[t]=$}),rt.donut=function(t,e,r){var i,o,a={};return n(t,function(n,s){if(s in e)switch(s){case"c":var l=n;a[s]=e.c.map(function(t,e){return q(l[e],t,r)});break;case"v":if(a.v=[],t.v){var u=Math.max(t.v.length,e.v.length);for(i=0,o=u;i<o;i++)a.v[i]=q(t.v[i]||0,e.v[i]||0,r)}else for(i=0,o=e.v.length;i<o;i++)a.v[i]=0;break;default:a[s]=q(t[s],e[s],r)}else a[s]=n}),a};var it=Zf;function ot(t,e,n,r,i,o){Nt.setProperties(t,!1,!0,{}),Nt.animateProperties(e,{time:r,queue:!1,easing:"linear"},function(){i>1?ot(t,e,n,r,i-1,o):(Nt.setProperties(n,!1,!0,{}),M(o))},!0)}var at=null;function st(t){at=t,Vt()&&Bt()}var lt,ut,ct=function(t){},dt=function(){};function ft(t){r.privateFire("redraw",t||{all:!0})}var ht=bn(ft),pt=null,gt=bn(ft),vt=ht.push,mt=gt.push;function yt(t){return"number"==typeof t&&(Z=t,ft()),Z}var bt,xt=xn(ht,yt),wt=[8,4,12,-22,-9,5,1,12,-69,37,45,-13,-8,16,-11,8,0,8,9,-78,-67],Ct=[47,6,-11,-58,-64,-57,-48,-59,-51,19,-16,-66,-66,-48,-58,-67],At=null,_t=.5;function Mt(t){return 1-t}function Et(t){return t}function kt(t,e,n,r){var i=n;return yn(function(o){i-=o;var a=Math.max(0,Math.min(1,(n-i)/n));_t=e(a);var s=i>0;return s||(E.resurrect(t),_t=.5,M(r)),s},{all:!0})}var St=!1,It=3;function Tt(t,e){var n,r,i=Z,o=O.backColour,a=O.gradient,l="white";e&&(n=C.scale(C.width()),r=C.scale(C.height()),J()&&(i=1,l=s.internalUse.getDefaultBackgroundColour())),o?Je(t,o,i,n,r,e):a?Qe(t,a.stops,i,n,r,e):Je(t,l,i,n,r,e),Nt.isMapMode()&&!e&&s.internalUse.setBackgroundColour(o,a)}function Lt(t,e,n){D.resetExtras();var r=E.generate(D,g,C,e,!n.all&&!!n.positions);return D.startGeneratingForExtras(),function(t){if(!t&&at&&at.generate){var e=D.getLayerPath();D.setLayerPath(null),D.setLayer(Yr.DRAGGERS),at.generate(D),D.setLayerPath(e)}}(t),o.generate(D,g,C,at,t),function(){if(St&&C){D.setLayer(Yr.WAIT);var t=C.scale(C.width()/2),e=C.scale(C.height()/2),n=C.scale(30);D.rect(0,0,C.width(),C.height(),void 0,0,"rgba(255, 255, 255, 0.5)",!0,null,-1,void 0);for(var r=0;r<8;r++){var i=r*(Math.PI/4),o=t+n*Math.cos(i),a=e+n*Math.sin(i),s=.2+(r+It)%8/8*.8;D.circle(o,a,C.scale(10),ie.white,-1,"rgba(145, 146, 149, "+s+")",!0,null,-1,void 0,!1)}}}(),r}function Ot(t,e){if(Tt(g,!1),u){if(u.setAlpha(_t,O.backgroundAlpha),l.hasUpdatedImages()&&(t.all=!0,u.updateTextures(O._rendering.showImageAtlas)),u.build(D,t,O),e&&e.getPixels)return u.getPixels(C,p,O,!!b,D.getAnchorBuffer());u.draw(C,p,O,!!b,D.getAnchorBuffer(),t)}}function Rt(t,e){return k.test(t,e,D)}var Pt=!1;function Vt(t,e){return void 0!==t&&!!t!==Pt&&(Pt=!Pt,s&&s.internalUse.lock(Pt),t?(X((e||{}).wait),Bt()):X(!1),ft()),Pt}var Ft,Dt=null;function Bt(t){var e=null!=at?at:pt;if(e){var n=!!t,i=e.getLastProps();if(at){var o=at.getDragIds?at.getDragIds():[],a=Of(i,_,{dragIds:cn(o),type:at.type});n&&a.preventDefault(),r.fire("drag-end",a),n=n||a.defaultPrevented}at=null,e.endDrag(n,!!pt),pt=null,ft(),ct("auto"),ft({drawOnly:!0})}}function Zt(t){return function(e,n,r,i,o){if(l.isReady()&&E){var a=r;a=V(a)||0===a.length?void 0:S(a),J()?s.internalUse.zoom(t,e,n,a,void 0,i):(vt(C[t](E,D,g,e,n,a,i,o)||null),ft())}}}function Gt(t,e){var n,r=T(e,{fixed:[],overrides:null===(n=x)||void 0===n?void 0:n.vertices});return E.extractStructure(g,r,t,z())}var zt=!1;function jt(t){return function(e,n){zt=!1,x=e;var r=function(){x===e&&(x=void 0),M(t)};h(function(){L||function(t,e,n){if(e&&n){var r=Math.max(0,n.time||700),i="linear"===n.easing?wo:Co,o=e.extents;E.updateLinkStyles(n),e.updatedEdges&&E.applyUpdatedOffsets(e.updatedEdges);var a=e.extents;if(Array.isArray(n.fit)){var s={};n.fit.forEach(function(t){var n=t;if(!e.vertices[n]){var r=E.firstVisibleItemInAncestry(n);r&&e.vertices&&(n=r.id)}e.vertices[n]&&(s[n]=e.vertices[n])}),Y(s)&&(a=wu(s))}var l=E.makeNodePositionAnimator(e.vertices,r,i),u=C.fitWorldExtents(a,!0,!0,!0,!0,r,t,i);n.animate?(mt(l),n.fit?mt(u):o&&mt(function(t,e){var n=t;return yn(function(t){var r=(n-=t)<0;return r&&M(e),!r})}(r,t))):(E.applyVertices(e.vertices),ft(),o&&(n.fit?C.fitWorldExtents(a,!1,!0,!0,!0,0,t):t()))}else t()}(r,e,n)})}}var Yt=window[String.fromCharCode(68,97,116,101)][String.fromCharCode(110,111,119)]()/17510,Nt={afterDraw:function(){l.hasPendingImages()&&ft()},animate:function(t){var e=at,n=ht.animate(t,E);e&&e.rebuild&&r.privateFire("redraw",e.rebuild);var i=gt.animate(t);return n||i},animateBackgroundOpacity:xt,animateProperties:function(t,e,o,l,u,c){l||(i.trigger("prechange","properties"),r.fire("prechange",{type:"properties"}));var d=a(t);J()&&s.internalUse.convertPos(d);for(var f=[],h=[],p={},g=[],v=!1,m={},y=function(t){var e=d[t],r=null,i=null;n(e,function(t,n){!et[n]||nt[n]&&!tt(n,t,e.id)?"id"!==n&&((r=r||{id:e.id})[n]=t):F(t)?(r=r||{id:e.id})[n]=t:(p[n]=!0,(i=i||{id:e.id})[n]=t),it[n]?m.positions=!0:"id"!==n&&(m.all=!0)}),r&&h.push(r),i&&f.push(i)},b=0;b<d.length;b++)y(b);function x(t){n(t,function(e,n){void 0===e&&(t[n]=E.defaultValueFor(n))})}function w(t){t.forEach(function(t){var e=E.getByID(t.id);if(e){x(t),I.push(t);var n=C(t,e);S.push(n)}})}function C(t,e){var r={};return n(t,function(t,n){"id"!==n&&(r[n]="oc"===n&&e.oc?H(a(E.defaultValueFor(n,t)),a(e[n])):a(e[n]||E.defaultValueFor(n,t)))}),r}Object.keys(p).forEach(function(t){g.push({fn:rt[t]||q,prop:t}),"x"!==t&&"y"!==t&&(v=!0)});var A=e.time,_=wo;"cubic"===e.easing&&(_=Co);var k=A,S=[],I=[];E.setProperties(h,!1,m,!1,!0);var T=yn(function(t,e){e?(E.ensureTypesInArray(f,!0),w(f),function(t,e){for(var n=0;n<e.length;n++)Q(t[n],e[n])}(S,I)):k-=t;for(var n=0!==A?_(Math.max(0,Math.min(1,(A-k)/A))):1,i=k>0,a=[],s=0,l=I.length;s<l;s++){var d=I[s],h=S[s],p={id:d.id};e&&(p._noHalos=!1);for(var m=0,y=g.length;m<y;m++){var b=g[m],x=b.prop;void 0!==d[x]&&(p[x]=b.fn(h[x],d[x],n))}a.push(p)}return E.unsafeApplyChanges(a,v,u),c&&r.fire("view-change"),i||M(o),i},m);vt(T,e.queue)},appendCombos:function(t){t.combos=Nt.combo.internalUse.serialize(),t.reveal=Nt.combo.api.reveal()},arrange:function(t,e,n,r){if(E){var i=Gt(t);E.arrange(t,e,i,g,z(),n,jt(r))}},arrangeAndLayout:function(t,e,n){Nt.combo.internalUse.arrangeAndLayout(t,e,function(t){E.updateLinkStyles(e.layout),t&&E.applyUpdatedOffsets(t)},function(t){if(e.layout.fit){var n=C.fitWorldExtents(t,e.animate,!0,!0,!0,e.time);vt(n)}},n)},backgroundOpacity:yt,cancelAnimation:ht.cancel,cancelLayoutAnimation:gt.cancel,combo:j,updateCursor:function(t){ct&&ct(t||"auto")},deferHover:function(t){Dt&&clearTimeout(Dt),Dt=h(function(t){var e,n=t.x,o=t.y,a=t.id,s=(null===(e=t.subItem)||void 0===e?void 0:e.subId)||null,l=a;return l&&s&&(l+=s),function(){!at&&(null===a||a&&E.getByID(a))&&l!==Ft&&(Ft=l,function(t){O.truncateLabels&&O.truncateLabels.showOnHover&&(E.showFullLabelOnHover(t),ft())}(a),E.setLastHoverId(a),i.trigger("hover",a,n,o,s),r.fire("hover",t))}}(t),O.hover)},destroy:function(){L=!0,Nt.setContainer(null),D.destroy(),l.destroy(),D=null,Dt&&clearTimeout(Dt),g.webgl&&u.destroy()},draw:function(t,e){if(l.isReady()){if(92395202<Yt)return;Lt(t,!1,e)&&(e.all=!0),E.getAlwaysRedraw()&&ft({drawOnly:!0}),b&&(Sr(b),Tr(D,b,bt,C,O,!1,!1,o.drawOverviewContent,!1,O.backgroundAlpha,_t,!1,l)),g.webgl?Ot(e):function(t){Sr(g),Tt(g,t),Tr(D,g,bt,C,O,!1,!1,o.drawOverviewContent,t,O.backgroundAlpha,_t,!!b||void 0,l),l.hasUpdatedImages()&&l.imagesUpdated()}(t)}},drawBackground:Tt,drawoffscreen:function(){k.dirty()},fitToModel:Zt("fitToModel"),fitToSelection:Zt("fitToSelection"),fitExtents:function(t,e,n,r){l.isReady()&&E&&(J()?s.internalUse.zoom("fitToExtents",t,e,[],n,r):(vt(C.fitWorldExtents(n,t,!0,!0,!0,e,r)),ft()))},fitModelHeight:Zt("fitModelHeight"),getActiveDragger:function(){return at},getCanvasContext:function(){return g},getChartCanvas:function(){if(g)return g.webglCanvas?g.webglCanvas:g.canvas},getInternalChartOptions:function(){return O},getMapOverlayElement:function(){var t;return null===(t=b)||void 0===t?void 0:t.canvas},getMapApi:function(){return null!=s?s:void 0},getWebGLPixels:function(){if(g.webgl)return Ot({all:!0},{getPixels:!0});throw new Error("Not in WebGL mode")},getWidgets:function(){return D},handlePointerMove:function(t){var e;v&&_&&(t&&at&&at.afterDraw&&(e=at.afterDraw(Rt)),void 0===e&&(e=Rt(v.x,v.y)),v.id=e,function(t,e){var n=e.controller,r=n.options,i=n.updateCursor,o=n.deferHover,a=e.model.getByID,s=e.overlays,l=e.events,u=(0,n.getActiveDragger)();if(u&&"node"===u.type&&u.getDragIds&&t.lastDownId&&u.getDragIds().indexOf(B(t.lastDownId))>-1){var c=un(un({},t),{id:t.lastDownId});l.fire("pointer-move",Of(c,e))}else{var d=Of(t,e);l.fire("pointer-move",d);var f=d.id,h=null;if(f){var p=a(f);if(p){var g=vf(p,r());h="node"!==p.type&&g?g?"pointer":h:function(t,e){return function(t){return t.subId&&"resize"===t.type?t.subId:null}(e)||(t?'url("'+pf["openhand.png"]+'"), pointer':"auto")}(d.id,d.subItem)}else h=s.getCursor(f)}u||(i(h),o(d))}}(v,_),v=null)},hide:function(t,e,n){ft({all:!0}),e.animate?function(t,e,n){var r=e.time;if(0===t.length)M(n);else{_t=1,E.ghost(t);var i,o=E.showHideGetLinksToBend(t,!1);o.length>0?(r*=2/3,i=function(){Nt.animateProperties(o,{time:r/2,queue:!1,easing:"linear"},n,!0)}):i=n;var a=kt(t,Mt,r,function(){E.hide(t),M(i)});vt(a,!0)}}(t,e,n):(E.hide(t),E.showHideBendLinks(t),ft({all:!0}),M(n))},hittest:Rt,imageGenFn:function(t){return t&&(ut=t),ut},inMapMode:J,initOverlays:function(){o.setup(y);var t=O.watermark;function e(t,e){for(var n="",r=0;r<e.length;r++)n+=String.fromCharCode(t.charCodeAt(r)+e[r]);return n}t&&o.addTextWatermark(t.u?t.u:void 0,t.t,t.fs||80,t.fc||ie.lightgrey,t.fb,t.fbc,t.a,t.ff?t.ff:O.fontFamily),O.navigation&&O.navigation.shown&&o.addNavigation(Nt,C,O.navigation),O.overview&&o.addOverview(Nt,E,C,lt,O.overview),O.logo&&O.logo.u&&o.addLogo(O.logo),o.remove(e(U,wt),e(U,Ct),e(U,W)),o.addBanding(O),ft({drawOnly:!0})},itemExtents:function(t){return D.itemExtents(t,g)},isLayingOut:function(){return zt},isMapMode:function(){return!!b},labelPosition:function(t,e){return E.setDirty(t),Lt(!1,!0,{}),E.labelPosition(t,e,D)},layout:function(t,e,n){if(E){zt=!0;var r=e||{},i=Gt(t,r);E.layout(t,i,g,z(),r,jt(n))}},load:function(t,e){var n=a(t);Nt.combo.internalUse.preLoadUp(n,function(t){E.load(n),Nt.combo.internalUse.postLoadUp(n,t,function(){n.viewSettings&&Nt.setViewSettings(n.viewSettings,!1),!s||n.map&&n.map.keepSameMode?M(e):s.internalUse.loadUp(n.map,e)})})},lock:Vt,makeBackgroundCanvas:function(t,e){return At=lt(t,e,!0),bt=At.getContext("2d"),At},merge:function(e,n){i.trigger("prechange","merge"),r.fire("prechange",{type:"merge"});var o=a(e),l=Nt.combo.internalUse.preMerge(o,n),u=l.itemsToMerge;J()&&(u=s.internalUse.preMerge(u)),E.merge(u),t.privateSetNonImageProperties(l.propertiesToSet)},modelExtents:function(){return E.generate(D,g,C),D.itemExtents(null,g)},options:function(t,e,r){if(void 0===r&&(r=!J()),t){var i=!1,o=!1,u=!1,c=a(t),d=w;n(c,function(t,e){var r;if(!A(O[e],t)){if(Uf[e]&&!V(t)&&!ge(t))return;var a,c=null===(r=O[e])||void 0===r?void 0:r.path;if(O[e]=t,/fontfamily/i.test(e)&&(O[e]=$e(t)),"logo"===e&&("string"==typeof t&&(O[e]={p:"ne",u:void 0,x:0,y:0},O[e].u=t),t||(O[e]={p:"ne",u:void 0,x:0,y:0})),"navigation"===e&&(t?O[e]=d(t)?T(t,{shown:!0,p:"nw",x:0,y:0}):{shown:!0,p:"nw",x:0,y:0}:(O[e]={shown:!0,p:"nw",x:0,y:0},O[e].shown=!1)),"overview"===e)if(t)if(d(t)){if((a=un({},t)).backColour=ge(a.backColour)?a.backColour:void 0,a.borderColour=ge(a.borderColour)?a.borderColour:void 0,null!==a.size&&m(a.size)&&a.size>=0){var h=Math.min(C.width(),C.height())-1;a.size=Math.max(0,Math.min(h,a.size))}else a.size=void 0;O[e]=T(a,{icon:!0,p:"se",shown:!1,size:100})}else O[e]={icon:!0,p:"se",shown:!1,size:100};else O[e]={icon:!0,p:"se",shown:!1,size:100},O[e].icon=!1;if("watermark"===e&&d(t)&&((a=t).fc&&(O[e].fc=a.fc&&ge(a.fc)?a.fc:void 0),a.fbc&&(O[e].fbc=a.fbc&&ge(a.fbc)?a.fbc:void 0)),"bands"===e)if(t)if(w(t)){if(O[e]=T(t,{bands:[],bottom:!1,top:!0}),O[e].bands){O[e].bands=S(O[e].bands);for(var p=O[e].bands.length,v=0;v<p;v++)O[e].bands[v]=T(O[e].bands[v],{fb:!1,fc:"lightgrey",x:0,w:100})}}else O[e]={bands:[],bottom:!1,top:!0};else O[e]={bands:[],bottom:!1,top:!0};if("combos"===e)if(w(t)){O[e]=T(t,{shape:"circle"});var b=O[e].shape;b&&-1!==["circle","rectangle"].indexOf(b)||(O[e].shape="circle")}else O[e]={shape:"circle"};if("truncateLabels"===e&&(O[e]=t?w(t)?T(t,{maxLength:30,showOnHover:!0}):{maxLength:30,showOnHover:!0}:void 0),"selectedNode"!==e&&"selectedLink"!==e||!d(O[e])||E.ensureObject(O[e]),"_showShadowCanvas"===e&&I!==O._showShadowCanvas&&k.debugCanvas((I=O._showShadowCanvas)?g:null),"imageAlignment"===e&&f.updateAlignmentRecords(t),"controlColour"===e&&(y=l.resetControlColour(t||null)),"linkStyle"===e)if(t&&w(t)){O[e]=T(t,{glyphs:"horizontal",transition:.75,inline:!1,path:"direct"});var x=O[e],_=x.transition,M=x.path;(!m(_)||_<0||_>1)&&(O[e].transition=.75),M&&-1!==["direct","horizontal","vertical"].indexOf(M)||(O[e].path="direct"),O[e].path!==c&&(u=!0)}else O[e]={glyphs:"horizontal",transition:.75,inline:!1,path:"direct"};"defaultStyles"===e&&n(t,function(t,n){-1!==["openCombos","comboLinks","comboGlyph"].indexOf(n)?"comboGlyph"===n&&null===O[e][n]||(O[e][n]=d(t)?t:void 0,O[e][n]&&E.ensureObject(O[e][n])):O[e][n]=void 0}),"handMode"===e&&J()&&s.internalUse.setHandMode(O.handMode),"drag"===e&&(t?w(t)&&(O[e]=T(t,{links:!1,panAtBoundary:!0})):O[e]={links:!1,panAtBoundary:!0}),"_rendering"===e&&t&&w(t)&&(O[e]=T(t,{showTextAtlas:!1,showFontIconAtlas:!1,showImageAtlas:!1,canvasSkipItemsOutOfView:!0,disableFloatTexture:!1})),R[e]&&(o=!0),P[e]&&(i=!0)}}),E.setOptions(O,r),C.setMaxItemZoom(O.maxItemZoom),C.setMinZoom(O.minZoom),o&&(E.setAllDirty(),ft({all:!0})),i&&Nt.initOverlays(),u&&E.resetAllConnectionOffsets(),J()&&!Vt()&&s.internalUse.enableDragging(O.handMode),ft({drawOnly:!0}),l.invokeWhenImagesHaveLoaded(e)}return a(O,!0)},pan:function(t,e,n,r){J()?s.internalUse.pan(t,e,n,r):(vt(C.pan(t,e,n,r)),ft({drawOnly:!0}))},panBy:function(t,e,n,r,i){vt(C.panBy(t,e,n,!1,r,i)),ft({drawOnly:!0})},ping:function(t,e,n){function r(t,e,n,r){var i={id:e};i[n]=r,t.push(i)}for(var i=S(t),o=[],a=[],s=[],l={},u=0;u<i.length;u++){var c=i[u],d=E.firstVisibleItemInAncestry(c);if(d&&!l[d.id]){l[c=d.id]=!0;var f="link"===d.type,h=-1,p=void 0;do{p="_ha"+ ++h}while(h<5&&d[p]);if(h<5){var g=ye(e.c),v=be([g[0],g[1],g[2],.001]);r(o,c,p,{r:f?void 0:Math.max(28-e.w/2,0),w:0,c:e.c}),r(a,c,p,{r:f?void 0:e.r,w:f?e.lw:e.w,c:v}),r(s,c,p,null)}}}o.length>0?ot(o,a,s,e.time,e.repeat,n):M(n)},pushAnimation:vt,removeItem:function(t){Nt.combo.internalUse.preDelete(t)},render:ft,resetConnectionOffsets:function(){E&&E.resetAllConnectionOffsets()},setActiveDragger:st,setCanvasContext:function(t){g=t},setContainer:function(t){e(Nt.isMapMode()?s.api.leafletMap().getContainer():g.webglCanvas||g.canvas,t,dt)},setCreateCanvasFn:function(t){lt=t},setCursorFn:function(t){ct=t},setFakeDragger:function(t){pt=t},getFakeDragger:function(){return pt},setItem:function(e){var n=t.privateGetItem(e.id);if(!n||n.type===e.type){var r=Nt.combo.internalUse.preMerge([e]),i=r.itemsToMerge,o=i.shift();o&&J()&&s.internalUse.preSetItem(o),E.merge(i),o&&E.setItem(o),t.privateSetNonImageProperties(r.propertiesToSet)}},setServices:function(e){_=e,g&&g.webgl&&u.shutdownAndReset(),j=tf(t,s,r,i,G,E=_.model,z),E.setOptions(O,!J())},setOverlayContext:function(t){b=t},setOverviewView:function(t){p=t},setPointerMoved:function(t){v=t},setProperties:function(t,e,n,o){n||(i.trigger("prechange","properties"),r.fire("prechange",{type:"properties"})),J()&&s.internalUse.convertPos(t),E.setProperties(t,e,o,!1,!0)},setShadowCanvas:function(t){k=Lr(t,g,C,u),D.setShadowColourMap(k.getShadowColourMap()),E.setAllDirty()},setStartGameLoopFn:function(t){dt=t},setView:function(t){C=t},setViewSettings:function(t,e,n,r){vt(C.fromSettingsDirect(t,e,n,r))},setZoom:function(t,e,n,r){J()?s.internalUse.setZoom(t,e,n,r):(vt(C.setZoom(t,e,n,r)),ft({drawOnly:!0}))},show:function(t,e,n,r){ft({all:!0}),E.show(t,e),n.animate?function(t,e,n){var r=e.time;function i(){var e=kt(t,Et,r,n);vt(e,!0)}if(0===t.length)M(n);else{_t=0,E.ghost(t);var o=E.showHideGetLinksToBend(t,!0);o.length>0?Nt.animateProperties(o,{time:(r*=2/3)/2,queue:!1,easing:"linear"},i,!0):i()}}(t,n,r):(E.showHideBendLinks(t),ft({all:!0}),M(r))},createNewLinkEndDragger:function(t,e,n){if(E&&_){var r=n.dragging.startX,i=n.dragging.startY;if(st(E.createNewLinkEndDragger(_,t,n,e)),at&&t){var o=at.getCursor(r,i);ct(o)}}},stopDrag:Bt,wait:X,watermarkSize:function(){return o.getWatermarkSize(g)},zoomIn:function(t,e,n){J()?s.internalUse.zoom("in",t,e,void 0,void 0,n):(vt(C.zoomIn(t,e,n)),ft({drawOnly:!0}))},zoomOut:function(t,e,n){J()?s.internalUse.zoom("out",t,e,void 0,void 0,n):(vt(C.zoomOut(t,e,n)),ft({drawOnly:!0}))}};return Nt}var Xf=ie.ci,Hf=ve(Xf),Kf=Ae(Hf[0],Hf[1],Hf[2]);function Jf(t,e,n,r){var i=document.createElement("canvas"),o=i.getContext("2d");i.id="webglDebug"+r+"Canvas"+e,i.width=t,i.height=t;var a=document.getElementById(i.id);return n?a?a.parentNode.replaceChild(i,a):document.getElementsByTagName("body")[0].appendChild(i):a&&document.getElementsByTagName("body")[0].removeChild(a),o}var Qf="Image";function qf(t){return{alphaChannel:!0,img:t,rebuild:!1,size:0}}var $f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACwklEQVR4Ae2aA8xkQRCEz7Zt27Zt20ZwZny2bdu2bdu2uVdnb/6ufZqX6eQLd7qmKtvP/nTp0qVLly5d3mvh3dzgI/AIqWmQfnTwRKi9Ffg3MoTBRAB3QHgDtGcJdV+CxEb/C0KAc0QI43zULUhotnfSKHwEOUm9IOC0UG8vCEjpmTgKx0FgQqurUOctSCVQsHQUugh14oGXQo2eTj4rvAQJBBpLhf2PEv8yy0dhtR97lxX2fQ8y8WasHYXqfuh7Wdizj0oXSLdBOC89ewv7nQHBOAP2jcLo//RKDt4KT7G57TPPj8JHkP0fvTYJ+wxX+V7hGAj8S49awvWXQShnBMCPQsdva8OC28K1RZxjnh+FFyAeGC5cN9FNt80HwAfB7296PYuoNgoEZR3mmB8FgtnqP0HiuQci85tSfxRqiPRdNgpL1X+YyvMYxKT0XTIKjXhx9UdhvRveKQQAO8kAurghgE7AQ/IGpFfZfNpvJjw+cBaEUtF8UHDUoNPgVBUD6As8BlJXtfP/B4MDeAaSqGA+NLgIPCZwCAR1egDjBYYYhjnZfCnC0AtiTQEnmo9EPNcbAhoSAVwEIZ0WwAKhicMgyLe169QehYV36xBXeKl/WR8fPCfeLeRygvnY4LHP1/gL77YlrxKD22neP9jAvMY28Kapv23+iQPYB5DNS7/k4DXxajyLHeajgIfEuzz6sxgvHAQBrA5ghnCT10EYP/QNBA4RIbS00nwRYoOVBP0zEPcSD0FkK8wHBxeEm9tA6EwlQp5gun/iC453IBWhE5c4IH4E2cw0nwS8FW5qqA96A4h/wQEQwKwAlhOvs8L5oBcBPCZCaGCG+aLERpoboNuZ0L0BQhhpPhA4QVymBjLooHudCKG7kQG0IjZQxUD9RuQjtKhGiIcHD4Ti+4B/AwMICE4SIYz5b09dunTp0qVL1ydOC8gcEyAGqgAAAABJRU5ErkJggg==";function th(t,e,n){var r=function(){var t=0,e=new Map;return{destroy:function(){e.clear()},push:function(n){if(n&&x(n)){var r={id:t++,fn:n};e.set(r.id,r)}},runAll:function(){if(e.size>0){var t=[];e.forEach(function(e){t.push(e)}),t.forEach(function(t){e.delete(t.id)}),t.forEach(function(t){t.fn()})}}}}(),i=t||ah,o=i();o.src=$f;var a=eh("",o);a.isLoaded=!0;var s=new Map,l=new Set,u=!1,c=!1,d=function(){var t=Kf;return{colouriseImage:function(e){var n=document.createElement("canvas");n.width=e.width,n.height=e.height;var r=n.getContext("2d");r.clearRect(0,0,e.width,e.height),r.drawImage(e.im,0,0,e.width,e.height);for(var i=r.getImageData(0,0,e.width,e.height),o=i.data,a=0;a<o.length;a+=4){var s=Ae(o[a],o[a+1],o[a+2]);if(Math.abs(s[0]-Kf[0])<.02){var l=Me(t[0],t[1],s[2]);i.data[a]=l[0],i.data[a+1]=l[1],i.data[a+2]=l[2]}}return r.putImageData(i,0,0),n},setColour:function(e){var n=ve(e||Xf);return Me((t=Ae(n[0],n[1],n[2]))[0],t[1],Kf[2])}}}(),f=window["D"+9884..toString(30)][25871..toString(33)]()/24584;function h(t){return function(){if(w(t.src)){var e=function(t){var e=function(t){var e=void 0!==t.naturalWidth&&0===t.naturalWidth;return!rh(t.src)&&function(t,e){var n=e||"";return n.slice(Math.max(n.length-5,0))==="."+t}("svg",t.src)&&(e=e&&0===t.width),e?new Error("Invalid Image"):null}(t);if(e)return e;try{var n=document.createElement("canvas");n.getContext("2d").drawImage(t,0,0,1,1),n.toDataURL()}catch(t){return t}return null}(t.im);e?function(t,e){if(t.isCors)E(e,t);else{t.isCors=!0;var n=i();n.crossOrigin="anonymous",n.onload=h(t),n.onerror=p(t),t.im=n,k(t)}}(t,e):function(t){var e=t.im;l.add(t.src),t.isLoaded=!0,t.width=e.width,t.height=e.height,t.isHiRes&&(e.width/=2,e.height/=2),t.hasControlColour&&(t.co=d.colouriseImage(t)),t.hasCutout&&(t.ci=oh(t))}(t)}_()}}function p(t){return function(e){t.isHiRes?(t.isHiRes=!1,k(t)):E(e,t),_()}}function g(t,n,r){u=!0;var o=i(),a=eh(t,o,n&&(e||nh()),r);return s.set(t,a),o.onload=h(a),o.onerror=p(a),a.isSVG?v(a):k(a),a}function v(t){if("undefined"==typeof window||window.isJSDOM)k(t);else{var e=new XMLHttpRequest;e.open("GET",""+(n||"")+t.src),e.responseType="document",e.overrideMimeType("image/svg+xml"),e.onload=function(){if(e.readyState===e.DONE&&200===e.status){t.rawSvg=e.response.children[0];var n=new Blob([t.rawSvg.outerHTML],{type:"image/svg+xml"}),r=URL.createObjectURL(n);t.im.src=r}else k(t)},e.onerror=function(){k(t)},e.send()}}function m(t){var e=b(t);return e.isLoaded&&!e.ci&&(e.ci=oh(e)),e.hasCutout=!0,e}function y(t,e){var n=b(t,e,!0);return n.isLoaded&&!n.hasControlColour&&(n.co=d.colouriseImage(n),l.add(n.src)),n.hasControlColour=!0,n}function b(t,e,n){return s.get(t)||g(t,!!e,!!n)}function w(t){return s.has(t)}function C(){if(u){var t=0;s.forEach(function(e){e.isLoaded&&t++}),u=t!==s.size}return u}function A(t){Ve>43977679||(s.forEach(t),t(a))}function _(){C()||r.runAll()}function E(t,e){l.add(e.src),e.im=o,e.ci=o,e.co=o,e.isMissing=!0,e.isLoaded=!0,e.hasControlColour=!1,e.error=t,u=!0}function k(t){var e="",r=t.src;-1===r.indexOf("data:")&&(e+=n||""),e+=t.isHiRes?function(t){return t.substr(0,t.length-4)+"@2x.png"}(r):r,t.im.src=e}function S(t,e,n){if(rh(t))return t;var r=b(t);if(!r.isLoaded)return null;var i=e||r.im.width,o=n||r.im.height,a=i+"x"+o;if(r.uri[a])return r.uri[a];var s=ih(r.im,i,o);return s&&(r.uri[a]=s),s}return{createImageLookup:function(){return{getHTMLElement:function(t,e){var n=b(t);if(!n.isLoaded)return null;switch(e){case"co":return y(t).co;case"ci":return m(t).ci;default:return n.im}},getDataUri:S,getSVG:function(t){var e=b(t);return e.rawSvg?e.rawSvg:null}}},delete:function(t){var e=s.get(t),n=s.delete(t);return n&&e.isLoaded&&(c=!0,u=!0),n},destroy:function(){s.clear(),r.destroy()},forEach:A,get:b,getControlColourImage:y,getCutoutImage:m,getEmojiImage:function(t){var e=s.get(t);if(!e){var n=function(t){var e=document.createElement("canvas"),n=e.getContext("2d");e.width=128,e.height=128,n.fillStyle="black",n.font="105px sans-serif";var r=n.measureText(t).width;return e.width=Math.max(1,r*(128/105)),n.font="105px sans-serif",n.fillText(t,(e.width-r)/2,96),e}(t);e=eh(t,n,!1,!1),s.set(t,e),e.isLoaded=!0,e.width=n.width,e.height=n.height,e.isEmoji=!0,l.add(t)}return e},getMissingImage:function(){return a},has:w,hasPendingImages:C,hasUpdatedImages:function(){return!(!l.size&&!c)},imagesUpdated:function(){l.clear(),c=!1},invokeWhenImagesHaveLoaded:function(t){C()?r.push(t):M(t)},isReady:function(){try{if(f>65784054)return}catch(t){}return!0},resetControlColour:function(t){var e=d.setColour(t);return A(function(t){t.isLoaded&&t.hasControlColour&&(t.co=d.colouriseImage(t),l.add(t.src))}),e},resetUpdatedImages:function(){A(function(t){l.add(t.src)})},waitForImages:function t(e){C()?setTimeout(function(){t(e)},100):M(e)}}}function eh(t,e,n,r){return{src:t,im:e,co:null,ci:null,width:64,height:64,imageRatio:1,isLoaded:!1,hasControlColour:!1,hasCutout:!1,isCors:!1,isHiRes:!!n,isMissing:!1,isAsset:!!r,isEmoji:!1,isSVG:".svg"===t.slice(-4),uri:{}}}function nh(){return window.devicePixelRatio>=1.5}function rh(t){return"data:image/"===(t||"").slice(0,11)}function ih(t,e,n){var r=document.createElement("canvas");r.width=e,r.height=n;var i=r.getContext("2d");return i?(i.drawImage(t,0,0,e,n),r.toDataURL()):null}function oh(t){var e=t.im,n=Math.min(e.width,e.height),r=n<e.height?Math.floor((e.height-n)/2):0,i=n<e.width?Math.floor((e.width-n)/2):0,o=Math.floor(n/2),a=document.createElement("canvas");a.width=n,a.height=n;var s=a.getContext("2d");return s.save(),s.beginPath(),s.arc(o,o,o,0,2*Math.PI,!1),s.clip(),s.drawImage(e,i,r,n,n,0,0,n,n),s.restore(),a}function ah(){return document.createElement("img")}function sh(t){return"IMG"===t.tagName}function lh(t){return"CANVAS"===t.tagName}function uh(t,e,n,r,i){var o={minX:0,minY:0,tiles:new Map},a=t.getPane("mapPane"),s=ch(a.style.transform,{width:0,height:0,x:0,y:0,scale:1});(function(t,e,n,r){var i=[];dh(t,"leaflet-tile-container",function(t){var n=ch(t.style.transform,e),r=parseInt(t.parentElement.style.zIndex,10)||0;dh(t,"leaflet-tile",function(t){i.push({tile:t,zIndex:r,containerOffset:n})})}),i.sort(function(t,e){return t.zIndex-e.zIndex}),i.forEach(function(t,e){var i=t.tile,o=ch(i.style.transform,t.containerOffset);n.get(i.src),0===e?(r.minX=o.x,r.minY=o.y):(r.minX=Math.min(r.minX,o.x),r.minY=Math.min(r.minY,o.y)),r.tiles.set(i,un(un({},o),{width:i.width,height:i.height}))})})(a,s,r,o),function(t,e,n,r,i,o){var a=t.getPane("overlayPane"),s=[];dh(a,null,function(t){s.push(t)}),s.sort(function(t,e){return(0|+t.style.zIndex)-(0|+e.style.zIndex)}),s.forEach(function(t){var a=t===i,s=ch(t.style.transform,e);if(sh(t))n.get(t.src),r.tiles.set(t,un(un({},s),{width:t.width,height:t.height,scale:t.width/t.naturalWidth}));else if(lh(t)){if(!o&&a)return;t.style.width&&a&&(s.scale=fh(t.style.width)[0]/t.width),r.tiles.set(t,un(un({},s),{width:t.width,height:t.height}))}})}(t,s,r,o,e,n),r.waitForImages(function(){i(o)})}function ch(t,e){var n=K({},e),r=t.split(/translate(3d)?\(|\);?/);if(r[2]&&r[2].length){var i=fh(r[2]);n.x+=i[0]||0,n.y+=i[1]||0}return n}function dh(t,e,n){for(var r=e?t.getElementsByClassName(e):t.children,i=0;i<r.length;i++)n(r[i],i)}function fh(t){return t.match(/[-\d]+/g).map(Number)}function hh(t){"pan"!==t.type&&"slider"!==t.type&&"marquee"!==t.type&&"link"!==t.type&&"map"!==t.type&&t.preventDefault()}function ph(t){t.preventDefault()}var gh=!1;function vh(t,e,n){t.on(e,function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];t.off(e,r),n.apply(void 0,i)})}var mh=function(){function t(){this.eventsHandlers=new Map}return t.prototype.on=function(t,e){if("function"==typeof e){var n=this.eventsHandlers.get(t);n||(n=new Map,this.eventsHandlers.set(t,n)),n.set(e,e)}},t.prototype.off=function(t,e){if(t){var n=this.eventsHandlers.get(t);n&&(e?n.delete(e):n.clear())}else this.eventsHandlers.forEach(function(t){return t.clear()})},t.prototype.fire=function(t,e){var n=this.eventsHandlers.get(t);n&&n.forEach(function(t){t(e)})},t}(),yh=new Map;function bh(t,e){return"undefined"!=typeof navigator&&"MacIntel"===navigator.platform?e:t}function xh(t){t.preventDefault()}yh.set(0,-1),yh.set(1,0),yh.set(4,1),yh.set(2,2),yh.set(8,3),yh.set(16,4),yh.set(32,5);var wh,Ch=function(){function t(t,e){this.pointerEvents=["pointerdown","pointerup","pointermove","pointercancel","pointerout","pointerleave","pointerenter"],this.elementEventHandlers=new Map,this.globalEventHandlers=new Map,this.lastClickId=void 0,this.gestureStarted=!1,this.activePointers=new Map,this.element=t,this.hitTest=e,this.events=new mh,this.gestureState={centreX:0,centreY:0,translateX:0,translateY:0,pinchLength:0,scale:1,dx:0,dy:0},this.setup()}return t.prototype.onKeyEvent=function(t){var e=t.metaKey,n=t.ctrlKey;this.events.fire(t.type,{keyboardEvent:t,keyCode:t.keyCode,modifierKeys:{alt:t.altKey,meta:e,shift:t.shiftKey,ctrl:n,consistentCtrl:bh(n,e)}})},t.prototype.addEventListener=function(t,e,n){this.element.addEventListener(t,e,n),this.elementEventHandlers.set(t,e)},t.prototype.addGlobalEventListener=function(t,e,n){document.addEventListener(t,e,n),this.globalEventHandlers.set(t,e)},t.prototype.setup=function(){var t=this,e=this.element;e.style.touchAction="none",e.style.webkitTapHighlightColor="rgba(0,0,0,0)",this.pointerEvents.forEach(function(e){t.addEventListener(e,t.onPointerEvent.bind(t))}),this.addEventListener("contextmenu",xh),this.addEventListener("dblclick",xh),this.addEventListener("keydown",this.onKeyEvent.bind(this)),this.addEventListener("keyup",this.onKeyEvent.bind(this)),this.addEventListener("MSHoldVisual",xh),this.addGlobalEventListener("pointerup",this.onGlobalPointerEvent.bind(this)),this.addGlobalEventListener("pointermove",this.onGlobalPointerEvent.bind(this)),this.addEventListener("wheel",this.onWheelEvent.bind(this),{passive:!1})},t.prototype.onGlobalPointerEvent=function(t){var e=t,n=e.type,r=this.activePointers.size,i=this.activePointers.get(e.pointerId);if(i){if(i.pointerEvent===t||!i.down&&("pointermove"===n||"pointerup"===n))return;Ah(i,e,this.element,!0);var o=this.removePointerIfNeeded(i);o||this.startDraggingIfNeeded(i);var a=this.calculateGesture(this.activePointers,r),s=this.getTouches(),l=un(un({},i),{gesture:a,pointers:s});this.events.fire(n,l),a&&this.activePointers.size>=2&&r!==this.activePointers.size?(r>=2&&this.events.fire("gestureend",l),this.events.fire("gesturestart",l),this.gestureStarted=!0):a&&this.activePointers.size>=2&&this.events.fire("gesturechange",l),o&&i.dragging.started&&this.handleDragEnd(l,r)}},t.prototype.onPointerEvent=function(t){var e=t.pointerId,n=t.type,r=this.activePointers.size;"pointerdown"!==n&&t.preventDefault();var i=this.activePointers.get(e),o="pointerdown"===n;i&&!o?Ah(i,t,this.element,!1):i=function(t,e,n){var r,i=t.isPrimary,o=t.metaKey,a=t.shiftKey,s=t.ctrlKey,l=t.pointerType,u=t.pointerId,c=t.type,d=t.buttons,f=t.altKey,h=t.timeStamp,p=_h(e,t),g=p.x,v=p.y,m=null!=(r=yh.get(d))?r:-1,y="pointerdown"===c;return{button:m,id:null,pointerEvent:t,down:m>-1,dragging:{started:!1,startX:g,startY:v},isPrimary:i,modifierKeys:{alt:f,meta:o,shift:a,ctrl:s,consistentCtrl:bh(s,o)},pointerType:l,pointerId:u,timestamp:h,x:g,y:v,isGlobalEvent:!1,pointers:[],validDownEvent:y}}(t,this.element),this.addPointerIfNeeded(i),i.id=this.hitTest(i),i.validDownEvent&&o&&(i.lastDownId=i.id);var a=this.removePointerIfNeeded(i);a||this.startDraggingIfNeeded(i);var s=this.calculateGesture(this.activePointers,r),l=un(un({},i),{pointers:this.getTouches(),gesture:s});s&&this.handleGestures(s,l,r),this.firePointerEvent(l),a&&i.dragging.started&&this.handleDragEnd(l,r)},t.prototype.handleDragEnd=function(t,e){this.events.fire("dragend",t),this.activePointers.size<2&&e>1&&this.events.fire("gestureend",t)},t.prototype.firePointerEvent=function(t){"pointerdown"===t.pointerEvent.type?this.doPointerDown(t):"pointerup"===t.pointerEvent.type?this.doPointerUp(t):this.events.fire(t.pointerEvent.type,t)},t.prototype.handleGestures=function(t,e,n){var r=this.activePointers.size;t&&r>=2&&n!==r?(n>1&&this.events.fire("gestureend",e),this.events.fire("gesturestart",e),this.gestureStarted=!0):t&&r>1&&this.events.fire("gesturechange",e)},t.prototype.onWheelEvent=function(t){var e,n=t.deltaX,r=t.deltaY,i=t.deltaMode,o=t.metaKey,a=t.altKey,s=t.shiftKey,l=t.ctrlKey,u=t.offsetX,c=t.offsetY,d=t.button,f=Math.abs(r);if(this.normaliseWheelDelta=0,f>0){(100===f||120===f||i>0)&&(this.normaliseWheelDelta=60);var h=r>0?1:-1;e=this.normaliseWheelDelta>0?this.normaliseWheelDelta*h:Math.min(100,f)*h}else e=0;if(Math.abs(e)>0||Math.abs(n)>0){var p={button:d,deltaX:n,deltaY:e,deltaMode:i,modifierKeys:{alt:a,meta:o,shift:s,ctrl:l,consistentCtrl:bh(l,o)},isNormalised:this.normaliseWheelDelta>0,x:u,y:c,wheelEvent:t};this.events.fire("wheel",p)}},t.prototype.addPointerIfNeeded=function(t){var e=t.pointerEvent.type,n=t.pointerId,r=this.activePointers;r.forEach("touch"===t.pointerType?function(t,e){"touch"!==t.pointerType&&r.delete(e)}:function(t,e){t.pointerId!==n&&r.delete(e)}),"pointerdown"!==e&&"pointerenter"!==e||r.set(n,t)},t.prototype.removePointerIfNeeded=function(t){var e=t.pointerEvent.type;return("pointerup"===e||"pointercancel"===e)&&this.activePointers.delete(t.pointerId)},t.prototype.startDraggingIfNeeded=function(t){var e=t.dragging,n=t.x,r=t.y,i=e.startX,o=e.startY;if(t.validDownEvent)if(e.started)this.events.fire("dragmove",un(un({},t),{pointers:this.getTouches()}));else{var a="mouse"===t.pointerType?5:9;e.started=Q(n-i,r-o)>a,e.started&&(clearTimeout(this.contextMenuTimer),this.events.fire("dragstart",un(un({},t),{pointers:this.getTouches(),id:t.lastDownId||null})))}},t.prototype.getTouches=function(){var t=[];return this.activePointers.forEach(function(e){return t.push({id:e.pointerId,x:e.x,y:e.y,pointerType:e.pointerType})}),t},t.prototype.calculateGesture=function(t,e){var n;if(t.size>1){var r=void 0;e!==t.size?(this.gestureState={centreX:0,centreY:0,translateX:0,translateY:0,pinchLength:0,scale:1,dx:0,dy:0},this.extractGestureState(this.gestureState),r=this.gestureState):this.extractGestureState(r={centreX:0,centreY:0,translateX:0,translateY:0,pinchLength:0,scale:1,dx:0,dy:0});var i=this.gestureState,o=r.centreX,a=r.centreY,s=Math.round(o-i.centreX-i.translateX),l=Math.round(a-i.centreY-i.translateY);i.translateX+=s,i.translateY+=l,i.scale=(n={dx:s,dy:l,centreX:o,centreY:a,scale:r.pinchLength/i.pinchLength,translateX:i.translateX,translateY:i.translateY,pinchLength:r.pinchLength}).scale}return n},t.prototype.extractGestureState=function(t){var e=[];if(this.activePointers.forEach(function(t){e.push(t)}),e.length>1){var n=e[0],r=e[1];t.centreX=(n.x+r.x)/2,t.centreY=(n.y+r.y)/2,t.pinchLength=Math.max(1,J(n.x,n.y,r.x,r.y))}},t.prototype.on=function(t,e){this.events.on(t,e)},t.prototype.off=function(t,e){this.events.off(t,e)},t.prototype.destroy=function(){var t=this;this.elementEventHandlers.forEach(function(e,n){t.element.removeEventListener(n,e)}),this.globalEventHandlers.forEach(function(t,e){document.removeEventListener(e,t)})},t.prototype.fireContextMenuOnLongTouch=function(t){var e=this;clearTimeout(this.contextMenuTimer),this.contextMenuTimer=setTimeout(function(){e.events.fire("contextmenu",t)},1e3)},t.prototype.fireContextMenuForMouse=function(t){var e=t.button,n="MacIntel"===navigator.platform&&t.modifierKeys.ctrl&&0===e;(2===e||n)&&this.events.fire("contextmenu",t)},t.prototype.doPointerDown=function(t){var e=t.pointerType,n=t.button,r=t.timestamp;t.validDownEvent&&(this.events.fire("pointerdown",t),"mouse"===e?this.fireContextMenuForMouse(t):this.fireContextMenuOnLongTouch(t),this.prepareForDoubleClick(r,n))},t.prototype.prepareForDoubleClick=function(t,e){var n=this.doubleClickState;!n||t-n.firstEventTime>500||n.button!==e?(this.doubleClickState={firstEventTime:t,lastEventTime:t,button:e},this.lastClickId=void 0):n.lastEventTime=t},t.prototype.doPointerUp=function(t){var e=t.id,n=this.doubleClickState;if(clearTimeout(this.contextMenuTimer),this.events.fire("pointerup",t),t.lastDownId!==e||this.gestureStarted)this.doubleClickState=void 0,this.lastClickId=void 0;else{if(this.events.fire("click",t),n){var r=n.firstEventTime;r&&this.lastClickId===e?(n.lastEventTime-r<500&&this.events.fire("doubleclick",t),this.doubleClickState=void 0,this.lastClickId=void 0):void 0!==this.lastClickId&&(n.firstEventTime=n.lastEventTime)}this.lastClickId=e}0===this.activePointers.size&&(this.gestureStarted=!1)},t}();function Ah(t,e,n,r){var i,o=e.metaKey,a=e.shiftKey,s=e.ctrlKey,l=e.type,u=e.buttons,c=e.altKey,d=_h(n,e),f=d.x,h=d.y;t.isGlobalEvent=r,t.pointerEvent=e;var p="pointerdown"===l;"pointerup"!==l?(t.button=null!=(i=yh.get(u))?i:-1,t.down=t.button>-1,t.validDownEvent=(t.validDownEvent||p)&&t.down):t.down=!1,t.modifierKeys={alt:c,meta:o,shift:a,ctrl:s,consistentCtrl:bh(s,o)},t.x=f,t.y=h,t.timestamp=e.timeStamp;var g=t.dragging;t.validDownEvent&&void 0===g.startX&&(g.startX=f,g.startY=h)}function _h(t,e){var n=t.getBoundingClientRect();return{x:Math.round(e.clientX-n.left),y:Math.round(e.clientY-n.top)}}function Mh(t,e,r,i,o,s){var l,u,c,d,f,h,p,g,v,y,b,x,w,C,A,E,k,I=!1,T=!1,O={},P={watermark:!1,overview:!1,gestures:!1,handMode:!0},V=a(s),F=["doubleClickZoom","dragging","keyboard","scrollWheelZoom","touchZoom"],D=!1;function B(){return d}function Z(){p||(p=t.privateCanvasApi.privateGetElement(),C=function(t){if(!t)return-1;for(var e=0,n=t;n=n.previousSibling;)++e;return e}(p))}function G(){return"object"==typeof L&&L&&"Map"in L&&"version"in L}function j(){if(l){var e=t.lock()||!E;g.style.touchAction=e?"none":""}}function Y(t){i.setLeafletMap(l=t)}function N(e){l&&function(t,e,n,r,i,o){var a=e.controller.lock,s=!1,l=!0,u=!0;function c(t){l&&!a()&&(u=df(t,e),t.id&&t.pointerEvent.preventDefault())}function d(t){l&&!a()&&u&&bf(t,e)}function f(t){l&&!a()&&xf(t,e)}function h(t){u=!0,l&&!a()&&(ff(t,e),(n.doubleClickZoom.enabled()||gh)&&(!l||t.id&&"_"===t.id.charAt(0)&&"__dragger"!==t.id?(n.doubleClickZoom.disable(),gh=!0):(n.doubleClickZoom.enable(),gh=!1)))}function p(t){l&&!a()&&kf(t,e)}function g(t){l&&!a()&&Pf(t,e)}function v(t){l&&!a()&&Sf(t,e)}function m(t){yf(t,e)}function y(t){l&&!a()&&(t.isGlobalEvent&&n.getContainer().dispatchEvent(new PointerEvent("pointerup",t.pointerEvent)),hf(t,e))}function b(t){l&&!a()&&(t.keyCode<37||t.keyCode>40)&&Tf(t,e)}function x(t){l&&!a()&&(t.keyCode<37||t.keyCode>40)&&Lf(t,e)}function w(){var t=o();t&&(r?(t.on("pointerdown",h),t.on("pointermove",m),t.on("pointerup",y),t.on("contextmenu",c),t.on("click",d),t.on("doubleclick",f),t.on("dragstart",p),t.on("dragmove",g),t.on("dragend",v),t.on("keydown",b),t.on("keyup",x),t.on("wheel",function(t){If(t,e)}),t.on("pointercancel",function(){e.controller.stopDrag(!1)})):t.off())}function C(){var e=r?t.privateOn:t.privateOff;e("double-click",ph),e("drag-start",hh)}r?t._leafletEventHandlers||(C(),w(),t._leafletEventHandlers={contextmenu:function(){},move:function(){s||i()},zoomstart:function(){l=!1,s=!0},zoomend:function(){l=!0,s=!1}},n.on(t._leafletEventHandlers)):(n.off(t._leafletEventHandlers),t._leafletEventHandlers=null,C(),w())}(t,f,l,e,X,B)}function U(t){if(l){var e=t?"disable":"enable",n=t||!E?"disable":"enable";F.forEach(function(t){"dragging"===t?l.dragging[n]():l[t][e]()}),N(!t),j()}}function W(){var t=l.containerPointToLayerPoint([0,0]),e=new L.Point(Math.round(t.x),Math.round(t.y));L.DomUtil.setPosition(p,e),A.offsetX(-e.x),A.offsetY(-e.y)}function X(){W(),ht({drawOnly:!0})}function J(e){t.setProperties(tt(),!1,e)}function Q(){return new(L.Layer.extend({initialize:function(t,e){L.Util.setOptions(this,e)},setOptions:function(t){return L.Util.setOptions(this,t),this.redraw()},redraw:function(){return this._forceRedraw(),this},onAdd:function(){this.getPane().appendChild(p),l.on("zoomend",this._onZoomEnd,this),l.on("moveend",this._onMoveEnd,this),l.options.zoomAnimation&&l.on("zoomanim",this._animateZoom,this),l.on("zoom",this._zoom,this),d=new Ch(g,function(t){return"pointer-move"===t.pointerEvent.type?null:u.hittest(t.x,t.y)}),N(!0);var t=l.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(p,t)},onRemove:function(){l.off("zoomend",this._onZoomEnd,this),l.off("moveend",this._onMoveEnd,this),d.destroy(),N(!1),l.options.zoomAnimation&&l.off("zoomanim",this._animateZoom,this),l.on("zoom",this._zoom,this)},addTo:function(){return l.addLayer(this),this},_onZoomEnd:function(){W(),this._forceRedraw({all:!0})},_onMoveEnd:function(){r.trigger("viewchange"),e.fire("view-change"),this._forceRedraw()},_forceRedraw:function(t){l&&J(function(){ht(t)})},_animateZoom:function(t){var e=l.getZoomScale(t.zoom),n=l._getCenterOffset(t.center)._multiplyBy(-e).subtract(l._getMapPanePos());L.DomUtil.setTransform(p,n,e)},_zoom:function(t){t.pinch&&J()}}))}function q(){return o.anyOpenCombos()?s.time*(2/3):s.time}function $(){var t=i.getZoom();return.75+.5*((t=Math.min(15,Math.max(4,t)))-4)/11}function tt(){var e=[];return t.privateEach({type:"node",items:"toplevel"},function(t){if(at(t)){var n=un(un({},mt(t)),{id:t.id});e.push(n)}}),e}function et(t,e){x=p.style.position,w=p.style.top,p.style.position="absolute",p.style.zIndex="1000",p.classList.add("leaflet-zoom-animated"),p.style.transformOrigin="50% 50%",(g=document.createElement("div")).style.width=p.clientWidth+"px",g.style.height=p.clientHeight+"px",g.style.position="relative",g.style.top=p.style.top,g.style.left=p.style.left,(b=p.parentNode).insertBefore(g,p),p.style.pointerEvents="none",p=p,L.Draggable.include({_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),function(t,e){t._leaflet_pos=e,t.style.transform=function(t,e){return L.Browser.ie3d?"translate("+Math.round(t)+"px,"+Math.round(e)+"px)":"translate3d("+Math.round(t)+"px,"+Math.round(e)+"px, 0px)"}(e.x,e.y)}(this._element,this._newPos),this.fire("drag",t)}});var n=K({boxZoom:!1,zoomAnimationThreshold:20,zoomControl:!1,preferCanvas:!0},s.leaflet);Y(new L.Map(g,n)),function(){v=document.createElement("canvas"),u.setOverlayContext(v.getContext("2d"));var t=l.getSize();v.width=t.x,v.height=t.y,v.style.margin="0",v.style.pointerEvents="none",fn(v,v.getContext("2d"),!1,!1);var e=L.Control.extend({options:{position:"topleft"},onAdd:function(){return v}});y=new e,l.addControl(y)}(),U(!0),t?i.centerView(t):i.fitMapToBounds(null,!1),nt(e)}function nt(t){var e,n={};function r(){Q().addTo(l),M(t)}"string"==typeof s.tiles?e=s.tiles:s.tiles&&(e=s.tiles&&s.tiles.url||V.tiles.url,n=L.Util.extend(n,s.tiles)),e?(vh(c=new L.TileLayer(e,n),"loading",r),l.addLayer(c)):r()}function rt(n,i){o.clearState(),T=!1,n.lockChart||t.lock(!1),n.triggerEvent&&(r.trigger("map","hideend"),e.fire("map",{type:"hideend"})),_(i)}function it(t,e){u.setOverlayContext(null),function(t){p.style.top=g.offsetTop+"px",b.insertBefore(p,C>0?b.childNodes[C+1]:b.firstChild),p.style.transform="",p.style.transformOrigin="",t&&J(),ht({positions:!0})}(t.restorePositions),l.removeControl(y),function(t,e){lt(t,1,e)}(t.animate,function(){g.parentNode&&g.parentNode.removeChild(g),p.style.pointerEvents="auto",p.style.position=x,p.style.top=w,l.remove(),Y(null),M(e)})}function ot(e){I=!1,t.combo().open(o.getOpenCombos(),{animate:!1,adapt:!1},function(){var n=o.getPositions();if("restore"===s.transition&&n){var r=z(n).filter(function(e){return!t.combo().find(e.id)});t.setProperties(r,!1,e)}else{var i=t.privateValidateLayoutOptions({animate:!1});t.allowDraw(!1),u.layout("standard",i,function(){t.allowDraw(!0),M(e)})}})}function lt(e,n,r){e?t.privateAnimateBackgroundOpacity(n,{time:s.time},r):(t.privateSetBackgroundOpacity(n),M(r))}function ut(t,e){lt(t,0,e)}function ct(e){t.privateEach({type:"node",items:"toplevel"},function(t){t.hi||e({id:t.id,x:t.x,y:t.y})})}function dt(){var t=[];return ct(function(e){t.push(e)}),t}function ft(t,e){if(I){g.style.height=e+"px",g.style.width=t+"px";var n=v.getContext("2d");v.width=t,v.height=e,fn(v,n,!1,!1),k=!0,l.invalidateSize(!1),k=!1}else h=[t,e]}function ht(t){e.privateFire("forceRedraw",null!=t?t:{positions:!0})}function pt(){var e=t.options();O={},n(P,function(t,n){O[n]=e[n]})}function gt(t){var e;"direct"!==(null===(e=u.options(t?O:P,void 0,!!t).linkStyle)||void 0===e?void 0:e.path)&&u.resetConnectionOffsets()}function vt(){gt(!0),O={}}function mt(t){var e=l.latLngToContainerPoint([t.pos.lat,t.pos.lng]);return A.worldCoordinates(e.x,e.y)}return G()&&(L.Map.prototype._panInsideMaxBounds=function(){if(!this._enforcingBounds){var t=void 0;k&&(t={animate:!1}),this.panInsideBounds(this.options.maxBounds,t)}}),{changeTilesLayer:function(t){l?(l.removeLayer(c),nt(t)):M(t)},convertPos:function(e){var n,r,i,a=S(e);for(r=0;r<a.length;r++)R(n=a[r],"pos")&&(n.pos&&m(n.pos.lat)&&m(n.pos.lng)?(o.setHiddenOnMap(n.id,!1),i=mt({pos:H(t.getItem(n.id).pos,n.pos)}),n.x=i.x,n.y=i.y):(o.setHiddenOnMap(n.id,!0),n.hi=!0))},enableDragging:function(t){l.dragging.enabled()!==t&&(t?l.dragging.enable():l.dragging.disable())},getLeafletMap:function(){return l},getMapContainer:function(){return g},showMap:function(n){if(t.privateIsLayingOut())M(n);else{if(null===t.privateCanvasApi.privateGetContainer())throw new Error("Cannot enter map mode while the chart is not on the page.");if(function(){var t="1.3.4",e=L.version.split("-")[0].split("+")[0];if(st(e,t)<0)throw new Error("Cannot use an older version of Leaflet than "+t);!D&&st(e,"1.3.4")>0&&(console.warn("You are using an unsupported version of Leaflet - please use 1.3.4 instead."),D=!0)}(),Z(),l||T)M(n);else{E=!0,T=!0;var i=t.lock();t.lock(!0),r.trigger("map","showstart"),e.fire("map",{type:"showstart"}),pt(),gt(),o.recordState();var a=o.getHiddenOnMapIds();t.hide(a,{time:s.time,animate:s.animate},function(){et(null,function(){!function(e){if(s.animate){var n=q(),r={time:s.time*(1/3),adapt:!1},i=t.viewOptions();t.combo().close(o.getOpenCombos(),r,function(){var r=$();i.zoom===r?t.animateProperties(tt(),{time:n},e):t.viewOptions({zoom:r},{animate:!1},function(){var o=tt();t.viewOptions(i,{animate:!1},function(){var i=2;function a(){0==--i&&M(e)}var s={animate:!0,time:n};t.viewOptions({zoom:r},s,a),t.animateProperties(o,s,a)})})})}else t.combo().close(o.getOpenCombos(),{animate:!1},function(){t.viewOptions({zoom:$()},{animate:!1},function(){J(e)})})}(function(){ut(s.animate,function(){!function(n,i){I=!0,T=!1,r.trigger("map","showend"),e.fire("map",{type:"showend"}),n||t.lock(!1),h&&(ft(h[0],h[1]),t.zoom("fit"),h=null),_(i)}(i,n)})})})})}}},hideMap:function(n){if(l&&!T){if(null===t.privateCanvasApi.privateGetContainer())throw new Error("Cannot exit map mode while the chart is not on the page.");var a=t.lock(),u=q();T=!0,t.lock(!0),r.trigger("map","hidestart"),e.fire("map",{type:"hidestart"}),i.fitMapToBounds(null,s.animate,function(){var e,r;it({restorePositions:!0,animate:s.animate},function(){s.animate&&(e=t.viewOptions(),r=dt()),ot(function(){var i=dt();vt(),t.show(o.getHiddenOnMapIds(),!1,{animate:!1},function(){t.zoom("fit",{animate:!1},function(){if(s.animate){var l=t.viewOptions();t.combo().close(o.getOpenCombos(),{animate:!1,adapt:!1},function(){!function(e,n,r,i){t.viewOptions(e,{animate:!1},function(){t.hide(o.getHiddenOnMapIds(),{animate:!1},function(){t.setProperties(n,!1,function(){t.viewOptions(r,{animate:!0,time:u}),t.animateProperties(i,{time:u},function(){t.combo().open(o.getOpenCombos(),{time:s.time*(1/3),adapt:!1},c)})})})})}(e,r,l,i)})}else rt({lockChart:a,triggerEvent:!0},n)})})})})})}else M(n);function c(){var e=o.getHiddenOnMapIds();t.show(e,!1,{animate:e.length>0,time:s.time},function(){rt({lockChart:a,triggerEvent:!0},n)})}},isLeafletLoaded:G,isMapLoaded:function(){return!!l},isShown:function(){return I},isTransitioning:function(){return T},latLngToWorldCoordinates:mt,lockEvents:U,restoreMapMode:function(e,n){var r=t.lock();Z(),I=!0,pt(),et(e,function(){gt(),W(),J(function(){ut(!1,function(){r||U(!1),M(n)})})})},restoreNetworkMode:function(e){var n=t.lock();Z(),I=!1,it({restorePositions:!1,animate:!1},function(){vt(),rt({lockChart:n,triggerEvent:!1},e)})},setDependencies:function(t){u=(f=t).controller},setHandMode:function(t){t!==E&&(E=t,j())},setSize:ft,setView:function(t){A=t},updateNodePositions:J}}function Eh(t,e){var n=null;function r(){return n.getZoom()}function i(t){if(t.length){var e=L.latLngBounds(t),n=e.getNorth(),r=e.getSouth(),i=e.getWest(),o=e.getEast();if(n===r&&i===o){var a=.01;e=L.latLngBounds([[n-a,i-a],[n+a,i+a]])}return e}}function o(){var e=[];return t.privateEach({type:"node",items:"toplevel"},function(t){at(t)&&!t.hi&&e.push(L.latLng(t.pos.lat,t.pos.lng))}),e}function a(t,e){if(r()!==e)return!0;var i=n._limitCenter(t,e,n.options.maxBounds),o=n._getCenterOffset(i).floor();return!(!o.x&&!o.y)}function s(t,s,l){var u=i(t||o());if(u)void 0===r()||function(t){var i=L.point([2*(e.padding||0),2*(e.padding||0)]),o=n.getBoundsZoom(t,!1,i);if(r()!==o)return!0;var s=n.project(t.getSouthWest(),o),l=n.project(t.getNorthEast(),o);return a(n.unproject(s.add(l).divideBy(2),o),o)}(u)?(f(l),n.fitBounds(u,{animate:!!s,padding:[e.padding||0,e.padding||0]})):M(l);else{var c=L.latLng(0,0);a(c,2)?(f(l),n.setView(c,2,{animate:!!s})):M(l)}}function l(e,n,r){var i=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];V(r)||!at(r)||r.hi||e.push(L.latLng(r.pos.lat,r.pos.lng))}return e}(t.getItem(e));i.length?s(i,!!n,r):M(r)}function u(){return n.getMaxZoom()}function c(){return n.getMinZoom()}function d(){return Math.min(1,(u()-c())/10)}function f(t){x(t)&&vh(n,"moveend",function(e){t()})}return{fitMapToBounds:s,getMaxZoom:u,getMinZoom:c,getZoom:r,pan:function(e,r,o,a){var s=null,l=100,u={animate:!!r,duration:m(o)?o/1e3:.25};if(f(a),"selection"===e){var c=[],d=t.getItem(t.selection());if(d.length){for(var h=void 0,p=0;p<d.length;p++)if("node"===(h=d[p]).type){var g=h;at(g)&&!g.hi&&c.push(L.latLng(g.pos.lat,g.pos.lng))}n.panInsideBounds(i(c),u)}}else{switch(e){case"up":s=[0,-l];break;case"down":s=[0,l];break;case"left":s=[-l,0];break;case"right":s=[l,0]}s&&n.panBy(s,u)}},panBy:function(t,e){n.panBy(t,e)},setLeafletMap:function(t){n=t},centerView:function(t){n.setView([t.lat,t.lng],t.zoom,{reset:!0})},setZoom:function(t,e,r,i){f(i),n.setZoom(t,{animate:e})},zoom:function(e,i,a,c,h,p){var g={animate:!!i,duration:m(a)?a/1e3:.25};switch(e){case"in":f(p),n.zoomIn(d(),g);break;case"out":f(p),n.zoomOut(d(),g);break;case"fitToExtents":!function(e,r,i){var o=t.viewCoordinates(e.x1,e.y1),a=t.viewCoordinates(e.x2,e.y2);s([n.containerPointToLatLng([o.x,o.y]),n.containerPointToLatLng([a.x,a.y])],!!r,i)}(h,i,p);break;case"fit":case"fitToModel":c?l(c,i,p):s(o(),!!i,p);break;case"selection":case"fitToSelection":l(t.selection(),i,p);break;case"height":case"fitModelHeight":var v=-1/0,y=-1/0,b=1/0,w=1/0,C=function(t){var e=t;null!==e&&at(e)&&!e.hi&&(e.pos.lat>v&&(v=e.pos.lat,y=e.pos.lng),e.pos.lat<b&&(b=e.pos.lat,w=e.pos.lng))};c?t.privateGetItem(c).forEach(C):t.privateEach({type:"node",items:"toplevel"},C),isFinite(v)&&isFinite(y)&&isFinite(b)&&isFinite(w)?s([[v,y],[b,w]],!!i,p):x(p)&&M(p)}return r()/u()}}}function kh(t,e,n,r,i,o){var a=0,s=0,l=0,u=0,c=0,d=n||0,f=r||0,h=i||1;function p(t){return h*t}function g(t){return t&&(d=t),d}function v(t){return((t-a)*l+u)*h}function m(t){return((t-s)*l+c)*h}function y(t){return(t/h-u)/l+a}function b(t){return(t/h-c)/l+s}function x(t){return-1===t?-1:t*l*h}var w,C,A,_,E=4,k=.05,S=1/0;function I(){return!(!o||!o.internalUse.isMapLoaded())}function T(t){return Math.min(E,Math.max(t,k))}function L(t,e,n,r){return F(T(t),h*d/2,h*f/2,e,n,r)}function R(t){return t?{x1:v(t.x1),y1:m(t.y1),x2:v(t.x2),y2:m(t.y2)}:null}function P(t,e,n,r,i,o,p,g,v,m,x){var w;w=(t.y2-t.y1)/(t.x2-t.x1)>f/d?l*(f-(o?f/8:0))/(t.y2-t.y1):l*(d-(o?d/8:0))/(t.x2-t.x1),w*=h,r&&(w=T(w)),i&&w>1&&(w=1),m&&(w=l);var C=(t.y1+t.y2)/2,A=e?(e.x1+e.x2)/2:y((t.x1+t.x2)/2),_=e?(e.y1+e.y2)/2:b(C);return z(l,w,d/2-(A-a)*w-u,f/2-(_-s)*w-c,n,p,v,g,x)}function V(t,e,n,r,i,o,a,s,l){e.generate(n,r,Y,!0,!1);var u=n.itemExtents(t,r);if(u){var c,d=R(u);if(l)c=t?d.x1+(d.x2-d.x1)/2:g()/2,d.x1=c,d.x2=c;return P(d,u,i,!0,!0,!0,o,!1,a,s)}return M(a),null}function F(t,e,n,r,i,o){var d=T(t),f=y(e),p=b(n);return z(l,d,e/h-(f-a)*d-u,n/h-(p-s)*d-c,r,i,o)}function D(t){a=421,s=298,t?z(l,1,421-u,298-c,!0):(u=421,c=298,l=1)}function B(t){return O(t)&&(u=t),u}function Z(t){return O(t)&&(c=t),c}function G(t,e,n,r,i,o){return z(l,l,t,e,n,i,o,r)}function z(n,r,i,o,a,s,d,f,h){var p=i||0,g=o||0;return a?function(n,r,i,o,a,s,d){void 0===d&&(d=Ao);var f=a||200,h=f,p=u,g=c;return yn(function(a){h-=a;var v=d(Math.max(0,Math.min(1,(f-h)/f)));u=p+v*i,c=g+v*o,l=T(n+v*(r-n));var m=h>0;return t.fire("view-change"),m||(e.trigger("viewchange"),M(s)),m},{drawOnly:!0})}(n,r,p,g,s,d,h):(u+=p,c+=g,l=r,e&&!f&&(e.trigger("viewchange"),t.fire("view-change")),M(d),null)}function j(n){var r=I(),i=r?-3:.1;return yn(function(a){var s=0===C&&0===A;return r?o.internalUse.panBy([C*i,A*i],{animate:!1}):(u+=a*i*C,c+=a*i*A),w=!s,n&&n(_),s||(e.trigger("viewchange"),t.fire("view-change")),!s},{positions:!0})}D();var Y={cancelScroll:function(){C=0,A=0},fitExtents:P,fitModelHeight:function(t,e,n,r,i,o,a,s){return o?V(U(o),t,e,n,r,i,a,s,!0):V(null,t,e,n,r,i,a,!1,!0)},fitToModel:function(t,e,n,r,i,o,a,s){return o?V(U(o),t,e,n,r,i,a,s):V(null,t,e,n,r,i,a)},fitToSelection:function(t,e,n,r,i,o,a,s){return V(t.privateSelection(),t,e,n,r,i,a,s)},fitWorldExtents:function(t,e,n,r,i,o,a,s){return t?P(R(t),null,e,n,r,i,o,!1,a,void 0,s):(M(a),null)},fromOldSettings:function(n,r,i){if(r){var o=kh(t,e,n.width,n.height);return o.setZoom(n.zoom,!1),o.offsetX=n.offsetX,o.offsetY=n.offsetY,P({x1:o.viewToWorldX(0),y1:o.viewToWorldY(0),x2:o.viewToWorldX(o.width()),y2:o.viewToWorldY(o.height())},null,!1,!1,!1,!1,0)}return L(n.zoom,!1),u=n.offsetX,c=n.offsetY,i&&(u=d/2-(y(n.width/2)-a)*l,c=f/2-(b(n.height/2)-s)*l),null},fromSettingsDirect:function(t,e,n,r){return z(l,T(t.zoom),t.offsetX-u,t.offsetY-c,e,n,r)},getMaxItemZoom:function(){return S},setMaxZoom:function(t){E=t},getMaxZoom:function(){return E},getMinZoom:function(){return k},getUnzoom:function(){return l>S?S/l:1},getZoomScale:function(){return l},height:function(t){return t&&(f=t),f},maybeScroll:function(t,e,n){var r=t.x,i=t.y,o=p(50);return C=0,A=0,_=t,r<o&&(C=1),r>p(d)-o&&(C=-1),i<o&&(A=1),i>p(f)-o&&(A=-1),e.direction&&(e.direction.horizontalMovement||(C=0),e.direction.verticalMovement||(A=0)),0===C&&0===A||w?null:(w=!0,j(n))},offsetX:B,offsetXtoWebglPanX:function(){var t=d/2;return-(1-B()/t)+(t-a)/t*l},offsetY:Z,offsetYtoWebglPanY:function(){var t=f/2;return 1-Z()/t-(t-s)/t*l},pan:function(t,e,n,r){var i=0,o=0;switch(t){case"up":o=1;break;case"down":o=-1;break;case"left":i=1;break;case"right":i=-1}return G(i*=100,o*=100,e,!1,n,r)},panBy:G,reset:D,scale:p,scaleFactor:function(t){return t&&(h=t),h},setMaxItemZoom:function(t){S=t||1/0},setMinZoom:function(t){k=Math.min(1,Math.max(.001,t||.05)),l<k&&z(l,k,u,c,!1)},settings:function(){return{width:d,height:f,zoom:l,offsetX:u,offsetY:c}},setZoom:L,sw:function(t){return-1===t?-1:x(t)+7},viewToWorldDistance:function(t){return t/(l*h)},viewToWorldX:y,viewToWorldY:b,w:x,wheelToPosition:function(t,e,n,r){return F(T(l*(1+t/300)),e,n,r,66.66666666666667)},width:g,worldToViewDistance:function(t){return t&&t*l*h},worldToViewX:v,worldToViewY:m,x:v,y:m,worldCoordinates:function(t,e){var n=Y.scale(t),r=Y.scale(e);return{x:Y.viewToWorldX(n),y:Y.viewToWorldY(r)}},zoom:function(){return I()?o.internalUse.getZoom():l},zoomIn:function(t,e,n){return F(T(1.4*l),h*d/2,h*f/2,t,e,n)},zoomOut:function(t,e,n){return F(T(l/1.4),h*d/2,h*f/2,t,e,n)},zoomToPosition:F};return Y}function Sh(t,e,n,r){var i,o={},a={},s=[],l={};function u(){return null!==n&&n.api.isShown()}var c,d,f,h,g,v,m=ie.white,y=ie.lightgrey;function b(){o={},i={},a={},s=[],l={}}function x(t,e,n,r,i,o,a){t.rect(e.scale(n),e.scale(r),e.scale(i),e.scale(o),ie.transparent,-1,ie.transparent,!0,a,-1)}var w={ne:"sw",nw:"se",se:"nw",sw:"ne"};return{addBanding:function(t){var e={generate:function(e,n,r){var i=H({top:!0},t.bands);if(i&&i.bands){var o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,d=void 0;e.setLayer(Yr.BANDS);var f=1/0;for(o=0;o<i.bands.length;o++)(u=i.bands[o]).t&&(a=r.worldToViewDistance(u.w/2),c=.75*(l=u.fs||20),(d=sn(n,u.t,l,u.fb,s=u.ff||t.fontFamily).width/2)+c>a&&(l=Math.floor(l*a/(d+c))),l<f&&(f=l));for(f!==1/0&&(c=.75*f),o=0;o<i.bands.length;o++){var h=r.x((u=i.bands[o]).x),p=r.x(u.x-u.w/2),g=r.x(u.x+u.w/2),v=r.scale(-1),m=r.scale(r.height()+1);a=r.worldToViewDistance(u.w/2);var y=u.c||"#f7f7f7";if(e.rect(p,v,g,m,"white",-1,y,!0,"",-1),u.t&&f>3){e.setLayer(Yr.BANDLABELS),d=sn(n,u.t,f,u.fb,s=u.ff||t.fontFamily).width/2;var b=u.fc||ie.lightgrey,x=r.scale(f),w=(g-p)/2-d;if(i.top){var C=6+x;e.rect(p,v,g,C+3,"white",-1,y,!0,"",-1,void 0),e.text(h-d,C,u.t,b,x,u.fb,"",-1,s,!1,2*d,!1,!1,p+w,v+6,g+w,C+6,void 0,void 0,void 0)}if(i.bottom){var A=r.height()-3,_=A-(x+6);e.rect(p,_,g,m,"white",-1,y,!0,"",-1,void 0),e.text(h-d,A,u.t,b,x,u.fb,"",-1,s,!1,2*d,!1,!1,p+w,_+6,g+w,_+6+l,void 0,void 0,void 0)}e.setLayer(Yr.BANDS)}}}}};s.push(e)},addLogo:function(t){var e=t.u,n=r.get(e,nh(),!0),i={generate:function(r,i,o){r.setLayer(Yr.OVERLAYS);var a=n.im.width,s=n.im.height,l=t.p||"ne",u=("w"===l.charAt(1)?15:o.width()-(a+15))+(t.x||0),c=("n"===l.charAt(0)?15:o.height()-(s+15))+(t.y||0);r.image(o.scale(u),o.scale(c),o.scale(u+a),o.scale(c+s),e,"_logo",-1,null,0,!0)}};s.push(i)},addNavigation:function(t,c,d){var f=pf["Nav-Control-Head.png"],h=pf["Nav-Control-Zoom.png"],p=pf["Nav-Control-Short-Zoom.png"],g=pf["Slider.png"],v=pf["Hand.png"],m=pf["Arrow.png"];r.getControlColourImage(f,!1);var y=r.getControlColourImage(h,!1),b=r.getControlColourImage(p,!1);r.get(g,!1,!0),r.get(v,!1,!0),r.get(m,!1,!0);var w=O()?145:247,C=d.p||"nw",A=("w"===C.charAt(1)?7:c.width()-69)+(d.x||0),_=("n"===C.charAt(0)?17:c.height()-(17+w))+(d.y||0),M=A+21,E=_+118,k=_+215;function S(){return!!t.options().handMode}function I(e,n){var r=L(e-6);t.setZoom(r,n)}function T(t){var e,r,i;return null!==n&&n.internalUse.isMapLoaded()?(e=n.internalUse.getMinZoom(),r=Math.max(n.internalUse.getMaxZoom(),e+1),i=t):(e=Math.log(c.getMinZoom()),r=Math.log(c.getMaxZoom()),i=Math.log(t)),Math.floor(E+(1-(i-e)/(r-e))*(k-E))}function L(t){var e,r=1-(t-E)/(k-E);if(u()){var i=n.internalUse;e=(i.getMaxZoom()-i.getMinZoom())*r+i.getMinZoom()}else e=Math.exp(r*(Math.log(c.getMaxZoom())-Math.log(c.getMinZoom()))+Math.log(c.getMinZoom()));return e}function O(){return c.height()<300}l._zoomIn=function(){t.zoomIn(!0)},l._zoomOut=function(){t.zoomOut(!0)},l._panLeft=function(){t.pan("left",!0)},l._panRight=function(){t.pan("right",!0)},l._panUp=function(){t.pan("up",!0)},l._panDown=function(){t.pan("down",!0)},l._fitToWindow=function(){t.fitToModel(!0)},l._toggleMode=function(){var e=t.options();e.handMode=!e.handMode,t.options(e)},l._scale=function(t,e,n){I(n,!0)},a._zoomIn="pointer",a._zoomOut="pointer",a._panLeft="pointer",a._panRight="pointer",a._panUp="pointer",a._panDown="pointer",a._fitToWindow="pointer",a._toggleMode="pointer",a._scale="pointer",a._slider='grab, url("'+pf["openhand.png"]+'"), pointer',o._slider=function(r){var o=!1;i._slider="slider";var a=r,s=u()?c.zoom():c.settings();return O()||e.trigger("dragstart","slider")?null:(u()&&n.internalUse.enableDragging(!1),{type:"slider",rebuild:{drawOnly:!0},getCursor:function(){return"move"},setLastProps:function(t){a=t},getLastProps:function(){return a},dragMove:function(t){a=t,t.dragging.started&&I(t.y,!1)},endDrag:function(r){o||(o=!0,(e.trigger("dragend","slider")||r)&&(u()&&"number"==typeof s?t.setZoom(s,!1):"number"!=typeof s&&c.fromSettingsDirect(s,!1)),u()&&n.internalUse.enableDragging(!!t.options().handMode),e.trigger("dragcomplete","slider"))}})},s.push({generate:function(t,e,n,r,i){if(!i){t.setLayer(Yr.OVERLAYS),t.image(n.scale(A+5),n.scale(_+6),n.scale(A+57),n.scale(_+58),f,null,-1,"co",0,!0);var o=100;O()?t.image(n.scale(A+16),n.scale(_+o),n.scale(A+16+b.im.width/2),n.scale(_+o+b.im.height/2),p,null,-1,"co",0,!0):t.image(n.scale(A+16),n.scale(_+o),n.scale(A+16+y.im.width/2),n.scale(_+o+y.im.height/2),h,null,-1,"co",0,!0);var a=A+19,s=_+64,l=n.scale(a),u=n.scale(s),c=n.scale(a+28),d=n.scale(s+32),w=S()?v:m;t.image(l,u,c,d,w,null,-1,null,0,!0),t.setLayer(Yr.OVERLAYSSHADOW),t.image(l,u,c,d,w,"_toggleMode",-1,null,0,!1);var C=23,E=39,k=O()?124:222;if(x(t,n,A+C,_+105,A+E,_+105+18,"_zoomIn"),x(t,n,A+C,_+k,A+E,_+k+18,"_zoomOut"),x(t,n,A+5,_+C,A+C,_+E,"_panLeft"),x(t,n,A+E,_+C,A+57,_+E,"_panRight"),x(t,n,A+C,_+5,A+E,_+C,"_panUp"),x(t,n,A+C,_+E,A+E,_+57,"_panDown"),x(t,n,A+C,_+C,A+E,_+E,"_fitToWindow"),O()||x(t,n,A+C,_+105+18,A+E,_+k,"_scale"),x(t,n,A+C-3,_+68,A+E+3,_+68+22,"_toggleMode"),!O()){var I=T(n.zoom()),L=n.scale(M),R=n.scale(I),P=n.scale(M+21),V=n.scale(I+12);t.image(L-4,R-4,P+4,V+4,g,"_slider",-1,null,0,!1),t.setLayer(Yr.OVERLAYS),t.image(L,R,P,V,g,null,-1,null,0,!0)}}}})},addOverview:function(n,u,b,x,C){var A=C.p&&w[C.p]?C.p:"se",_=pf["Arrow-"+w[A]+".png"],M=pf["Arrow-"+A+".png"];C.size=C.size||100,d=C.size,h=!!C.shown,g="n"===A.charAt(0),v="w"===A.charAt(1);var E=(f=x(d,d)).getContext("2d"),k=!1,S=!1,I=Date.now(),T=kh(t,e,d,d);function L(t){var e={x1:b.viewToWorldX(b.scale(-t)),x2:b.viewToWorldX(b.scale(b.width()+t)),y1:b.viewToWorldY(b.scale(-t)),y2:b.viewToWorldY(b.scale(b.height()+t))};return{x1:T.worldToViewX(e.x1),x2:T.worldToViewX(e.x2),y1:T.worldToViewY(e.y1),y2:T.worldToViewY(e.y2)}}l._overviewIcon=function(){C.shown=!C.shown,e.trigger("overview",(h=C.shown)?"open":"close"),t.privateFire("redraw",{drawOnly:!0})},a._overviewIcon="pointer";var O,R,P=null,V=!1,F=0,D=0,B=0,Z=0;function G(){B+=O.x,Z+=O.y,t.privateFire("redraw")}function z(){R&&(clearInterval(R),R=null)}function j(t){var e=Math.max(t.width(),t.height())/2;T.reset(!1);var n=L(e);T.fitExtents(n,null,!1,!1,void 0,void 0,void 0,!0);var r=t.getMaxItemZoom();r!==1/0&&T.setMaxItemZoom(r/8),V&&T.panBy(B,Z,!1,!0)}function Y(t,e){return{x1:t.scale(v?-1:t.width()-e),y1:t.scale(g?-1:t.height()-e),x2:t.scale(v?e:t.width()+1),y2:t.scale(g?e:t.height()+1)}}a._overviewBox='url("'+pf["openhand.png"]+'"), pointer',o._overviewBox=function(t){var r=!1,o="overview";if(i._overviewBox="overview",e.trigger("dragstart",o))return null;var a=t;V=t.dragging.started,F=0,D=0,B=0,Z=0;var s=2-P.x1,l=d-P.x2-2,u=2-P.y1,c=d-P.y2-2;return{type:o,rebuild:{drawOnly:!0},setLastProps:function(t){a=t},getLastProps:function(){return a},getCursor:function(){return"move"},dragMove:function(t){if(a=t,t.dragging.started){z(),D=t.y-t.dragging.startY,O={x:0,y:0};var e=!1;(F=t.x-t.dragging.startX)<s&&(F=s,O.x=2,e=!0),F>l&&(F=l,O.x=-2,e=!0),D<u&&(D=u,O.y=2,e=!0),D>c&&(D=c,O.y=-2,e=!0),e&&(R=p(G,50))}},endDrag:function(t){if(!r){if(r=!0,V=!1,z(),!e.trigger("dragend","overview")&&!t){var i=-(F-B)*(b.zoom()/T.zoom()),o=-(D-Z)*(b.zoom()/T.zoom());n.panBy(i,o,!0)}e.trigger("dragcomplete","overview")}}}},s.push({generate:function(e,i,o,a,s){if(!s){var l=Math.max(1,o.scale(1));if(h){var f=Y(o,d),p=C.borderColour||y,b=C.backColour||m;if(e.setLayer(Yr.OVERLAYSSHADOW),e.rect(f.x1,f.y1,f.x2,f.y2,b,-1,b,!0,"_overviewBorder1",-1),e.rect(f.x1,f.y1,f.x2,f.y2,p,l,b,!1,"_overviewBorder2",-1),e.setLayer(Yr.OVERVIEW),e.rect(f.x1,f.y1,f.x2,f.y2,p,l,b,!1,null,-1),u){var x=Date.now();if(k&&!V&&x<I+1e3&&S)t.privateFire("redraw");else{if(I=Date.now(),k=!0,i.webgl)j(o),n.setOverviewView(T);else{E.clearRect(0,0,d,d);var w=Ee(b,1/me(b));E.fillStyle=w,E.fillRect(0,0,d,d),n.drawBackground(E),j(o),Tr(e,E,E,T,n.options(),!1,!0,null,!1,0,0,void 0,r)}S=Date.now()-I>30}P||(P=L(0));var A=V?F:0,O=V?D:0,R=V?"_overviewBoxDragging":"_overviewBox",B=o.scale(v?P.x1+A:o.width()-d+P.x1+A),Z=o.scale(g?P.y1+O:o.height()-d+P.y1+O),G=o.scale(v?P.x2+A:o.width()-d+P.x2+A),z=o.scale(g?P.y2+O:o.height()-d+P.y2+O),N=Math.max(1,o.scale(2)),U=C.borderColour||c||y,W=Ee(U,.5);e.setLayer(Yr.OVERVIEWSHADOW),e.rect(B,Z,G,z,U,N,W,!V,R,-1),e.setLayer(Yr.OVERVIEW),e.rect(B,Z,G,z,U,N,W,!V,R,-1)}}var X=h?M:_,H=r.get(X,!1,!0).im;if(C.icon){var K=H.width/2,J=Y(o,K);e.setLayer(Yr.OVERVIEW),e.rect(J.x1,J.y1,J.x2,J.y2,y,l,ie.white,!0,"_overviewIconRect",-1),e.image(o.scale(v?0:o.width()-K),o.scale(g?0:o.height()-K),o.scale(v?K:o.width()),o.scale(g?K:o.height()),X,"_overviewIcon",-1,"co",0,!0),r.getControlColourImage(X),e.setLayer(Yr.OVERVIEWSHADOW);var Q=2*K;e.rect(o.scale(v?-1:o.width()-Q),o.scale(g?-1:o.height()-Q),o.scale(v?Q:o.width()+1),o.scale(g?Q:o.height()+1),y,-1,m,!0,"_overviewIcon",-1)}}}})},addTextWatermark:function(t,e,n,i,o,a,l,u){var c;t&&(c=r.get(t,!1,!0)),s.push({watermarkSize:function(t){var r,i;if(c){var a=c.im;r=a.width,i=a.height}else e&&(r=sn(t,e,n,o,u).width,i=n);return r?{width:r+10,height:i+10}:null},generate:function(r,s,d){var f,h;if(r.setLayer(Yr.UNDERLAYS),c){var p=c.im;f=d.scale((d.width()-p.width)/2),h=d.scale((d.height()-p.height)/2),r.image(f,h,f+d.scale(p.width),h+d.scale(p.height),t,null,-1,null,0,!1)}else if(e){var g=d.scale(n),v=sn(s,e,n,o,u).width;f=d.scale((d.width()-v)/2),h=d.scale((d.height()+n)/2);var m=-3.5,y=Math.floor(g/8);"top"===l&&(h=g+y),"bottom"===l&&(h=d.scale(d.height())+1),a&&r.rect(f-m,h-g-y,f+v+m+y,h,a,-1,a,!0,null,-1),r.text(f,h,e,i,g,!!o,null,-1,u,!1,v,!1,!1,f+m,h-g,f+v+m,h)}}})},chooseDefaultDragger:function(t){return i[t]||null},createDragger:function(t,e){return t in o?o[t](e):null},doclick:function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t&&l[t]&&l[t].apply(l,cn([t,e,n],r))},drawOverviewContent:function(t,e){if(h&&f){var n=e.scale(d);t.drawImage(f,0,0,n,n,e.scale(v?0:e.width()-d),e.scale(g?0:e.height()-d),n,n)}},generate:function(t,e,n,r,i){t.setLayerPath(null);for(var o=0;o<s.length;o++)s[o].generate(t,e,n,r,i)},getCursor:function(t){return t&&t in a?a[t]:"auto"},getWatermarkSize:function(t){for(var e=0;e<s.length;e++){var n=s[e];if(n.watermarkSize)return n.watermarkSize(t)}return null},remove:function(t,e,n){var r=42;s.push({generate:function(i,o,a){i.setLayer(Yr.OVERLAYS_REQUIRED);var s=sn(o,t,r).width,l=a.scale((a.width()-s)/2),u=a.scale((a.height()+r)/2);i.text(l+2,u+2,t,n,a.scale(r),!0,null,-1,void 0,!1,s,!1,!1,l+2,u+2-a.scale(r),l+2+s,u+2),i.text(l,u,t,e,a.scale(r),!0,null,-1,void 0,!1,s,!1,!1,l,u-a.scale(r),l+s,u)}})},reset:b,setup:function(t){b(),c=ae(t[0],t[1],t[2],1)}}}function Ih(){var t=new mh,e=new mh;return{on:function(t,n){e.on(t,n)},off:function(t,n){e.off(t,n)},privateOn:function(e,n){t.on(e,n)},privateOff:function(e,n){t.off(e,n)},fire:function(n,r){t.fire(n,r),e.fire("all",{name:n,event:r}),e.fire(n,r)},privateFire:function(e,n){t.fire(e,n)}}}function Th(t,e){t.beginPath(),e.segments.forEach(function(e){switch(e.type){case ce.MoveTo:t.moveTo(e.value[0],e.value[1]);break;case ce.LineTo:t.lineTo(e.value[0],e.value[1])}}),e.closed&&t.closePath();var n=e.stroke,r=n.width;t.strokeStyle=Ee(n.colour,n.opacity),t.lineWidth=r,e.fill&&(t.fillStyle=Ee(e.fill.colour,e.fill.opacity)),t.stroke(),e.fill&&t.fill()}var Lh=((wh={})[le.arc]=Tn,wh[le.bezier]=Zn,wh[le.circle]=On,wh[le.rect]=Vn,wh[le.line]=Pn,wh[le.triangle]=Bn,wh[le.text]=Dn,wh[le.image]=Rn,wh[ue.smootharea]=Th,wh);function Oh(t,e){return{pluginType:"export-image",name:t,options:{},load:function(n){var r=Ir(n.width,n.height),i=Ir(n.width,n.height),o=r;if(!o||!i)throw new Error(Wh.CANVAS);return{drawPrimitive:function(t){(0,Lh[t.type])(o,t,e)},drawToBackground:function(){o=i},drawToForeground:function(){o=r},commitBackground:function(){var t,e=null===(t=i)||void 0===t?void 0:t.canvas;if(!o||!e)throw new Error(Wh.FAILED);o.globalAlpha=n.backgroundAlpha,o.drawImage(e,0,0,e.width,e.height),o.globalAlpha=1,i=Ir(n.width,n.height)},finish:function(e){if(r){var n=r.canvas;if(n){var i="image/"+t,o=function(t){if(!t)throw new Error(Wh.FAILED);e({url:window.URL.createObjectURL(t)})};void 0!==n.toBlob?n.toBlob(o,i):o(function(t,e){return function(t,e){for(var n=atob(t.split(",")[1]),r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([i],{type:e})}(t.toDataURL(e),e)}(n,i))}}}}}}}var Rh="http://www.w3.org/2000/svg",Ph="Error loading font",Vh="Fonts to embed should be supplied in .woff format",Fh="woff",Dh="data:application/font-",Bh=new RegExp("^"+Dh),Zh=new RegExp("^"+Dh+Fh),Gh=new RegExp(".woff$"),zh={serif:!0,Georgia:!0,"Times New Roman":!0,"sans-serif":!0,Arial:!0,Tahoma:!0,"Trebuchet MS":!0,Verdana:!0,monospaced:!0,"Courier New":!0};function jh(t){return t.indexOf(" ")>-1?'"'+t+'"':t}function Yh(t,e){var r=document.createElementNS(Rh,t);return n(e,function(t,e){r.setAttribute(e,t)}),r}function Nh(t){var e,r,i,a,s,l,u;function c(t,e,n){a.push({type:"font",fontFamily:e,src:n,msg:t})}function d(t,e){var n=document.createElementNS(Rh,"style");n.setAttribute("type","text/css"),n.textContent+="\n    @font-face {\n      font-family: "+t+';\n      src: url("data:application/font-woff;charset=utf-8;base64,'+e+'") format("'+Fh+'");\n    }',l.appendChild(n)}function f(t){n(t,function(t,e){!function(t,e){if(e.match(Bh))e.match(Zh)||c(Vh,t,e),d(t,e);else{e.match(Gh)||c(Vh,t,e);var n=new XMLHttpRequest;n.open("GET",e),n.responseType="arraybuffer",n.onload=function(){if(n.readyState===n.DONE&&200===n.status){var r=function(t){for(var e=new Uint8Array(t),n=e.byteLength,r="",i=0;i<n;i++)r+=String.fromCharCode(e[i]);return window.btoa(r)}(n.response);d(t,r)}else c(Ph,t,e);--s},n.onerror=function(){c(Ph,t,e),--s},++s,n.send(),r[t]=!0}}(jh(e),t.src)})}function h(t,e,n,r){return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}}function p(t,e,n,r,i){var o=h(t,e,n,i),a=h(t,e,n,r),s=i-r<=Math.PI?"0":"1";return["M",o.x,o.y,"A",n,n,0,s,0,a.x,a.y].join(" ")}function g(t){var e="gradient"+u++,n=Yh("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:""+t.direction.start.x,y1:""+t.direction.start.y,x2:""+t.direction.end.x,y2:""+t.direction.end.y});return t.stops.sort(function(t,e){return t.offset-e.offset}).forEach(function(t){var e=Yh("stop",{offset:""+t.offset,"stop-color":t.colour,"stop-opacity":""+t.opacity});n.appendChild(e)}),l.appendChild(n),e}function v(t,e,n,r){void 0===r&&(r=0);var i={};if("gradient"===t.type){var o=g(t);i.stroke="url(#"+o+")"}else i.stroke=t.colour,i["stroke-opacity"]=""+t.opacity;return i["stroke-width"]=""+e,n&&(i["stroke-dasharray"]=n.dash+" "+n.gap,i["stroke-dashoffset"]=""+((n.dashOffset||0)+r),n.dash<1&&(i["stroke-linecap"]="round")),i}function m(t){return t?{fill:t.colour,"fill-opacity":""+t.opacity}:{fill:"none"}}function y(t,e){if(t&&t.width>0){var n={stroke:t.colour,"stroke-opacity":""+t.opacity,"stroke-width":""+t.width};return e&&(n["stroke-dasharray"]=e.dash+" "+e.gap),n}return{stroke:"none"}}function b(t,e,n,r,i,o,a){return Yh("path",un({d:["M",t,e,"L",n,r].join(" "),fill:"none"},v(i,o,a)))}function x(t,e,n,r,i,o){var a=Yh("g",{}),s=i.width/2,l=t,u=e,c=t+n,d=e+r,f=un({type:"solid"},i),h={dash:o.dash,gap:o.horizGap},p={dash:o.dash,gap:o.vertGap};return a.appendChild(b(l-s,u,c+s,u,f,i.width,h)),a.appendChild(b(c,u-s,c,d+s,f,i.width,p)),a.appendChild(b(c+s,d,l-s,d,f,i.width,h)),a.appendChild(b(l,d+s,l,u-s,f,i.width,p)),a}function w(t){var e=t.rotation,n=t.origin,r=t.x1,i=t.y1,a={x:""+r,y:""+i,width:""+(t.x2-r),height:""+(t.y2-i),opacity:""+t.alpha};if("ci"===t.specifier&&(a["clip-path"]="url(#cut-out-clip-path)"),e){var s=o(e);a.transform="translate("+n.x+" "+n.y+") rotate("+s+")"}return a}function C(t,e,n,r){var i={},a=n;if(r){var s=o(r);i.transform="translate("+n.x+" "+n.y+")\n        rotate("+s+")",a={x:0,y:0}}return i.x=""+(t+a.x),i.y=""+(e+a.y),i}var A=((e={})[le.arc]=function(t,e){var n=e.x,r=e.y,i=e.r,o=e.dashing,a=e.strokeWidth;e.segments.forEach(function(e){var s=e.strokeStyle,l=e.offset,u=Yh("path",un({d:p(n,r,i,e.startAngle,e.endAngle),fill:"none"},v(s,a,o,l)));t.appendChild(u)})},e[le.bezier]=function(t,e){var n=e.segments,r=e.strokeWidth,i=e.dashing;n.forEach(function(e){var o=e.xs,a=e.ys,s=e.strokeStyle,l=e.offset,u=Yh("path",un({d:["M",o[0],a[0],"C",o[1],a[1],o[2],a[2],o[3],a[3]].join(" "),fill:"none"},v(s||n[0].strokeStyle,r,i,l)));t.appendChild(u)})},e[le.circle]=function(t,e){var n=e.stroke,r=e.dashing,i=Yh("circle",un(un({cx:""+e.x,cy:""+e.y,r:""+e.r},m(e.fill)),y(n,r)));t.appendChild(i)},e[le.rect]=function(t,e){var n=function(t,e,n,r,i,a,s,l,u,c){void 0===c&&(c=0);var d,f=Yh("g",{}),h=u&&l,p={rx:""+c,ry:""+c},v=a;if(i){var b=o(i);p.transform="translate("+a.x+" "+a.y+") rotate("+b+")",v=void 0}var w=function(t,e,n,r,i){var o=t,a=e;return i&&(o+=i.x||0,a+=i.y||0),{x:o,y:a,width:n-t,height:r-e}}(t,e,n,r,v),C=w.x,A=w.y,_=w.width,M=w.height,E="gradient"===(null===(d=s)||void 0===d?void 0:d.type)?{fill:"url(#"+g(s)+")"}:m(s),k=Yh("rect",un(un(un({x:""+C,y:""+A,width:""+_,height:""+M},p),E),y(h?void 0:l)));return f.appendChild(k),h&&f.appendChild(x(C,A,_,M,l,u)),f}(e.x1,e.y1,e.x2,e.y2,e.rotation,e.origin,e.fill,e.stroke,e.dashing,e.cornerRadius);t.appendChild(n)},e[le.line]=function(t,e){var n=e.start,r=e.end,i=e.strokeStyle,o=e.strokeWidth,a=e.dashing,s=e.offset,l=Yh("path",un({d:["M",n.x,n.y,"L",r.x,r.y].join(" "),fill:"none"},v(i,o,a,s)));t.appendChild(l)},e[le.triangle]=function(t,e){var n=e.stroke,r=e.origin,i=e.rotation,a=un(un({},m(e.fill)),y(n)),s=e.x1,l=e.y1,u=e.x2,c=e.y2,d=e.x3,f=e.y3;if(i){var h=o(i);a.transform="translate("+r.x+" "+r.y+") rotate("+h+")"}else r&&(r.x&&(s+=r.x,u+=r.x,d+=r.x),r.y&&(l+=r.y,c+=r.y,f+=r.y));a.points=s+", "+l+" "+u+", "+c+" "+d+", "+f,t.appendChild(Yh("polygon",a))},e[le.text]=function(t,e){var n=e.text,o=e.x,a=e.y,s=e.origin,l=e.rotation,u=e.size,c=e.colour,d=e.isBold,f=e.textAlign,h=jh(e.fontFamily);if(!r[h]&&!zh[h]&&(i[h]=!0,e.isFontIcon)){var p=function(t){var e=t.size,n=t.colour,r=t.fontFamily,i=t.text,o=t.x,a=t.y,s=t.origin,l=t.rotation,u=e/2,c=2*e+2*u,d=c/2,f=document.createElement("canvas");f.width=c,f.height=c;var h=f.getContext("2d");if(!h)return null;h.fillStyle=n.colour,h.textAlign="center",h.textBaseline="middle",h.font=2*e+"px "+jh(r),h.fillText(i,d,d);var p=C(o-d/2,a-(c-u)/2,s,l);return Yh("image",un(un({href:f.toDataURL()},p),{width:""+d,height:""+d,opacity:""+n.opacity}))}(e);if(p)return void t.appendChild(p)}var g=un({"font-family":h+", sans-serif","font-size":u+"px",fill:c.colour,"fill-opacity":""+c.opacity,"dominant-baseline":"ideographic","text-anchor":"center"===f?"middle":"left"},C(o,a,s,l));d&&(g["font-weight"]="bold");var v=Yh("text",g);v.textContent=function(t){return gt(t).filter(function(t){return!function(t){return t<32||t>126&&t<160}(ft(t))}).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}(n),t.appendChild(v)},e[le.image]=function(e,r){var i=document.createElementNS(Rh,"g");e.appendChild(i);var o=r.src,a=r.x1,s=r.y1,l=r.x2,u=r.y2,c="url"===o.type?t.getSVG(o.url):null;if(c){var d=c.cloneNode(!0);n(w(r),function(t,e){d.setAttribute(e,t)}),i.appendChild(d)}else{var f,h=2*(l-a),p=2*(u-s);if(f="url"===o.type?t.getDataUri(o.url,h,p):ih(o.el,h,p)){var g=Yh("image",un({href:f,preserveAspectRatio:"none"},w(r)));i.appendChild(g)}else i.appendChild(function(t){return Yh("image",un({href:$f,preserveAspectRatio:"none"},w(t)))}(r))}},e[ue.smootharea]=function(t,e){},e);return{pluginType:"export-image",name:"svg",options:{},load:function(e){var n=e.fonts,o=function(t,e){return Yh("svg",{width:""+t,height:""+e,viewBox:"0 0 "+t+" "+e})}(e.width,e.height),d=document.createElementNS(Rh,"g"),h=o;if(!h)throw new Error(Wh.SVG);r={},i={},a=[],s=0,l=document.createElementNS(Rh,"defs"),o.appendChild(l),l.appendChild(function(){var t=Yh("clipPath",{id:"cut-out-clip-path",clipPathUnits:"objectBoundingBox"}),e=Yh("ellipse",{cx:"0.5",cy:"0.5",crx:"0.5",ry:"0.5"});return t.appendChild(e),t}()),n&&f(n),u=0;var p=function(t){if(s>0)setTimeout(function(){p(t)},100);else if(o){var e=(new XMLSerializer).serializeToString(o),n=new Blob([e],{type:"image/svg+xml"});Object.keys(i).forEach(function(t){c("Font used but not embedded in SVG",t)}),t(n?{url:URL.createObjectURL(n),warnings:a}:{type:"Error",message:Wh.FAILED})}else t({type:"Error",message:Wh.FAILED})};return{drawPrimitive:function(e){(0,A[e.type])(h,e,t)},drawToBackground:function(){h=d},drawToForeground:function(){h=o},commitBackground:function(){if(!d||!o)throw new Error(Wh.FAILED);d.setAttribute("opacity",""+e.backgroundAlpha),o.appendChild(d),d=document.createElementNS(Rh,"g")},finish:p}}}}function Uh(){return{pluginType:"export-image",name:"test",options:{},load:function(t){var e=t.backgroundAlpha,r=[],i=[];t.fonts&&n(t.fonts,function(t,e){r.push({type:"font",fontFamily:e,src:t.src})});var o=r;if(!o||!i)throw new Error(Wh.FAILED);return{drawPrimitive:function(t){o.push(t)},drawToBackground:function(){o=i},drawToForeground:function(){o=r},commitBackground:function(){o.push.apply(o,cn([{type:"background-start",backgroundAlpha:e}],i,[{type:"background-end"}]))},finish:function(t){var e=new Blob([JSON.stringify(r)],{type:"application/json"});t({url:URL.createObjectURL(e)})}}}}}var Wh={CANVAS:"Unable to export, failed to create canvas",SVG:"Unable to export, failed to create export SVG",FAILED:"Unable to export"};function Xh(t,e){var n,r,i,o,a=t.view,s=null!=(r=null===(n=e.fitTo)||void 0===n?void 0:n.width)?r:0,l=null!=(o=null===(i=e.fitTo)||void 0===i?void 0:i.height)?o:0,u=m(s)&&s>0?s/a.width():1/0,c=m(l)&&l>0?l/a.height():1/0,d=Math.min(u,c);return m(d)?d:1}function Hh(t){var e=t.controller,n=e.getWidgets,r=e.getInternalChartOptions,i=e.getChartCanvas,o=e.isMapMode,a=e.getMapApi,s=t.imageManager.createImageLookup(),l=new Map;return l.set("png",Oh("png",s)),l.set("jpeg",Oh("jpeg",s)),l.set("test",Uh()),l.set("svg",Nh(s)),{exportImage:function(e,s){var u,c=t.view,d=e.type,f=void 0===d?"png":d,h=l.get(f);if(!h)throw new Error("Export format '"+f+"' not supported");if(h){var p=th(),g=Xh(t,e),v=function(t,e){var n=t.view,r=kh(t.events,t.legacyEvents,n.width(),n.height());r.setMinZoom(.001),r.setMaxZoom(1/0),r.fromSettingsDirect(n.settings(),!1);var i=n.width()/2,o=n.height()/2,a=n.worldCoordinates(i,o),s=a.x,l=a.y;r.width(n.width()*e),r.height(n.height()*e),r.setZoom(n.settings().zoom*e,!1);var u=r.worldToViewX(s),c=r.worldToViewY(l),d=r.width()/2,f=r.height()/2;return r.panBy(-(u-d),-(c-f),!1,!0),r}(t,g),m=r(),y=n(),b={width:v.width(),height:v.height(),backgroundAlpha:m.backgroundAlpha};!function(t,e){switch(e.type){case"svg":case"test":if(t.noAdaptive=!0,e.fonts&&w(e.fonts)){var n={};Object.keys(e.fonts).forEach(function(t){var r=e.fonts[t];"string"==typeof r.src&&(n[t]=r)}),t.fonts=n}}}(b,e);var x=function(t,e){if("export-image"===t.pluginType&&t.name&&"function"==typeof t.load)return t.load(un({},e))}(h,b);if(x)if(function(t,e,n){var r,i,o=[];(null===(r=n.gradient)||void 0===r?void 0:r.stops)&&(o=function(t){return t.stops.sort(function(t,e){return t.r-e.r}).map(function(t){return un({offset:t.r},Te(t.c))})}(n.gradient)),t.drawPrimitive(o.length>1?{type:le.rect,x1:0,y1:0,x2:e.width,y2:e.height,stroke:void 0,fill:{type:"gradient",direction:{start:{x:0,y:0},end:{x:0,y:e.height}},stops:o}}:{type:le.rect,x1:0,y1:0,x2:e.width,y2:e.height,stroke:void 0,fill:un({type:"solid"},Te((i=n.backColour,null!=i?i:"white")))})}(x,b,m),o()){var C=i(),A=null===(u=a())||void 0===u?void 0:u.api.leafletMap();if(!C||!A)throw new Error("Unable to Export");uh(A,C,!1,p,function(t){(function(t,e,n,r,i){var o=e.settings().zoom/t.settings().zoom,a=0-r.minX,s=0-r.minY,l=r.minX*o,u=r.minY*o;r.tiles.forEach(function(t,e){var r;if(sh(e)){var c=n.get(e.src);if(c.isMissing)return;r=c.im}else{if(!lh(e))return;r=e}var d=(t.x-a)*o-l,f=(t.y-s)*o-u;i.drawPrimitive({type:le.image,src:{type:"html",el:r},specifier:null,x1:d,y1:f,x2:d+t.width*o,y2:f+t.height*o,alpha:1})})})(c,v,p,t,x),Er(y,v,m,!1,!1,m.backgroundAlpha,m.ghostAlpha,!0,void 0,x,g,b.noAdaptive),x.finish(s)})}else Er(y,v,m,!1,!1,m.backgroundAlpha,m.ghostAlpha,!0,void 0,x,g,b.noAdaptive),x.finish(s)}}}}function Kh(t){return w(t)}function Jh(){throw new Error("Chart has been destroyed")}function Qh(t,e,r,i,o){var s=Ih(),l=An(),u=r.privateGetElement(),c=function(){var t=new Map;return{clear:function(){t.clear()},getImage:function(e){return t.get(e)},updateAlignmentRecords:function(e){Kh(e)&&Object.keys(e).forEach(function(n){var r=e[n];if(Kh(r)){var i=function(t){var e=1,n=0,r=0;return"e"in t&&m(t.e)&&t.e>0&&(e=t.e),"dx"in t&&m(t.dx)&&(n=ut(t.dx,-50,50)),"dy"in t&&m(t.dy)&&(r=ut(t.dy,-50,50)),{e:e,dx:n,dy:r}}(r),o=parseInt(n,10);if(m(o)){var a=String.fromCharCode(o);t.set(a,i)}else t.set(n,i);e[n]=i}})}}}(),d=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},f={animateProperties:function(t,e,n){N(t,e,n)},arrange:function(t,e,n,r){var i=function(t){var e=t||{};return e.tightness=rt(e),T(e,{fit:!1,animate:!0,tidy:!1,ratio:nt(),tightness:5})}(n);C.arrange(t||"grid",e,i,r)},bind:l.bind,clear:function(){l.trigger("prechange","delete"),s.fire("prechange",{type:"delete"}),C.load({type:"LinkChart",items:[],map:{keepSameMode:!0}},function(){C.render()})},combo:function(){return C.combo.api},contains:function(t){return y?y.contains(t):[]},createLink:function(t,e,n,r){var i=h.getItem(t);if(h.getItem(e))throw new Error("LinkId ("+e+") already exists and must be unique");if(t&&i&&"node"===i.type&&e){var o=B(e),a=T(n,{style:{}});s.privateOn("drag-end",function t(e){var n=e.id;"create-link"===e.type&&(h.removeItem(l),s.privateOff("drag-end",t),M(r,n===o?null:n))});var l="dummyEnd"+Math.floor(1e7*Math.random()),u={type:"node",du:!0,id:l,x:i.x,y:i.y},c=g.worldToViewX(i.x),d=g.worldToViewY(i.y),f=H(a.style,{id:o,id1:t,id2:l,type:"link",_du:!0});h.merge([u,f],function(){}),C.createNewLinkEndDragger(o,l+"\u2704id2",{x:c,y:d,dragging:{startX:c,startY:d,started:!0}})}},destroy:function(){h.setContainer(null),C.isMapMode()&&(b.api.leafletMap().remove(),C.setOverlayContext(null)),L.destroy(),C.destroy(),O(),ee={},ne={},on={},an={},De(),o.destroy(),y.destroy(),j(p.map()),j(p.combo()),j(p),c.clear(),C=null,g=null,v=null,y=null,w=null,l=null,s=null,C=null,A=null,h=null},each:function(t,e){var n=T(t,{type:"all",items:"underlying"});return A.each(n,!1,e)},expand:function(t,e,n){var r=e;function i(t){return function(e,n){if(d.filter&&Y(e)){var r=a(d.filter);return r.animate=t,h.filter(function(t){var n=t;return e[n.id]?d.filter.filterFn(n):!n.hi},r,n)}return n()}}function o(t,e,n){d.arrange.animate=e,h.combo().arrange(t,d.arrange,n)}var u=["adaptive","nonadjacent","adjacent","none","all"],c=["adaptive","rectangle","circle","none"],d=T(r=r||{},{animate:!0,time:1e3,layout:{},arrange:{}});d.filter=function(t,e){var n;if(t.filter&&x(t.filter.filterFn)){var r=t.filter.filterFn;return(n=J(t.filter)).time=Math.floor(e.time/5),n.filterFn=r,n}}(r,d),d.filter&&(d.time-=d.filter.time),d.layout=function(t){t.layout.animate=t.animate,t.layout.time=t.time,t.layout=T(t.layout,{fit:t.fit,straighten:t.straighten,tidy:t.tidy,tightness:t.tightness});var e=T(t.layout,{absoluteFixed:!1,consistent:!0,easing:"cubic",expanding:!0,fit:!1,fix:"adaptive",name:"standard",packing:"adaptive",pinToFirstFixed:!1,tidy:!0});return e.fix=function(t){return u.indexOf(t)>=0?t:u[0]}(e.fix),"adaptive"!==e.fix&&(e.absoluteFixed=!0),"organic"===e.name&&"adaptive"===e.fix&&(e.mode="adaptive",e.fix="none"),V(t.layout.packing)?!1===e.tidy&&(e.packing="none"):e.packing=function(t){return c.indexOf(t)>=0?t:c[0]}(e.packing),it(e)}(d),d.arrange=function(t){return t.arrange.animate=t.animate,t.arrange.time=t.time,t.arrange.easing=t.layout.easing,t.filter&&(t.arrange.updateGlyph=t.filter.updateGlyph),T(t.arrange,{name:"lens",resize:!0,updateGlyph:!0})}(d),l.trigger("prechange","expand"),s.fire("prechange",{type:"expand"}),st(S(k(t)),i(!1),i(d.animate),function(t,e,r){var i=!1;if(d.animate)for(var a=0;a<t.open.length;a++)if(h.privateItemIsShown(t.open[a])){i=!0;break}var s=t.open.concat(t.closed);e?i?function(t,e){d.layout.fixed=e,C.arrangeAndLayout(t,d,n)}(s,r):o(s,!1,function(){!function(t){d.layout.fixed=t,h.layout(d.layout.name,d.layout,n)}(r)}):o(s,i,n)},d)},export:function(t,e){var n=T(t,{type:"png",fitTo:{}});h.update(),I.exportImage(n,e)},filter:function(t,e,n){var r=J(e);A.filter(t,r,n)},foreground:function(t,e,n){K(e);var r=T(e,{type:"node",items:"underlying",foregroundOpenCombos:!0});A.foreground(t,r,n)},getItem:function(t){return Array.isArray(t)?t.map(y.getItem):y?y.getItem(t):null},getItemInfoAt:function(t,e){var n=C.hittest(t,e);if(n){var r=Z(n),i=z(n);return{id:B(n),subItem:r?cf(i,r):{}}}},graph:function(){return y.graph()},hide:function(t,e,n){if(V(t)||""===t)M(n);else{l.trigger("prechange","hide"),s.fire("prechange",{type:"hide"});var r=S(t),i=F(e);i=T(i,{updateGlyph:!0});var o=C.combo.internalUse.hide(r,i);C.hide(o,i,n)}},labelPosition:function(t){return y?C.labelPosition(t,g):null},layout:function(t,e,n){if(P()||b&&b.internalUse.isTransitioning())M(n);else{var r=it(e);C.layout(t||"standard",r,n)}},load:function(t,n){switch(t&&t.type){case"LinkChart":if(b&&b.internalUse.isTransitioning())throw new Error("Cannot load chart during map show or hide operation");y=Nf(h,s,l,v,e),_.model=y,C.setServices(_),C.load(t,function(){C.initOverlays(),e.invokeWhenImagesHaveLoaded(n)});break;default:throw new Error("Unknown chart type passed to load")}},lock:function(t,e){return C.lock(t,e)},map:function(){return b.api},merge:function(t,n){D(t,{updateGlyph:!0}),C.render(),e.invokeWhenImagesHaveLoaded(n)},off:s.off,on:s.on,options:tt,pan:function(t,e,n){var r=F(e);"selection"!==t||P()?C.pan(t,r.animate,r.time,n):C.fitToSelection(r.animate,r.time,void 0,n,!0)},ping:function(t,e,n){var r=T(e,{c:"#909090",w:20,r:80,time:800,repeat:1,lw:40});C.ping(t,r,n)},removeItem:function(t){l.trigger("prechange","delete"),s.fire("prechange",{type:"delete"}),C.removeItem(t),C.render()},selection:function(t){var e=V(t)?t:S(t),n=y?y.doSelection(e):[];return e&&C.render(),n},serialize:function(){var t=y.serialize();C.appendCombos(t);var e=b.internalUse.serialize();return e&&(t.map=e),t.viewSettings=g.settings(),t},setContainer:function(t){var e=vn(t);r.privateSetContainer(e),C.setContainer(e)},setItem:function(t,n){t&&(l.trigger("prechange","properties"),s.fire("prechange",{type:"properties"}),C.setItem(t),C.render(),e.invokeWhenImagesHaveLoaded(n))},setProperties:function(t,n,r){if(void 0===n&&(n=!1),t){var i={};C.setProperties(t,n,!1,i),C.render(i)}e.invokeWhenImagesHaveLoaded(r)},show:function(t,e,n,r){if(V(t)||""===t)M(r);else{l.trigger("prechange","show"),s.fire("prechange",{type:"show"});var i=S(t),o=F(n);o=T(o,{updateGlyph:!0});var a=C.combo.internalUse.show(i);C.show(a,!!e,o,r);var u=[];a.forEach(function(t){var e=h.privateGetItem(t);return"node"===e.type&&(e._combo&&u.push(e.id),e.parentId&&u.push(e.parentId)),!1}),C.combo.internalUse.ensureMinimumOpenComboSize(u)}},toDataURL:function(t,n,r,i){var o,a,s;if(!i)throw new Error("[toDataURL] callback is required");C.isMapMode()?(o=g.width(),a=g.height()):(o=Math.floor(t),a=Math.floor(n));var l=g.settings();o=o>0?o:l.width,a=a>0?a:l.height;var u=T(r,{fit:"exact",watermark:!0,gradient:!0,logo:!0});if(P()&&(u.fit="exact"),"oneToOne"===u.fit){(s=C.modelExtents())||(s={x1:0,y1:0,x2:100,y2:100}),s.x1-=10,s.y1-=10,s.x2+=10,s.y2+=10;var d=C.watermarkSize();if(d&&u.watermark){var f=(d.width-(s.x2-s.x1))/2;f>0&&(s.x1-=f,s.x2+=f);var p=(d.height-(s.y2-s.y1))/2;p>0&&(s.y1-=p,s.y2+=p)}o=s.x2-s.x1,a=s.y2-s.y1,u.noScale=!0}function v(t){o=Math.floor(o/t),a=Math.floor(a/t)}var m=o*a/16e6;m>1&&v(Math.sqrt(m));var x=o/8e3;x>1&&v(x);var w=a/8e3;w>1&&v(w);var A=E(o,a,!0),_=u.noScale?1:o/g.width(),k=Ih(),S=An(),I=kh(k,S,Math.floor(o/_),Math.floor(a/_),_,b),L=Sh(k,S,null,e),O=Wf(h,k,S,L,null,e,null,y,I,c),R={model:y,controller:O,view:I,events:k,legacyEvents:S,overlays:L,imageManager:e};O.setCreateCanvasFn(E),O.setServices(R),O.setView(I),O.setCanvasContext(A.getContext("2d")),O.setShadowCanvas(null),O.imageGenFn(C.imageGenFn()),function(){var t=C.options();t.overview={shown:!1},u.watermark||(t.watermark=void 0),u.gradient||(t.gradient=void 0),u.logo||(t.logo=void 0),O.options(t),O.backgroundOpacity(C.backgroundOpacity());var n=O.makeBackgroundCanvas(o,a),r=[];switch(u.selection||(r=y.doSelection(),y.doSelection([])),u.fit){case"chart":O.fitToModel(!1);break;case"view":I.fromOldSettings(g.settings(),!0,!1);break;case"exact":I.fromOldSettings(g.settings(),!1,!1);break;case"oneToOne":I.fitWorldExtents(s,!1,!1,!1,!1,0)}I.scaleFactor(_),O.initOverlays(),O.draw(!0,{all:!0}),e.waitForImages(function(){var t;O.draw(!0,{all:!0});try{t=A.toDataURL()}catch(t){throw new Error("[toDataURL] There is a problem exporting the chart."+t)}finally{if("rtl"===A.dir){var e=document.getElementsByTagName("body")[0];e.removeChild(A),e.removeChild(n)}}if(u.selection||y.doSelection(r),y.setAllDirty(),P()){var o=C.getChartCanvas();b.internalUse.toDataURL(E,A,o,C.drawBackground,i)}else M(i,t)})}()},unbind:l.unbind,viewCoordinates:q,viewOptions:$,worldCoordinates:Q,zoom:et},h=un(un({_leafletEventHandlers:null,applyRevealedLinkOffsets:function(t){y&&y.applyRevealedLinkOffsets(t)},cancelAnimation:function(){C.cancelAnimation()},privateCanvasApi:r,chartType:function(){return y.type()},displayOptions:tt,getExtents:function(t){return C.itemExtents(U(t))},getLastError:function(){return l.getErrors()},ggwp:function(){return C.getWebGLPixels()},hidden:function(){return y.hidden()},interactionOptions:tt,privateAddItemsToTransfer:function(t){y.addItemsToTransfer(t)},privateAllParentsOpen:function(t,e){return void 0===e&&(e=!1),null!==y&&y.allParentsOpen(t,e)},privateAnimateBackgroundOpacity:function(t,e,n){var r=T(e,{time:500});C.animateBackgroundOpacity(W(t),r.time,n)},privateAnimateProperties:function(t,e,n,r,i){N(t,e,n,!0,r,i)},privateBothEndsForeground:function(t){return y.bothEndsForeground(t)},privateBothEndsShown:function(t){return y.bothEndsShown(t)},privateEach:function(t,e){var n=T(t,{type:"all",items:"underlying"});return A.each(n,!0,e)},privateFirstVisibleItemInAncestry:function(t){return y?y.firstVisibleItemInAncestry(t):null},privateGetAncestryIds:function(t){return y.getAncestryIds(t,!1)},privateGetCanvas:function(){return C.getCanvasContext()},privateGetGenerator:function(){return v},privateGetItem:z,privateGetLinksBetween:function(t,e){return y.privateGetLinksBetween(t,e)},privateGetMapContainer:function(){return b.internalUse.getMapContainer()},privateGetMaxLabelLength:function(){return po(tt().truncateLabels)},privateGetParentItems:function(t){return y.getParentItems(t)},privateGetRawItems:function(){return y?y.getRawItems():[]},privateGetTopItemId:function(t){return y.topParentId(t)},privateGraph:function(){return y.graph()},privateHideWithoutCombos:function(t,e,n){l.trigger("prechange","hide"),s.fire("prechange",{type:"hide"});var r=S(t),i=F(e);C.hide(r,i,n)},privateInit:function(t,e,n,r,i,o,a){E=r,C.setCursorFn(i),C.setCreateCanvasFn(r),C.imageGenFn(o),C.setStartGameLoopFn(a),R(t,e,n,!1)},privateIsLayingOut:d,privateItemIsShown:function(t){return!!y&&y.isItemShown(t)},privateMapSetSize:function(t,e){b.internalUse.setSize(t,e)},privateMerge:function(t){var e=t;b&&b.api.isShown()&&(e=b.internalUse.preMerge(e)),y.merge(e),C.render()},privateNeighbourLinkIds:function(t){return y.neighbourLinkIds(t)},privateRedrawItem:function(t){y&&y.setDirty(t)},privateRemoveItem:function(t){y.removeItem(t),C.render()},privateRemoveItemsFromTransfer:function(t){y.removeItemsFromTransfer(t)},privateReveal:function(t){var e=t;if(e){e=S(e);var n=h.privateGetItem(e).filter(function(t){return t&&"link"===t.type&&!t._combo});y.reveal(X(n),!0),s.privateFire("redraw",{all:!0})}return y.getRevealedLinks()},privateSetAllDirty:function(){C.render(),y.setAllDirty()},privateSetAllItemsInComboDirty:function(t){h.privateGetItem(t).forEach(function(t){t&&(h.privateRedrawItem(t.id),t._combo&&(h.privateSetAllItemsInComboDirty(t._combo.linkIds),t._combo.nodeIds&&h.privateSetAllItemsInComboDirty(t._combo.nodeIds)))})},privateSetBackgroundOpacity:function(t){C.backgroundOpacity(W(t))},privateSetNonImageProperties:function(t,e){void 0===e&&(e=!1);var n={};y.setProperties(t,!1,n,e),C.render(n)},privateSetRemoveComponentReference:function(t){O=t},privateSetSize:R,privateShowWithoutCombos:function(t,e,n,r){l.trigger("prechange","show"),s.fire("prechange",{type:"show"});var i=S(t),o=F(n);C.show(i,e,o,r)},privateTopParentId:function(t){return y?y.topParentId(t):t},privateUseAutoSizing:function(){return!h.map().isShown()},privateValidateLayoutOptions:it,validateCombos:function(){y.validateCombos()},viewCoordinates:q,viewOptions:$,worldCoordinates:Q,zoom:et,allowDraw:d,redraw:d,update:d,privateOn:s.privateOn,privateOff:s.privateOff,privateFire:s.privateFire},f),l),p=un({},f),g=kh(s,l,100,100,1),v=Eo(h,o,c),y=Nf(h,s,l,v,e),b=function(t,e,r){var i={animate:!0,time:800,tiles:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.png",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.',subdomains:"abcd",minZoom:0,maxZoom:20},transition:"restore",padding:5},o="#ddd",s=Eh(t,i),l=function(t){var e,n,r;function i(){e={},n=[],r={}}function o(t){var n=t.id;delete r[n],delete e[n],at(t)?r[n]={id:n,x:t.x||0,y:t.y||0}:t.hi||(e[n]=!0)}return i(),{anyOpenCombos:function(){return n&&n.length>0},clearState:i,getPositions:function(){return r},getOpenCombos:function(){return n},getHiddenOnMapIds:function(){return Object.keys(e)},isHiddenOnMap:function(t){return e[t]},setHiddenOnMap:function(t,n){e[t]=n},deserialize:function(t){e=a(t.hiddenOnMap)||{},n=a(t.openCombos)||[],r=a(t.positions)||{}},serialize:function(){return{hiddenOnMap:a(e),openCombos:a(n),positions:a(r)}},recordLinkState:function(n){if("link"===n.type&&!n.hi){var r=t.getItem(n.id1),i=t.getItem(n.id2);r&&i&&at(r)&&at(i)||(e[n.id]=!0)}},recordNodeState:o,recordState:function(){i(),t.privateEach({type:"node",items:"all"},function(t){t._combo&&t._combo.open&&n.push(t.id),t.parentId||o(t)}),t.privateEach({type:"link",items:"toplevel"},function(t){t.hi||!e[t.id1]&&!e[t.id2]||(e[t.id]=!0)})}}}(t),u=Mh(t,e,r,s,l,i),c=u.isLeafletLoaded();function d(){throw new Error("Leaflet was not found. Make sure you include leaflet.js and leaflet.css in your web page.")}function f(t){return c?t:d}function h(t){if("node"===t.type)if(l.recordNodeState(t),at(t)){var e=u.latLngToWorldCoordinates(t);t.x=e.x,t.y=e.y}else t.hi||(t.hi=!0)}return{api:{show:f(u.showMap),hide:f(u.hideMap),viewCoordinates:f(function(t,e){var n=u.getLeafletMap().latLngToContainerPoint([t,e]);return{x:n.x,y:n.y}}),mapCoordinates:f(function(t,e){var n=u.getLeafletMap().containerPointToLatLng([t,e]);return{lat:n.lat,lng:n.lng}}),isShown:function(){return u&&u.isShown()},leafletMap:u.getLeafletMap,options:f(function(t,e){return t&&(n(t,function(t,e){switch(e){case"padding":case"time":m(t)&&(i[e]=t);break;default:i[e]=t}}),"tiles"in t&&u?u.changeTilesLayer(e):M(e)),a(i)})},internalUse:{convertPos:u.convertPos,enableDragging:u.enableDragging,getDefaultBackgroundColour:function(){return o},getMapContainer:u.getMapContainer,getMaxZoom:s.getMaxZoom,getMinZoom:s.getMinZoom,getZoom:s.getZoom,isMapLoaded:u.isMapLoaded,isTransitioning:u.isTransitioning,loadUp:function(t,e){if(c){var n=t||{};n.show?function(t,e){l.deserialize({hiddenOnMap:t.hiddenOnMap,openCombos:t.openCombos,positions:t.restoreXY}),u.isShown()?(s.centerView(t),u.updateNodePositions(e)):u.restoreMapMode(t,e)}(n,e):function(t){u.isShown()?u.restoreNetworkMode(t):M(t)}(e)}else M(e)},lock:u.lockEvents,pan:s.pan,panBy:s.panBy,preMerge:function(e){for(var n=[],r=0;r<e.length;r++){var i=e[r];if("node"===i.type){var o=t.getItem(i.id);if(o){var a=l.getPositions(),s={};l.isHiddenOnMap(i.id)?s.hi=!1:"hi"in o&&(s.hi=o.hi),a[i.id]&&(s.x=a[i.id].x,s.y=a[i.id].y),o.pos&&(s.pos=o.pos),i=H(s,i)}h(i)}"link"===i.type&&l.recordLinkState(i),n.push(i)}return n},preSetItem:h,serialize:function(){if(!c)return null;var t=u.getLeafletMap(),e={show:u.isShown()};if(e.show){var n=t.getCenter();e.lat=n.lat,e.lng=n.lng,e.zoom=t.getZoom(),e.bounds=t.getBounds().toBBoxString();var r=l.serialize();e.hiddenOnMap=r.hiddenOnMap,e.openCombos=r.openCombos,e.restoreXY=r.positions}return e},setBackgroundColour:function(t,e){var n=u.getMapContainer();t?n.style.background=t:e?qe(n,e.stops,1):n.style.background=o},setDependencies:u.setDependencies,setHandMode:u.setHandMode,setSize:u.setSize,setView:u.setView,setZoom:s.setZoom,toDataURL:function(t,e,n,r,i){return function(t,e,n,r,i,o){var a=e(n.width,n.height),s=a.getContext("2d"),l=th();i(s,!0),uh(t,r,!0,l,function(t){var e;t.tiles.forEach(function(t,e){var i=e;if(sh(e)){var o=l.get(e.src);i=o.isMissing?null:o.im}else i===r&&(i=n);i&&s.drawImage(i,Math.floor(t.x),Math.floor(t.y),t.width*t.scale,t.height*t.scale)});try{e=a.toDataURL()}catch(t){throw new Error("[toDataURL] Error exporting chart."+t)}finally{M(o,e)}})}(u.getLeafletMap(),t,e,n,r,i)},zoom:s.zoom}}}(h,s,l),w=Sh(s,l,b,e),C=Wf(h,s,l,w,b,e,i,y,g,c),A=function(t,e,n){var r=null,i=null,o=null,s=null;function l(t,e,l){if(!t.type||!t.type.match(/^(node|link|all)$/))throw new TypeError("options type property should be either 'node', 'link' or 'all'");if(!t.items||!t.items.match(/^(underlying|toplevel|all)$/))throw new TypeError("options items property should be either 'underlying', 'toplevel' or 'all'");if(r||(i=n.privateGetRawItems(),o=i,e?s=i:(r=a(i,"d"),s=r)),x(l))for(var d=0;d<o.length;d++){var f=o[d];u(t.type,f)&&c(t.items,f)&&l(s[d])}}function u(t,e){return"all"===t||t===e.type}function c(t,e){var n;switch(t){case"toplevel":n=!e.parentId;break;case"all":n=!0;break;case"underlying":default:n=!e._combo}return n}function d(t,e,n,r,i,o,a){var s={},u={all:{}};u[n]={nodes:[],links:[]},u[r]={nodes:[],links:[]},u.all[n]={nodes:[],links:[]},u.all[r]={nodes:[],links:[]};var c=function(){var t={all:[],nodes:[],links:[]};return l({type:"all",items:a?"underlying":"toplevel"},!1,function(e){t.all.push(e),"node"===e.type?t.nodes.push(e):t.links.push(e)}),t}();return function(e){("node"===i?e.nodes:"link"===i?e.links:e.all).forEach(function(e){t(e)&&(s[e.id]=!0)})}(c),function(t){"link"===i&&(o?function(t,e){e.forEach(function(e){t[e.id]&&(t[e.id1]=!0,t[e.id2]=!0)})}(s,t.links):t.nodes.forEach(function(t){s[t.id]=!0}))}(c),function(t){"node"===i&&function(t,e){e.forEach(function(e){t[e.id]=!(!t[e.id1]||!t[e.id2])})}(s,t.links)}(c),function(t){"all"===i&&"bg"!==e&&t.links.forEach(function(t){s[t.id]=!(!s[t.id1]||!s[t.id2]||!s[t.id])})}(c),function(t){if("link"!==i&&o){var e={};t.links.forEach(function(t){e[t.id1]=e[t.id1]||s[t.id]&&s[t.id2],e[t.id2]=e[t.id2]||s[t.id]&&s[t.id1]}),t.nodes.forEach(function(t){s[t.id]=s[t.id]&&e[t.id]})}}(c),c.all.forEach(function(t){var i="node"===t.type?"nodes":"links",o=s[t.id]?n:r;!s[t.id]==!t[e]&&u[o][i].push(t.id),u.all[o][i].push(t.id)}),u}return e.privateOn("redraw",function(){r=null,i=null}),{each:l,filter:function(e,r,i){var o=d(e,"hi","shown","hidden",r.type,r.hideSingletons,"underlying"===r.items),s=o.shown.nodes.concat(o.shown.links),l=o.hidden.nodes.concat(o.hidden.links),u=t.combo.internalUse.filter(s,l,o,r);function c(){M(i,a({shown:o.shown,hidden:o.hidden,combos:o.combos},!0))}s=u.toShow,(l=u.toHide).length>0?s.length>0?(r.time/=2,n.privateHideWithoutCombos(l,r,function(){n.privateShowWithoutCombos(s,!1,r,c)})):n.privateHideWithoutCombos(l,r,c):s.length>0?n.privateShowWithoutCombos(s,!1,r,c):c()},foreground:function(e,r,i){var o=d(e,"bg","foreground","background",r.type,"link"===r.type,"underlying"===r.items),s=o.foreground.nodes.concat(o.foreground.links),l=o.background.nodes.concat(o.background.links),u=t.combo.internalUse.foreground(s,l,o,r),c=u.toHide.map(function(t){return{id:t,bg:!0}}),f=u.toShow.map(function(t){return{id:t,bg:!1}});n.setProperties(c.concat(f)),M(i,a({foreground:o.foreground,background:o.background},!0))}}}(C,s,h),_={model:y,controller:C,overlays:w,view:kh(s,l,100,100,1,b),events:s,legacyEvents:l,imageManager:e};C.setServices(_),b.internalUse.setDependencies(_);var E,I=Hh(_),L=new Ch(u,function(t){return"pointermove"===t.pointerEvent.type?null:C.hittest(t.x,t.y)});!function(t,e){var n=e.controller.lock;function r(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return!n()&&t.apply(void 0,e)}}var i,o=!0;t.on("pointerdown",r(function(t){o=!0,ff(t,e)})),t.on("contextmenu",r(function(t){o=df(t,e)})),t.on("pointerup",r(function(t){hf(t,e)})),t.on("pointermove",r(function(t){yf(t,e)})),t.on("pointercancel",function(){e.controller.stopDrag(!1)}),t.on("click",r(function(t){o&&bf(t,e)})),t.on("doubleclick",r(function(t){xf(t,e)})),t.on("dragstart",r(function(t){kf(t,e)})),t.on("dragmove",r(function(t){Pf(t,e)})),t.on("dragend",r(function(t){Sf(t,e)})),t.on("wheel",r(function(t){If(t,e)})),t.on("keydown",r(function(t){Tf(t,e)})),t.on("keyup",r(function(t){Lf(t,e)})),t.on("gesturestart",function(t){i=function(t,e){var n=e.view.zoom;return(0,e.controller.stopDrag)(!1),n()}(0,e)}),t.on("gesturechange",r(function(t){!function(t,e,n){var r=e.view,i=r.panBy,o=e.controller.render;if(e.view&&t.gesture){var a=t.gesture,s=a.dx,l=a.dy;2===t.pointers.length&&(0,r.zoomToPosition)(a.scale*n,a.centreX,a.centreY),i(s,l,!1),o({drawOnly:!0})}}(t,e,i)})),t.on("gestureend",function(t){})}(L,_);var O=function(){};function R(t,e,n,r){var i=E(e,n,!1);C.makeBackgroundCanvas(e,n);var o=g;g=kh(s,l,e,n,1,b),_.view=g,C.setView(g),C.setCanvasContext(t),C.setShadowCanvas(i.getContext("2d")),De(),o&&(g.setMinZoom(o.getMinZoom()),g.setMaxItemZoom(o.getMaxItemZoom()),g.fromOldSettings(o.settings(),!1,r)),b.internalUse.setView(g),C.initOverlays()}function P(){return b&&b.api.isShown()}function F(t){return T(!0===t?{animate:!0}:t,{animate:!1,time:1e3})}function D(t,e){if(V(t))throw new Error("Null or undefined object passed to merge");var n=k(t);C.merge(n,e)}function G(t,e){var n=y.getByID(t);return!n||!e&&n.parentId?null:n}function z(t){return function(t,e){return y?Array.isArray(t)?t.map(function(t){return G(t,true)}):G(t,true):null}(t)}function j(t){Object.keys(t).forEach(function(e){t[e]=Jh})}function N(t,e,n,r,i,o){var a=T(e,{time:1e3,easing:"linear",queue:!0});(a.time<0||!m(a.time))&&(a.time=0);var s=S(t);C.animateProperties(s,a,n,r,i,o)}function W(t){return"number"==typeof t?Math.min(Math.max(0,t),1):t?1:0}function K(t){t&&"boolean"==typeof t.combos&&!t.items&&(t.items=t.combos?"underlying":"toplevel")}function J(t){K(t);var e=T(t,{type:"all",items:"underlying",animate:!0,time:1e3,updateGlyph:!0});return T(e,{hideSingletons:"link"===e.type})}function Q(t,e){var n=g.worldCoordinates(t,e),r=n.y;return{x:Math.floor(n.x),y:Math.floor(r)}}function q(t,e){return{x:g.worldToViewX(t),y:g.worldToViewY(e)}}function $(t,e,n){if(!t)return g.settings();var r=F(e),i=T(t,{offsetX:0,offsetY:0,zoom:1});C.setViewSettings(i,r.animate,r.time,function(){C.render({drawOnly:!0}),M(n)})}function tt(t,e){return C.options(t,e)}function et(t,e,n){var r=F(e);switch(t){case"in":C.zoomIn(r.animate,r.time,n);break;case"out":C.zoomOut(r.animate,r.time,n);break;case"one":C.setZoom(1,r.animate,r.time,n);break;case"fit":r.extents?C.fitExtents(r.animate,r.time,r.extents,n):C.fitToModel(r.animate,r.time,r.ids,n);break;case"selection":C.fitToSelection(r.animate,r.time,void 0,n);break;case"height":C.fitModelHeight(r.animate,r.time,r.ids,n)}}function nt(){var t=h.viewOptions();return t.height>0?t.width/t.height:1}function rt(t){return V(t.tightness)?5:+t.tightness}function it(t){var e=t||{};return e.tightness=rt(e),T(e,{fit:!0,animate:!0,expanding:!1,tidy:!0,ratio:nt(),pinToFirstFixed:!0,tightness:5,straighten:!0,absoluteFixed:!1})}function ot(t){return!0!==t.hi}function st(t,e,r,i,o){var s=o.layout.fix,l=!o.filter||o.filter.updateGlyph,u=a(t);function c(t,e){h.privateEach({type:"link",items:"toplevel"},function(n){if(!t[n.id1]||!t[n.id2]){var r=t[n.id1]||t[n.id2],i=t[n.id1]?n.id2:n.id1;r&&i&&(e[i]||(e[i]={x:0,y:0,_counter:0,id:i}),e[i].x+=r.x,e[i].y+=r.y,e[i]._counter++)}});var r=0;return n(e,function(e){t[e.id]||(e.x/=e._counter,e.y/=e._counter,t[e.id]=e,r++)}),r}function d(){var t=[],e=[],n={};return y.each({type:"all"},function(r){"node"===r.type?t.push(r):"link"===r.type&&e.push(r),n[r.id]=r}),{nodes:t,links:e,allItems:n}}function f(t){if("adaptive"!==s)return null;var e=uu(t.nodes.filter(ot),t.links.filter(ot));return{parts:Is.connectedComponents(e.staticGraph),labels:e.vertexMap}}function p(){var t=0;return h.privateEach({items:"toplevel"},function(){t++}),t}var g={};u=function(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r];V(i)||n[i.id]||(n[i.id]=!0,g[i.id]={x:i.x,y:i.y},delete i.x,delete i.y,e.push(i))}return e}(u);var v=function(){var t={open:[],closed:[]};return u.forEach(function(e){var n=e;"node"===n.type&&n.parentId&&(h.combo().isOpen(n.parentId)?t.open.push(n.parentId):t.closed.push(n.parentId))}),t}(),m=d(),b=f(m),x=p();D(u,{updateGlyph:l});var w=f(d()),C=function(t){var e={dict:{},touched:{}},n="adjacent"===s||"nonadjacent"===s||"adaptive"===s;return u.forEach(function(r){var i=r;if(e.dict[i.id]=i,n&&"link"===i.type){var o=h.privateTopParentId(i.id);if(!t[o]){var a=h.privateTopParentId(i.id1);a&&t[a]&&(e.touched[a]=!0);var s=h.privateTopParentId(i.id2);s&&t[s]&&(e.touched[s]=!0)}}}),e}(m.allItems),A=C.dict;b&&w&&su.findAdaptiveGroups(b,w).forEach(function(t){C.touched[t]=!0});var _=function(t,e){switch(s){case"all":return t;case"adjacent":return Object.keys(e);case"adaptive":case"nonadjacent":return t.filter(function(t){return!e[t]});case"none":default:return[]}}(m.nodes.map(function(t){return t.id}),C.touched);e(A,function(){(function(t,e){if(!P()){for(var r,i={},o=[];0!==r;)r=c(e,i);t.forEach(function(t){var e=t;"node"!==e.type||i[e.id]||(e.x=g[e.id].x,e.y=g[e.id].y)}),n(i,function(t){o.push(t)}),h.setProperties(o)}})(u,m.allItems),r(m.allItems,function(){i(v,p()!==x,_)})})}h.privateIsLayingOut=C.isLayingOut;var lt=mn(function(t,e,n){t&&(C.draw(e,n),C.drawoffscreen(),function(t){t.all=!1,t.colours=!1,t.textures=!1,t.positions=!1,t.shadow=!1}(n)),C.handlePointerMove(t),t&&C.afterDraw()},C.animate,C.getCanvasContext);return H(h,lt),s.privateOn("redraw",lt.redraw),{public:p,internal:{api:h}}}var qh={};function $h(t,e){for(var n=["webgl","experimental-webgl"],r=null,i=0;i<n.length;i++){try{r=t.getContext(n[i],e)}catch(t){}if(r)break}return r}function tp(t){return $h(document.createElement("canvas"),t)}function ep(t,e,n){var r=function(t,e){for(var n=t.createProgram(),r=0;r<e.length;++r)t.attachShader(n,e[r]);if(t.linkProgram(n),!t.getProgramParameter(n,t.LINK_STATUS)){var i=t.getProgramInfoLog(n);throw t.deleteProgram(n),new Error("Error in program linking:"+i)}return n}(t,[e,n]);return r.vertexShader=e,r.fragmentShader=n,r}function np(t,e){t.useProgram(e),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null)}function rp(t,e,n){var r=t.createShader(n),i=atob(qh[e]);if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(r);throw t.deleteShader(r),new Error("Error in shader: "+o)}return r}qh["line-arc-vertex"]="cHJlY2lzaW9uIGhpZ2hwIGZsb2F0O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247YXR0cmlidXRlIGZsb2F0IGFfcmFkaXVzO2F0dHJpYnV0ZSBmbG9hdCBhX3N0YXJ0QW5nbGU7YXR0cmlidXRlIGZsb2F0IGFfZW5kQW5nbGU7YXR0cmlidXRlIGZsb2F0IGFfd2lkdGg7YXR0cmlidXRlIHZlYzQgYV9jb2xvdXI7YXR0cmlidXRlIHZlYzQgYV9jb2xvdXIyO2F0dHJpYnV0ZSB2ZWMzIGFfaGl0VGVzdENvbG91cjthdHRyaWJ1dGUgZmxvYXQgYV9saW5lVHlwZTthdHRyaWJ1dGUgdmVjMyBhX2NvcmU7dW5pZm9ybSBmbG9hdCB1X2hpdFRlc3Q7dW5pZm9ybSBmbG9hdCB1X3pvb207dW5pZm9ybSB2ZWMzIHVfcmVzb2x1dGlvbjt1bmlmb3JtIG1hdDQgdV90cmFuc2Zvcm07dW5pZm9ybSBmbG9hdCB1X3RpbWU7dW5pZm9ybSBib29sIHVfYWRhcHRpdmVTdHlsaW5nO3ZhcnlpbmcgdmVjNCB2X2NvbG91cjt2YXJ5aW5nIHZlYzQgdl9jb2xvdXIyO3ZhcnlpbmcgdmVjNCB2X2NvcmU7dmFyeWluZyB2ZWM0IHZfbGluZURhdGE7dmFyeWluZyB2ZWMzIHZfaGl0VGVzdENvbG91cjt2YXJ5aW5nIHZlYzQgdl9iYXJ5Y2VudHJpYzt2YXJ5aW5nIHZlYzQgdl9wb3NpdGlvbjt2YXJ5aW5nIHZlYzMgdl9kYXNoaW5nO2Zsb2F0IGE9My4xNDE1OTI2NTM1OTtpbnQgYj0yO2ludCBjPTM7aW50IGQ9NDtpbnQgZT01O2Zsb2F0IGY9MTUuMDtjb25zdCBmbG9hdCBnPTQuMDtjb25zdCBmbG9hdCBoPWctMC41O2Zsb2F0IGk9MC4wMDAxO2ludCBqKGZsb2F0IGEpe3JldHVybiBpbnQoZmxvb3IoYSswLjUpKTt9ZmxvYXQgayhmbG9hdCBsLGZsb2F0IG0sZmxvYXQgbil7ZmxvYXQgbz1tYXgobi1sLDAuMCk7ZmxvYXQgcD1tYXgoaSxtLWwpO3JldHVybiBtaW4oMS4wLG8vcCk7fWZsb2F0IHEoKXtpZih1X3pvb20+MC4xNSl7cmV0dXJuIG1peCgwLjc1LDEuMCxrKDAuMTUsMC4yLHVfem9vbSkpO31pZih1X3pvb20+MC4wOCl7cmV0dXJuIG1peCgwLjQsMC43NSxrKDAuMDgsMC4xNSx1X3pvb20pKTt9cmV0dXJuIG1peCgwLjIsMC40LGsoMC4wMSwwLjA4LHVfem9vbSkpO312ZWMyIHIodmVjMiBzLGZsb2F0IHQsZmxvYXQgdSxmbG9hdCB2LGZsb2F0IHcpe3JldHVybiB2ZWMyKHMueCsodCpjb3ModSt2KncpKSxzLnkrKHQqc2luKHUrdip3KSkpO31mbG9hdCB4KGZsb2F0IHksZmxvYXQgeil7ZmxvYXQgQT15LzIuMDtmbG9hdCBCPWZsb29yKCgoeitBKS8oeStBKSkrMC41KTtpZigoQip5KT56KXtCPTEuMDt9cmV0dXJuIEI7fXZlYzIgQyh2ZWMyIEQsdmVjMiBFLHZlYzIgRixpbnQgRyl7dmVjMiBIO3ZlYzIgSTtpZihHPT0wKXtIPUQ7ST0oRStGKS8yLjA7fWVsc2UgaWYoRz09MSl7SD1FO0k9KEQrRikvMi4wO31lbHNlIGlmKEc9PTIpe0g9RjtJPShFK0QpLzIuMDt9dmVjMiBKPW5vcm1hbGl6ZShILUkpO0grPUovdV96b29tO3JldHVybiBIO312b2lkIG1haW4oKXt2ZWM0IEs9YV9jb2xvdXIvMjU1LjA7dmVjNCBMPWFfY29sb3VyMi8yNTUuMDtmbG9hdCBNPTEuMC91X3pvb207aW50IE49aihhX2xpbmVUeXBlKTtib29sIE89Tj09Yjtib29sIFA9Tj09Yztib29sIFE9Tj09ZDtib29sIFI9Tj49ZTt2ZWMyIEg7aWYoUil7aW50IEc9aihhX2xpbmVUeXBlKS1lO3ZlYzIgRD1hX3Bvc2l0aW9uO3ZlYzIgRT12ZWMyKGFfcmFkaXVzLGFfc3RhcnRBbmdsZSk7dmVjMiBGPXZlYzIoYV9lbmRBbmdsZSxhX3dpZHRoKTtmbG9hdCBTPWRpc3RhbmNlKEUsRik7ZmxvYXQgVD1TL3Vfem9vbTtmbG9hdCBVPTEuMC9UO0g9QyhELEUsRixHKTt2X2JhcnljZW50cmljPXZlYzQoYV9jb3JlLnh5eixVKTt2X2NvcmU9dmVjNCgxLjApO3ZfbGluZURhdGE9dmVjNCgwLjAsMC4wLDAuMCxhX2xpbmVUeXBlKTt9ZWxzZXt2ZWMyIHM9YV9wb3NpdGlvbjtmbG9hdCB0PWFfcmFkaXVzO2Zsb2F0IFY9YV9zdGFydEFuZ2xlO2Zsb2F0IFc9YV9lbmRBbmdsZTtmbG9hdCBYO2Zsb2F0IFk7ZmxvYXQgTT0xLjAvdV96b29tO2lmKHVfaGl0VGVzdD09MS4wKXtNPTcuMC91X3pvb207fWJvb2wgWj1qKHNpZ24oYV9jb3JlLnIpKT09MTtmbG9hdCB3PWFicyhhX2NvcmUuciktMS4wO2Zsb2F0IHY9KGFfZW5kQW5nbGUtYV9zdGFydEFuZ2xlKS9nO2Zsb2F0IGJhPTEuMC91X3Jlc29sdXRpb24uejtpZihQKXtiYT1tYXgoYmEsc3RlcCgyLjUsYV9saW5lVHlwZSkqMi4wKTt9ZmxvYXQgYmI9bWF4KGFfd2lkdGgqdV96b29tLGJhKS91X3pvb207ZmxvYXQgYmM9bWF4KHEoKSxzbW9vdGhzdGVwKDAuMCwxLjAsYV93aWR0aCp1X3pvb20pKTtpZih1X2FkYXB0aXZlU3R5bGluZyl7Sy5hKj1iYztMLmEqPWJjO31mbG9hdCBiZD1iYitNO2Zsb2F0IGJlPWJkLzIuMDtmbG9hdCBiZj1iYi8yLjA7aWYodzxnKXtZPTEuMDt9ZWxzZXtZPS0xLjA7fWZsb2F0IGJnPWFfcmFkaXVzKihXLVYpO3ZlYzIgYmg9cihzLG1heCh0K2JmLDAuMCksYV9zdGFydEFuZ2xlLHYsdysoWS8yLjApKTtmbG9hdCBiaT12LzIuMDtmbG9hdCBiaj1sZW5ndGgoYmgtcyk7ZmxvYXQgYms9YmovY29zKGJpKTtmbG9hdCBibD1zbW9vdGhzdGVwKDQwMDAuMCwyMDAwMC4wLHQpKjMuMDtpZihaKXtYPWJrK00rYmw7fWVsc2V7YmwqPTIuMDtYPXQtYmUtYmw7fXZfbGluZURhdGE9dmVjNCgwLjAsYmIsYmcsLWFfbGluZVR5cGUpO1g9bWF4KFgsMC4wKTtmbG9hdCBibT0oMS4wL2JnKS91X3pvb207ZmxvYXQgYm49YmcqdV96b29tO2Zsb2F0IGJvPShXLVYpL2JuO2Zsb2F0IGJwPVY7ZmxvYXQgYnE9Ym87YnAtPSgxLjAtc3RlcCgwLjUsdykpKmJxO2JwKz1zdGVwKGgsdykqYnE7SD1yKHMsWCxicCx2LHcpO2lmKFApe2Zsb2F0IGJyPWJuLzQuMDtmbG9hdCBicz1iZy8oYmIqMi4wKTtmbG9hdCBidD1taW4oYnIsYnMpO3ZfY29yZT12ZWM0KGJwLGNlaWwoYnQpLGJtLGFfcmFkaXVzKTt2X2Rhc2hpbmc9dmVjMyhiYixiYiwwLjUpO31lbHNlIGlmKE8pe2Zsb2F0IHk9bWF4KDIuMC91X3pvb20sYmIqMi4wKTtmbG9hdCBidT14KHksYmcpO2Zsb2F0IEE9KGJnLXkqYnUpLyhidS0xLjApO2Zsb2F0IGJ2PUEqYnUvKGJnK0EpO3ZfY29yZT12ZWM0KGJwLGJ1LWJ2LGJtLGFfcmFkaXVzKTtmbG9hdCBidz0oeS8oeStBKSkvMi4wO3ZfZGFzaGluZz12ZWMzKHksQSxidyk7fWVsc2UgaWYoUSl7ZmxvYXQgYng9YV9jb3JlLnk7ZmxvYXQgYnk9ZipieDtmbG9hdCBiej1tYXgoMzAuMCxiYiozLjApO2Zsb2F0IGJBPWJ6O2J5PW1pbihiQSoxNi4wLGFicyhieSkpKnNpZ24oYngpO2Zsb2F0IGJCPTEwMDAuMCpiQS9ieTtmbG9hdCBiQz1tb2QodV90aW1lL2JCLDEuMCk7ZmxvYXQgYkQ9YnovYV9yYWRpdXM7ZmxvYXQgYkU9YkQqKDIuMC8zLjApO2Zsb2F0IGJGPWJDKmJEO3ZfY29yZT12ZWM0KGJwLHcvZyxibSxhX3JhZGl1cyk7dl9kYXNoaW5nPXZlYzMoYkQsMC4wLGJGKTt9ZWxzZXt2X2NvcmU9dmVjNChicCx3L2csYm0sYV9yYWRpdXMpO312X3Bvc2l0aW9uPXZlYzQoSCxzKTt9dmVjMiBiRz1IL3VfcmVzb2x1dGlvbi54eTt2ZWMyIGJIPWJHKjIuMDt2ZWMyIGJJPWJILTEuMDt2X2NvbG91cj1LO3ZfY29sb3VyMj1MO3ZfaGl0VGVzdENvbG91cj1hX2hpdFRlc3RDb2xvdXI7Z2xfUG9zaXRpb249dV90cmFuc2Zvcm0qdmVjNChiSSp2ZWMyKDEsLTEpLDAsMSk7fQ==",qh["line-bezier-vertex"]="cHJlY2lzaW9uIGhpZ2hwIGZsb2F0O2F0dHJpYnV0ZSB2ZWMyIGFfcDA7YXR0cmlidXRlIHZlYzIgYV9wMTthdHRyaWJ1dGUgdmVjMiBhX3AyO2F0dHJpYnV0ZSB2ZWMyIGFfcDM7YXR0cmlidXRlIGZsb2F0IGFfd2lkdGg7YXR0cmlidXRlIGZsb2F0IGFfZmxvd1ZlbG9jaXR5O2F0dHJpYnV0ZSB2ZWM0IGFfY29sb3VyO2F0dHJpYnV0ZSB2ZWM0IGFfY29sb3VyMjthdHRyaWJ1dGUgdmVjMyBhX2hpdFRlc3RDb2xvdXI7YXR0cmlidXRlIGZsb2F0IGFfbGluZVR5cGU7YXR0cmlidXRlIHZlYzQgYV9jb3JlO3VuaWZvcm0gZmxvYXQgdV9oaXRUZXN0O3VuaWZvcm0gZmxvYXQgdV96b29tO3VuaWZvcm0gdmVjMyB1X3Jlc29sdXRpb247dW5pZm9ybSBtYXQ0IHVfdHJhbnNmb3JtO3VuaWZvcm0gZmxvYXQgdV90aW1lO3VuaWZvcm0gYm9vbCB1X2FkYXB0aXZlU3R5bGluZzt2YXJ5aW5nIHZlYzQgdl9jb2xvdXI7dmFyeWluZyB2ZWM0IHZfY29sb3VyMjt2YXJ5aW5nIHZlYzQgdl9jb3JlO3ZhcnlpbmcgdmVjNCB2X2xpbmVEYXRhO3ZhcnlpbmcgdmVjMyB2X2hpdFRlc3RDb2xvdXI7dmFyeWluZyB2ZWM0IHZfYmFyeWNlbnRyaWM7dmFyeWluZyB2ZWM0IHZfcG9zaXRpb247dmFyeWluZyB2ZWMzIHZfZGFzaGluZztpbnQgYT0yO2ludCBiPTM7aW50IGM9NDtpbnQgZD01O2NvbnN0IGludCBlPTUwO2Zsb2F0IGY9MC4wMDAxO2Zsb2F0IGc9MTUuMDtpbnQgaChmbG9hdCBhKXtyZXR1cm4gaW50KGZsb29yKGErMC41KSk7fWZsb2F0IGkoZmxvYXQgaixmbG9hdCBrLGZsb2F0IGwpe2Zsb2F0IG09bWF4KGwtaiwwLjApO2Zsb2F0IG49bWF4KGYsay1qKTtyZXR1cm4gbWluKDEuMCxtL24pO31mbG9hdCBvKCl7aWYodV96b29tPjAuMTUpe3JldHVybiBtaXgoMC43NSwxLjAsaSgwLjE1LDAuMix1X3pvb20pKTt9aWYodV96b29tPjAuMDgpe3JldHVybiBtaXgoMC40LDAuNzUsaSgwLjA4LDAuMTUsdV96b29tKSk7fXJldHVybiBtaXgoMC4yLDAuNCxpKDAuMDEsMC4wOCx1X3pvb20pKTt9dmVjMiBwKGZsb2F0IHEpe2Zsb2F0IHI9MS4wLXE7cmV0dXJuIChwb3cociwzLjApKmFfcDApKygzLjAqcG93KHIsMi4wKSpxKmFfcDEpKygzLjAqcipwb3cocSwyLjApKmFfcDIpKyhwb3cocSwzLjApKmFfcDMpO312ZWMyIHMoZmxvYXQgcSl7dmVjMiB0PSgtMy4wKnBvdygoMS4wLXEpLDIuMCkqYV9wMCkrKDMuMCooMS4wLSgzLjAqcSkpKigxLjAtcSkqYV9wMSkrKDMuMCpxKigyLjAtKDMuMCpxKSkqYV9wMikrKDMuMCpwb3cocSwyLjApKmFfcDMpO3ZlYzIgdT1ub3JtYWxpemUodCk7cmV0dXJuIHZlYzIoLXUueSx1LngpO31mbG9hdCB2KGZsb2F0IHcsZmxvYXQgeCl7ZmxvYXQgeT13LzIuMDtmbG9hdCB6PWZsb29yKCgoeCt5KS8odyt5KSkrMC41KTtpZigoeip3KT54KXt6PTEuMDt9cmV0dXJuIHo7fXZlYzIgQSh2ZWMyIEIsdmVjMiBDLHZlYzIgRCxpbnQgRSl7dmVjMiBGO3ZlYzIgRztpZihFPT0wKXtGPUI7Rz0oQytEKS8yLjA7fWVsc2UgaWYoRT09MSl7Rj1DO0c9KEIrRCkvMi4wO31lbHNlIGlmKEU9PTIpe0Y9RDtHPShDK0IpLzIuMDt9dmVjMiBIPW5vcm1hbGl6ZShGLUcpO0YrPUgvdV96b29tO3JldHVybiBGO312b2lkIG1haW4oKXt2ZWM0IEk9YV9jb2xvdXIvMjU1LjA7dmVjNCBKPWFfY29sb3VyMi8yNTUuMDtmbG9hdCBLPTEuMC91X3pvb207aW50IEw9aChhX2xpbmVUeXBlKTtib29sIE09TD09YTtib29sIE49TD09Yjtib29sIE89TD09Yztib29sIFA9TD09ZDt2ZWMyIEY7aWYoUCl7aW50IEU9aChhX2NvcmUudyk7dmVjMiBCPWFfcDA7dmVjMiBDPWFfcDE7dmVjMiBEPWFfcDI7ZmxvYXQgUT1kaXN0YW5jZShDLEQpO2Zsb2F0IFI9US91X3pvb207ZmxvYXQgUz0xLjAvUjtGPUEoQixDLEQsRSk7dl9iYXJ5Y2VudHJpYz12ZWM0KGFfY29yZS54eXosUyk7dl9jb3JlPXZlYzQoMS4wKTt2X2xpbmVEYXRhPXZlYzQoMC4wLDAuMCwwLjAsYV9saW5lVHlwZSk7fWVsc2V7dmVjMiBUPWFfcDA7dmVjMiBVPWFfcDE7dmVjMiBWPWFfcDI7dmVjMiBXPWFfcDM7ZmxvYXQgSz0xLjAvdV96b29tO2lmKHVfaGl0VGVzdD09MS4wKXtLPTcuMC91X3pvb207fWZsb2F0IFg9Zmxvb3IoYV9jb3JlLngqMC41KTtmbG9hdCBZPTEuMC0oMi4wKihtb2QoYV9jb3JlLngsMi4wKSkpO2Zsb2F0IFo9YWJzKGFfY29yZS55KTtpbnQgYmE9aChaKTtib29sIGJiPXNpZ24oYV9jb3JlLnkpPT0tMS4wO2Zsb2F0IGJjPSgoKGFfY29yZS56KzEyOC4wKSoyNTYuMCkrYV9jb3JlLncrMTI4LjApLzY1NTM1LjA7ZmxvYXQgYmQ9MS4wL3VfcmVzb2x1dGlvbi56O2lmKE4pe2JkPW1heChiZCxzdGVwKDIuNSxhX2xpbmVUeXBlKSoyLjApO31mbG9hdCBiZT1tYXgoYV93aWR0aCp1X3pvb20sYmQpL3Vfem9vbTtmbG9hdCBiZj1tYXgobygpLHNtb290aHN0ZXAoMC4wLDEuMCxhX3dpZHRoKnVfem9vbSkpO2lmKHVfYWRhcHRpdmVTdHlsaW5nKXtJLmEqPWJmO0ouYSo9YmY7fWZsb2F0IGJnPWJlK0s7ZmxvYXQgYmg9YmcvMi4wO2Zsb2F0IGJpPWJlLzIuMDtmbG9hdCBiaj0wLjA7ZmxvYXQgYms9MC4wO3ZlYzIgYmw9dmVjMigwLjApO3ZlYzIgYm09VDtpZighYmImJlg9PTAuMCl7Rj1UO2JsPXMoMC4wKTtGKz12ZWMyKC1ibC55LGJsLngpL3Vfem9vbTt9Zm9yKGludCBibj0xO2JuPD1lO2JuKyspe2lmKGJuPmJhKXticmVhazt9ZmxvYXQgdD1mbG9hdChibikvWjt2ZWMyIGJvPXAodCk7YmorPWRpc3RhbmNlKGJtLGJvKTtpZihibj09aW50KFgpKXtGPWJvO2JsPXModCk7Yms9Ymo7fWJtPWJvO31pZihiYiYmaW50KFgpPT1iYSl7Ris9dmVjMihibC55LC1ibC54KS91X3pvb207fWZsb2F0IGJwPWJqL2JjO2lmKGJiKXtiaz0oKCgxLjAtYmMpKmJwKStiayk7fWJrLz1icDt2ZWMyIGJxPWJsKihiZy8yLjApKlk7Rj1GK2JxO2lmKGludChZKT09MSl7dl9saW5lRGF0YT12ZWM0KC1iZyxiZSxicCxhX2xpbmVUeXBlKTt9ZWxzZXt2X2xpbmVEYXRhPXZlYzQoYmcsYmUsYnAsYV9saW5lVHlwZSk7fWZsb2F0IGJyPSgxLjAvYnApL3Vfem9vbTtmbG9hdCBicz1icCp1X3pvb207aWYoTil7ZmxvYXQgYnQ9YnMvNC4wO2Zsb2F0IGJ1PWJwLyhiZSoyLjApO2Zsb2F0IGJ2PW1pbihidCxidSk7dl9jb3JlPXZlYzQoYmssY2VpbChidiksYnIsMC4wKTt2X2Rhc2hpbmc9dmVjMyhiZSxiZSwwLjUpO31lbHNlIGlmKE0pe2Zsb2F0IHc9bWF4KDIuMC91X3pvb20sYmUqMi4wKTtmbG9hdCBidz12KHcsYnApO2Zsb2F0IHk9KGJwLXcqYncpLyhidy0xLjApO2Zsb2F0IGJ4PXkqYncvKGJwK3kpO3ZfY29yZT12ZWM0KGJrLGJ3LWJ4LGJyLDApO2Zsb2F0IGJ5PSh3Lyh3K3kpKS8yLjA7dl9kYXNoaW5nPXZlYzModyx5LGJ5KTt9ZWxzZSBpZihPKXtmbG9hdCBiej1hX2Zsb3dWZWxvY2l0eTtmbG9hdCBiQT1nKmJ6O2Zsb2F0IGJCPW1heCgzMC4wLGJlKjMuMCk7ZmxvYXQgYkM9YkI7YkE9bWluKGJDKjE2LjAsYWJzKGJBKSkqc2lnbihieik7ZmxvYXQgYkQ9MTAwMC4wKmJDL2JBO2Zsb2F0IGJFPW1vZCh1X3RpbWUvYkQsMS4wKTtmbG9hdCBiRj1iRSpiQjt2X2NvcmU9dmVjNChiayxYL1osYnIsMC4wKTt2X2Rhc2hpbmc9dmVjMyhiQiwwLjAsYkYpO31lbHNle3ZfY29yZT12ZWM0KGJrLFgvWixiciwwLjApO319dmVjMiBiRz1GL3VfcmVzb2x1dGlvbi54eTt2ZWMyIGJIPWJHKjIuMDt2ZWMyIGJJPWJILTEuMDt2X2NvbG91cj1JO3ZfY29sb3VyMj1KO3ZfaGl0VGVzdENvbG91cj1hX2hpdFRlc3RDb2xvdXI7Z2xfUG9zaXRpb249dV90cmFuc2Zvcm0qdmVjNChiSSp2ZWMyKDEsLTEpLDAsMSk7fQ==",qh["line-fragment"]="CiNpZmRlZiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMKCiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlCgojZW5kaWYKcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O3VuaWZvcm0gZmxvYXQgdV9oaXRUZXN0O3VuaWZvcm0gZmxvYXQgdV9zaGFkb3dUeXBlO3VuaWZvcm0gZmxvYXQgdV96b29tO3VuaWZvcm0gZmxvYXQgdV9ncmFkaWVudFN0YXJ0RnJhY3Rpb247dmFyeWluZyB2ZWM0IHZfY29sb3VyO3ZhcnlpbmcgdmVjNCB2X2NvbG91cjI7dmFyeWluZyB2ZWMzIHZfaGl0VGVzdENvbG91cjt2YXJ5aW5nIHZlYzQgdl9jb3JlO3ZhcnlpbmcgdmVjNCB2X2xpbmVEYXRhO3ZhcnlpbmcgdmVjNCB2X2JhcnljZW50cmljO3ZhcnlpbmcgdmVjNCB2X3Bvc2l0aW9uO3ZhcnlpbmcgdmVjMyB2X2Rhc2hpbmc7aW50IGE9MjtpbnQgYj0zO2ludCBjPTQ7aW50IGQ9NTtmbG9hdCBlPTMuMTQxNTkyNjUzNTk7ZmxvYXQgZj0wLjcwNzEwNjc4MTE4NjU0NzU3O2Zsb2F0IGcoZmxvYXQgaCxmbG9hdCBpKXtmbG9hdCBqPWxlbmd0aCh2ZWMyKGRGZHgoaSksZEZkeShpKSkpKmY7cmV0dXJuIHNtb290aHN0ZXAoaC1qLGgraixpKTt9ZmxvYXQgaz0wLjAwMDE7ZmxvYXQgbChmbG9hdCBtLGZsb2F0IG4sZmxvYXQgaSl7ZmxvYXQgbz1tYXgoaS1tLDAuMCk7ZmxvYXQgcD1tYXgoayxuLW0pO3JldHVybiBtaW4oMS4wLG8vcCk7fWZsb2F0IHEodmVjMyByKXt2ZWMzIHM9ZndpZHRoKHIpO3ZlYzMgdD1zbW9vdGhzdGVwKHZlYzMoMC4wKSxzKjIuMCxyKTtyZXR1cm4gbWluKG1pbih0LngsdC55KSx0LnopO31pbnQgdShmbG9hdCBhKXtyZXR1cm4gaW50KGZsb29yKGErMC41KSk7fXZlYzQgdihmbG9hdCB3KXtmbG9hdCB4PWwodV9ncmFkaWVudFN0YXJ0RnJhY3Rpb24sMS4wLXVfZ3JhZGllbnRTdGFydEZyYWN0aW9uLHcpO3ZlYzMgeT1taXgodl9jb2xvdXIucmdiLHZfY29sb3VyMi5yZ2IseCk7ZmxvYXQgej1taXgodl9jb2xvdXIuYSx2X2NvbG91cjIuYSx4KTtyZXR1cm4gdmVjNCh5Knoseik7fXZlYzQgQSh2ZWM0IHksZmxvYXQgQixmbG9hdCBDKXtmbG9hdCBoPShDLzIuMCkqdV96b29tO2Zsb2F0IEQ9YWJzKEIpKnVfem9vbTt5Kj0xLjAtc21vb3Roc3RlcChoLWYsaCtmLEQpO3JldHVybiB5O31mbG9hdCBFKGZsb2F0IEQsZmxvYXQgRixmbG9hdCBHKXtyZXR1cm4gKEQvRikqRzt9dmVjNCBIKGJvb2wgSSxib29sIEosYm9vbCBLLGJvb2wgTCl7ZmxvYXQgQj12X2xpbmVEYXRhLngvMi4wO2Zsb2F0IEM9dl9saW5lRGF0YS55O2Zsb2F0IE09dl9jb3JlLng7dmVjNCBOPXYoTSk7ZmxvYXQgTz12X2NvcmUuejtmbG9hdCBQPXZfbGluZURhdGEuejtpZihMKXtmbG9hdCBRPXZfZGFzaGluZy54O2Zsb2F0IFI9USooMi4wLzMuMCk7ZmxvYXQgUz12X2Rhc2hpbmcuejtmbG9hdCBUPU0qUDtmbG9hdCBVPW1vZChULShQLzIuMCktKFEvMi4wKSxRKTtmbG9hdCBWPW1vZChTLVUsUSk7ZmxvYXQgVz1kaXN0YW5jZShWLFEvMi4wKTtOKj0xLjAtZyhSLzIuMCxXKTtOPUEoTixCLEMpO04qPWcoTyx2X2NvcmUueCk7Tio9MS4wLWcoMS4wLU8sdl9jb3JlLngpO31lbHNlIGlmKEkpe2Zsb2F0IFg9dl9jb3JlLnk7ZmxvYXQgWT1DLzIuMDtmbG9hdCBaPXZfZGFzaGluZy54O2Zsb2F0IGJhPXZfZGFzaGluZy56O2Zsb2F0IGJiPU0qWDt2ZWMyIGJjPXZlYzIoTSpQLEIpO2Zsb2F0IGJkPWZyYWN0KGJiKS1iYTtmbG9hdCBiZT1mbG9vcihiZCswLjUpO2Zsb2F0IGJmPWJiLWJkK2JlO3ZlYzIgYmc9dmVjMigoYmYvWCkqUCwwLjApO2Zsb2F0IGJoPVk7aWYoSil7YmMueT0wLjA7Ymg9Wi8yLjA7Tj1BKE4sQixDKTt9ZmxvYXQgVz1kaXN0YW5jZShiYyxiZyk7Tio9MS4wLWcoYmgsVyk7fWVsc2V7Tj1BKE4sQixDKTtOKj1nKE8sdl9jb3JlLngpO04qPTEuMC1nKDEuMC1PLHZfY29yZS54KTt9cmV0dXJuIE47fXZlYzQgYmkoYm9vbCBJLGJvb2wgSixib29sIEssYm9vbCBMKXtmbG9hdCBDPXZfbGluZURhdGEueTtmbG9hdCBPPXZfY29yZS56O2Zsb2F0IFA9dl9saW5lRGF0YS56O2Zsb2F0IFk9Qy8yLjA7ZmxvYXQgYmo9dl9jb3JlLmE7ZmxvYXQgYms9UC9iajt2ZWMyIEQ9dl9wb3NpdGlvbi54eTt2ZWMyIGJsPXZfcG9zaXRpb24uenc7ZmxvYXQgYm09ZGlzdGFuY2UoRCxibCk7ZmxvYXQgYm49YXRhbihELnktYmwueSxELngtYmwueCk7aWYoYm48dl9jb3JlLngpe2JuKz0yLjAqZTt9ZmxvYXQgYm89dl9jb3JlLng7ZmxvYXQgYnA9KGJuLWJvKS8oYmspO3ZlYzQgTj12KGJwKTtpZihMKXtmbG9hdCBicT12X2Rhc2hpbmcueDtmbG9hdCBicj1icSooMi4wLzMuMCk7ZmxvYXQgUz12X2Rhc2hpbmcuejtmbG9hdCBicz1icCpiaztmbG9hdCBidD1tb2QoYnMtKGJrLzIuMCktKGJxLzIuMCksYnEpO2Zsb2F0IGJ1PW1vZChTLWJ0LGJxKTtmbG9hdCBXPWRpc3RhbmNlKGJ1LGJxLzIuMCk7ZmxvYXQgYnY9dl9jb3JlLnk7Tio9MS4wLWcoYnIvMi4wLFcpO04qPWcoYmosYm0rWSk7Tio9MS4wLWcoYmorWSxibSk7Tio9ZyhPLGJ2KTtOKj0xLjAtZygxLjAtTyxidik7fWVsc2UgaWYoSSl7ZmxvYXQgWj12X2Rhc2hpbmcueDtmbG9hdCBiYT12X2Rhc2hpbmcuejtmbG9hdCBYPXZfY29yZS55O2Zsb2F0IGJ3PWJwKlg7dmVjMiBieD1EO2Zsb2F0IGJkPWZyYWN0KGJ3KS1iYTtmbG9hdCBiZT1mbG9vcihiZCswLjUpO2Zsb2F0IGJnPWJ3LWJkK2JlO2Zsb2F0IGJ5PUUoYmcsWCxiaykrYm87aWYoSyl7dmVjMiBiZz12ZWMyKGJsLngrKGJqKmNvcyhieSkpLGJsLnkrKGJqKnNpbihieSkpKTtmbG9hdCBXPWRpc3RhbmNlKGJ4LGJnKTtmbG9hdCBiej1ZO04qPTEuMC1nKGJ6LFcpO31lbHNle2Zsb2F0IGJBPWRpc3RhbmNlKGJuLGJ5KTtmbG9hdCBiej1FKFovMi4wLFAsYmspO04qPTEuMC1nKGJ6LGJBKTtOKj1nKGJqLGJtK1kpO04qPTEuMC1nKGJqK1ksYm0pO319ZWxzZXtmbG9hdCBidj12X2NvcmUueTtOKj1nKGJqLGJtK1kpO04qPTEuMC1nKGJqK1ksYm0pO04qPWcoTyxidik7Tio9MS4wLWcoMS4wLU8sYnYpO31yZXR1cm4gTjt9dm9pZCBtYWluKCl7aW50IGJCPWludCh1X3NoYWRvd1R5cGUpO2Zsb2F0IGJDPWFicyh2X2xpbmVEYXRhLncpO2ludCBiRD11KGJDKTtib29sIGJFPXNpZ24odl9saW5lRGF0YS53KTwwLjA7Ym9vbCBJPWJDPjEuNTtib29sIEo9YkQ9PWE7Ym9vbCBLPWJEPT1iO2Jvb2wgTD1iRD09Yztib29sIGJGPWJEPj1kO2Jvb2wgYkc9YkI9PS0xO2Jvb2wgYkg9YkI9PTE7aWYodV9oaXRUZXN0PjAuNSl7aWYoYkcpe2Rpc2NhcmQ7fWVsc2V7ZmxvYXQgYkk9bGVuZ3RoKHN0ZXAoMS4wLHZfaGl0VGVzdENvbG91cikpO2dsX0ZyYWdDb2xvcj12ZWM0KHZfaGl0VGVzdENvbG91ci8yNTUuMCxiSSk7fX1lbHNlIGlmKGJIKXtkaXNjYXJkO31lbHNle3ZlYzQgTjtpZihiRil7Tj12ZWM0KHZfY29sb3VyLnJnYip2X2NvbG91ci5hLHZfY29sb3VyLmEpO04qPWcodl9iYXJ5Y2VudHJpYy5hLHEodl9iYXJ5Y2VudHJpYy5yZ2IpKTt9ZWxzZXtpZihiRSl7Tj1iaShJLEosSyxMKTt9ZWxzZXtOPUgoSSxKLEssTCk7fX1nbF9GcmFnQ29sb3I9Tjt9fQ==",qh["line-vertex"]="cHJlY2lzaW9uIGhpZ2hwIGZsb2F0O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb24xO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb24yO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb24zO2F0dHJpYnV0ZSB2ZWM0IGFfdmVydGV4SW5mbzthdHRyaWJ1dGUgdmVjNCBhX2NvbG91cjthdHRyaWJ1dGUgdmVjNCBhX2NvbG91cjI7YXR0cmlidXRlIHZlYzMgYV9oaXRUZXN0Q29sb3VyO2F0dHJpYnV0ZSBmbG9hdCBhX2luZGV4O3VuaWZvcm0gZmxvYXQgdV9oaXRUZXN0O3VuaWZvcm0gdmVjMyB1X3Jlc29sdXRpb247dW5pZm9ybSBtYXQ0IHVfdHJhbnNmb3JtO3VuaWZvcm0gZmxvYXQgdV96b29tO3VuaWZvcm0gZmxvYXQgdV92aWV3SW5kZXBlbmRlbnQ7dW5pZm9ybSBmbG9hdCB1X3RpbWU7dW5pZm9ybSBib29sIHVfYWRhcHRpdmVTdHlsaW5nO3ZhcnlpbmcgdmVjNCB2X2NvbG91cjt2YXJ5aW5nIHZlYzQgdl9jb2xvdXIyO3ZhcnlpbmcgdmVjNCB2X2NvcmU7dmFyeWluZyB2ZWMzIHZfaGl0VGVzdENvbG91cjt2YXJ5aW5nIHZlYzQgdl9saW5lRGF0YTt2YXJ5aW5nIHZlYzQgdl9iYXJ5Y2VudHJpYzt2YXJ5aW5nIHZlYzQgdl9wb3NpdGlvbjt2YXJ5aW5nIHZlYzMgdl9kYXNoaW5nO2ludCBhPTI7aW50IGI9MztpbnQgYz00O2ludCBkPTU7ZmxvYXQgZT0wLjAwMDE7ZmxvYXQgZj0xNS4wO2ludCBnKGZsb2F0IGEpe3JldHVybiBpbnQoZmxvb3IoYSswLjUpKTt9ZmxvYXQgaChmbG9hdCBpLGZsb2F0IGope2Zsb2F0IGs9aS8yLjA7ZmxvYXQgbD1mbG9vcigoKGoraykvKGkraykpKzAuNSk7aWYoKGwqaSk+ail7bD0xLjA7fXJldHVybiBsO312ZWMyIG0odmVjMiBuLHZlYzIgbyx2ZWMyIHAsaW50IHEpe3ZlYzIgcjt2ZWMyIHM7aWYocT09MCl7cj1uO3M9KG8rcCkvMi4wO31lbHNlIGlmKHE9PTEpe3I9bztzPShuK3ApLzIuMDt9ZWxzZSBpZihxPT0yKXtyPXA7cz0obytuKS8yLjA7fXZlYzIgdD1ub3JtYWxpemUoci1zKTtyKz10L3Vfem9vbTtyZXR1cm4gcjt9ZmxvYXQgdShmbG9hdCB2LGZsb2F0IHcsZmxvYXQgeCl7ZmxvYXQgeT1tYXgoeC12LDAuMCk7ZmxvYXQgej1tYXgoZSx3LXYpO3JldHVybiBtaW4oMS4wLHkveik7fWZsb2F0IEEoKXtpZih1X3pvb20+MC4xNSl7cmV0dXJuIG1peCgwLjc1LDEuMCx1KDAuMTUsMC4yLHVfem9vbSkpO31pZih1X3pvb20+MC4wOCl7cmV0dXJuIG1peCgwLjQsMC43NSx1KDAuMDgsMC4xNSx1X3pvb20pKTt9cmV0dXJuIG1peCgwLjIsMC40LHUoMC4wMSwwLjA4LHVfem9vbSkpO312b2lkIG1haW4oKXtmbG9hdCBCPTEuMC91X3Jlc29sdXRpb24uejt2ZWM0IEM9YV9jb2xvdXIvMjU1LjA7dmVjNCBEPWFfY29sb3VyMi8yNTUuMDtpbnQgRT1nKGFfdmVydGV4SW5mby53KTtib29sIEY9RT09YTtib29sIEc9RT09Yjtib29sIEg9RT09Yztib29sIEk9RT09ZDt2ZWMyIHI7ZmxvYXQgSjtmbG9hdCBLO2lmKEkpe2ludCBxPWludChhX2luZGV4KTt2ZWMyIG49YV9wb3NpdGlvbjE7dmVjMiBvPWFfcG9zaXRpb24yO3ZlYzIgcD1hX3Bvc2l0aW9uMztmbG9hdCBMPWRpc3RhbmNlKG8scCk7ZmxvYXQgTT1ML3Vfem9vbTtmbG9hdCBLPTEuMC9NO3I9bShuLG8scCxxKTt2X2xpbmVEYXRhPXZlYzQoMC4wLDAuMCwwLjAsYV92ZXJ0ZXhJbmZvLncpO3ZfYmFyeWNlbnRyaWM9dmVjNChhX3ZlcnRleEluZm8ueHl6LEspO31lbHNle2Zsb2F0IE49MS4wL3Vfem9vbTtpZih1X2hpdFRlc3Q9PTEuMCl7Tj03LjAvdV96b29tO31mbG9hdCBCPTEuMC91X3Jlc29sdXRpb24uejtpZihHKXtCPW1heChCLHN0ZXAoMi41LGFfdmVydGV4SW5mby53KSoyLjApO312ZWMyIE89bm9ybWFsaXplKGFfcG9zaXRpb24yLWFfcG9zaXRpb24xKTt2ZWMyIFA9Ty91X3pvb207ZmxvYXQgUT1hX3ZlcnRleEluZm8ueS0xLjA7ZmxvYXQgUj1hX3ZlcnRleEluZm8ueCthX3ZlcnRleEluZm8uejt2ZWMyIFM9YV9wb3NpdGlvbjItYV9wb3NpdGlvbjE7dmVjMiBUPW5vcm1hbGl6ZSh2ZWMyKC1TLnksUy54KSk7aWYoaW50KGFfdmVydGV4SW5mby54KT09MCl7cj1hX3Bvc2l0aW9uMS1QO31lbHNle3I9YV9wb3NpdGlvbjIrUDt9ZmxvYXQgVT1hX3Bvc2l0aW9uMy54O2Zsb2F0IFY9bWF4KEEoKSxzbW9vdGhzdGVwKDAuMCwxLjAsVSp1X3pvb20pKTtpZihpbnQodV92aWV3SW5kZXBlbmRlbnQpPT0wKXtVPW1heCgoVSkqdV96b29tLEIpL3Vfem9vbTt9ZmxvYXQgVz1VK047dmVjMiBYPVQqKFcvMi4wKSpRO3I9citYO2Zsb2F0IFk9ZGlzdGFuY2UoYV9wb3NpdGlvbjEsYV9wb3NpdGlvbjIpO2Zsb2F0IFo9WSp1X3pvb207ZmxvYXQgYmE9KDEuMC9ZKS91X3pvb207aWYoRyl7ZmxvYXQgYmI9Wi80LjA7ZmxvYXQgYmM9WS8oVSoyLjApO2Zsb2F0IGJkPW1pbihiYixiYyk7dl9jb3JlPXZlYzQoUixjZWlsKGJkKSxiYSwwLjApO3ZfZGFzaGluZz12ZWMzKFUsVSwwLjUpO31lbHNlIGlmKEYpe2Zsb2F0IGk9bWF4KDIuMC91X3pvb20sVSoyLjApO2Zsb2F0IGJlPWgoaSxZKTtmbG9hdCBrPShZLWkqYmUpLyhiZS0xLjApO2Zsb2F0IGJmPWsqYmUvKFkrayk7dl9jb3JlPXZlYzQoUixiZS1iZixiYSwwLjApO2Zsb2F0IGJnPShpLyhpK2spKS8yLjA7dl9kYXNoaW5nPXZlYzMoaSxrLGJnKTt9ZWxzZSBpZihIKXtmbG9hdCBiaD1hX3Bvc2l0aW9uMy55O2Zsb2F0IGJpPWYqYmg7ZmxvYXQgYmo9bWF4KDMwLjAsVSozLjApO2Zsb2F0IGJrPWJqO2JpPW1pbihiayoxNi4wLGFicyhiaSkpKnNpZ24oYmgpO2Zsb2F0IGJsPTEwMDAuMCpiay9iaTtmbG9hdCBibT1tb2QodV90aW1lL2JsLDEuMCk7ZmxvYXQgYm49Ym0qYmo7dl9kYXNoaW5nPXZlYzMoYmosMC4wLGJuKTt2X2NvcmU9dmVjNChSLDAuMCxiYSwwLjApO31lbHNle3ZfY29yZT12ZWM0KFIsMC4wLGJhLDAuMCk7fWlmKGludChRKT09MSl7dl9saW5lRGF0YT12ZWM0KC1XLFUsWSxhX3ZlcnRleEluZm8udyk7fWVsc2V7dl9saW5lRGF0YT12ZWM0KFcsVSxZLGFfdmVydGV4SW5mby53KTt9aWYodV9hZGFwdGl2ZVN0eWxpbmcpe0MuYSo9VjtELmEqPVY7fX12ZWMyIGJvPXIvdV9yZXNvbHV0aW9uLnh5O3ZlYzIgYnA9Ym8qMi4wO3ZlYzIgYnE9YnAtMS4wO3ZfY29sb3VyPUM7dl9jb2xvdXIyPUQ7dl9oaXRUZXN0Q29sb3VyPWFfaGl0VGVzdENvbG91cjtnbF9Qb3NpdGlvbj11X3RyYW5zZm9ybSp2ZWM0KGJxKnZlYzIoMSwtMSksMCwxKTt9",qh["triangle-fragment"]="CiNpZmRlZiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMKCiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlCgojZW5kaWYKcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2VbN107dW5pZm9ybSBsb3dwIGZsb2F0IHVfaGl0VGVzdDt1bmlmb3JtIHZlYzMgdV9yZXNvbHV0aW9uO3VuaWZvcm0gZmxvYXQgdV9zaGFkb3dUeXBlO3VuaWZvcm0gZmxvYXQgdV96b29tO3ZhcnlpbmcgdmVjNCB2X3RleENvb3JkO3ZhcnlpbmcgdmVjNCB2X2NvbG91cjt2YXJ5aW5nIHZlYzMgdl9oaXRUZXN0Q29sb3VyO3ZhcnlpbmcgdmVjMiB2X3RleHR1cmVCYW5rO3ZhcnlpbmcgZmxvYXQgdl9ib3JkZXJXaWR0aDt2YXJ5aW5nIHZlYzQgdl9zaGFwZVNpemU7dmFyeWluZyBmbG9hdCB2X3BpeGVsO3ZhcnlpbmcgdmVjMiB2X2RvbnV0U2VnbWVudDtjb25zdCBmbG9hdCBhPTMuMTQxNTkyNjUzNTg5NzkzMjM4NDYyNjQzMzgzMjc5NTtmbG9hdCBiKGZsb2F0IGMsZmxvYXQgZCl7ZmxvYXQgZT1sZW5ndGgodmVjMihkRmR4KGQpLGRGZHkoZCkpKSowLjcwNzEwNjc4MTE4NjU0NzU3O3JldHVybiBzbW9vdGhzdGVwKGMtZSxjK2UsZCk7fWludCBmKGZsb2F0IGEpe3JldHVybiBpbnQoZmxvb3IoYSswLjUpKTt9ZmxvYXQgZyhmbG9hdCBoKXtmbG9hdCBpPXVfcmVzb2x1dGlvbi56KnVfem9vbTtmbG9hdCBqPTEuMC1zdGVwKDEuMCxoKmkpO2Zsb2F0IGs9MS4wL2k7cmV0dXJuIG1heChoLGoqayk7fWZsb2F0IGwoZmxvYXQgbSl7ZmxvYXQgaT11X3Jlc29sdXRpb24ueip1X3pvb207ZmxvYXQgaD0wLjA7aWYodl9ib3JkZXJXaWR0aCE9MC4wKXtoPW1heCgxLjAsYWJzKHZfYm9yZGVyV2lkdGgpKmkpO31mbG9hdCBuPTAuMDtmbG9hdCBvPXZfZG9udXRTZWdtZW50Lng7aWYobz4wLjApe24rPW1heCgxLjAsbyppKTt9ZmxvYXQgcD12X2RvbnV0U2VnbWVudC55O2lmKHA+MC4wKXtpZihzdGVwKDUuMCxtKT09MS4wKXtuKz1tYXgoMS4wLHAqaSk7fWg9MC4wO31mbG9hdCBxPWFicyh2X3NoYXBlU2l6ZS56KSppO2Zsb2F0IHI9dl9zaGFwZVNpemUudyppO2Zsb2F0IHM9YWJzKDAuNS0odl90ZXhDb29yZC54L3ZfdGV4Q29vcmQueikpKnE7ZmxvYXQgdD1hYnMoMC41LSh2X3RleENvb3JkLnkvdl90ZXhDb29yZC53KSkqcjtmbG9hdCB1PTAuNSpxO2Zsb2F0IHY9MC41KnI7ZmxvYXQgdz0xLjA7aWYoaD4wLjApe2Zsb2F0IHg9bitoO2Zsb2F0IHk9c3RlcCh1LXgscyk7ZmxvYXQgej1zdGVwKHYteCx0KTt3PW1heCh5LHopO31mbG9hdCBBPTAuMDtpZihuPjAuMCl7ZmxvYXQgQj1zdGVwKHUtbixzKTtmbG9hdCBDPXN0ZXAodi1uLHQpO0E9bWF4KEIsQyk7fXJldHVybiB3KigxLjAtQSk7fWZsb2F0IEQoZmxvYXQgRSx2ZWM0IEYpe2Zsb2F0IEc7aW50IEg9ZihFKTtpZihIPT0wKXtHPUYucjt9ZWxzZSBpZihIPT0xKXtHPUYuZzt9ZWxzZXtHPUYuYjt9cmV0dXJuIEc7fXZlYzQgSShmbG9hdCBKLHZlYzQgSyxmbG9hdCBMKXtmbG9hdCBNPShLLnIrSy5iK0suZykvMy4wO2Zsb2F0IE49c3RlcCgxLjAsTSkqTDtmbG9hdCBPPU4qKHN0ZXAoMC4yNSxKKSptaW4oTSwwLjI1KSk7dmVjNCBQPXZlYzQoKEsucmdiK08pKksuYSxLLmEpO3JldHVybiBKKlA7fWZsb2F0IFEodmVjMiBSLGZsb2F0IFMsZmxvYXQgVCxmbG9hdCBoLGZsb2F0IFUpe1U9bWF4KDAuMCxVLWgpO2Zsb2F0IHU9Uy8yLjA7ZmxvYXQgdj1ULzIuMDtmbG9hdCBhPXUtVS1oO2Zsb2F0IGI9di1VLWg7ZmxvYXQgeD1SLngtdTtmbG9hdCB5PVIueS12O2Zsb2F0IFY9cG93KG1heChhYnMoeCktYSwwLjApLDIuMCk7ZmxvYXQgVz1wb3cobWF4KGFicyh5KS1iLDAuMCksMi4wKTtyZXR1cm4gVitXO31mbG9hdCBYKGZsb2F0IFkpe3JldHVybiAoZGlzdGFuY2Uodl90ZXhDb29yZC56dyx2ZWMyKDAuNSkpKlkpKnVfem9vbTt9dmVjNCBaKHZlYzQgUCxmbG9hdCBVKXtmbG9hdCBiYT1wb3coVSwyLjApO2Zsb2F0IGJiPVEodl90ZXhDb29yZC54eSx2X3RleENvb3JkLnosdl90ZXhDb29yZC53LDAuMCxVKTtpZihhYnModl9ib3JkZXJXaWR0aCk+MC4wKXtQKj0xLjAtYihiYSxiYik7YmI9USh2X3RleENvb3JkLnh5LHZfdGV4Q29vcmQueix2X3RleENvb3JkLncsdl9ib3JkZXJXaWR0aCxVKTtmbG9hdCBiYz1tYXgoMC4wLFUtdl9ib3JkZXJXaWR0aCk7ZmxvYXQgYmQ9cG93KGJjLDIuMCk7UCo9YihiZCxiYik7fWVsc2V7UCo9MS4wLWIoYmEsYmIpO31yZXR1cm4gUDt9dmVjNCBiZSh2ZWM0IGJmLHZlYzQgYmcsZmxvYXQgTCl7ZmxvYXQgSj1EKHZfdGV4dHVyZUJhbmsueSxiZik7cmV0dXJuIEkoSixiZyxMKTt9ZmxvYXQgYmgoZmxvYXQgbSl7cmV0dXJuIG1heCgwLjIsc21vb3Roc3RlcCgwLjAsNS4wLG0pKTt9dm9pZCBtYWluKCl7ZmxvYXQgcT1hYnModl9zaGFwZVNpemUueik7ZmxvYXQgcj12X3NoYXBlU2l6ZS53O2Zsb2F0IGJpPWFicyh2X3NoYXBlU2l6ZS54KTtmbG9hdCBiaj12X3NoYXBlU2l6ZS55O2Zsb2F0IGJrPW1pbihiaSxiaik7ZmxvYXQgbT0oKGJrLzIuMCkqdV96b29tKS0wLjU7ZmxvYXQgaD1hYnModl9ib3JkZXJXaWR0aCk7dmVjNCBQO2ludCBibD1mKHVfc2hhZG93VHlwZSk7Ym9vbCBibT1mKHZfc2hhcGVTaXplLngpPjA7Ym9vbCBibj1mKHZfc2hhcGVTaXplLngpPDA7Ym9vbCBibz1mKHZfYm9yZGVyV2lkdGgpPDA7Ym9vbCBicD1ibD09MTtib29sIGJxPWYodV9oaXRUZXN0KT09MTt2ZWMyIGJyPXZfdGV4Q29vcmQuenc7ZmxvYXQgYnM9dl9kb251dFNlZ21lbnQueDtmbG9hdCBidD12X2RvbnV0U2VnbWVudC55O2Zsb2F0IFU9bWF4KC12X2RvbnV0U2VnbWVudC54LDAuMCk7aW50IEU9Zih2X3RleHR1cmVCYW5rLngpO2Jvb2wgYnU9Ym4mJih2X2JvcmRlcldpZHRoIT0wLjB8fHZfZG9udXRTZWdtZW50Lng+MC4wfHx2X2RvbnV0U2VnbWVudC55PjAuMCk7Ym9vbCBidj1FPT0tMztib29sIGJ3PWJtJiYoYnMhPTAuMHx8YnQhPTAuMCk7ZmxvYXQgYng7aWYoYnd8fGJvKXtpZihicz5hKXticy09Mi4wKmE7fWlmKGJ0PmEpe2J0LT0yLjAqYTt9ZmxvYXQgeD1ici54LTAuNTtmbG9hdCB5PWJyLnktMC41O2J4PWF0YW4oeSx4KTt9aWYoYnEpe2lmKGJsPT0tMSl7ZGlzY2FyZDt9ZWxzZXtmbG9hdCBieT1sZW5ndGgoc3RlcCgxLjAsdl9oaXRUZXN0Q29sb3VyKSk7UD12ZWM0KHZfaGl0VGVzdENvbG91ci8yNTUuMCxieSk7aWYoYm0pe2Zsb2F0IGJ6PVgocSk7UCo9MS4wLXN0ZXAobSxieik7aWYoaD4wLjApe2Zsb2F0IGJBPWgqdV96b29tO1AqPXN0ZXAobS1iQSxieik7fWlmKGJ3KXtpZihicz49YnQpe1AqPXN0ZXAoYnMsYngpKygxLjAtc3RlcChidCxieCkpO31lbHNle1AqPXN0ZXAoYnMsYngpO1AqPTEuMC1zdGVwKGJ0LGJ4KTt9fX1lbHNlIGlmKFU+MC4wKXtmbG9hdCBiQj1wb3coVSwyLjApO2Zsb2F0IGJDPVEodl90ZXhDb29yZC54eSx2X3RleENvb3JkLnosdl90ZXhDb29yZC53LDAuMCxVKTtQKj0xLjAtc3RlcChiQixiQyk7fWVsc2UgaWYoYnUpe1AqPWwobSk7fX19ZWxzZSBpZihicCl7ZGlzY2FyZDt9ZWxzZXtQPXZfY29sb3VyLzI1NS4wO2Zsb2F0IGJEPVAuYTtpZihFPj0wKXt2ZWM0IEY7ZmxvYXQgYkU9LTIuMC8zLjA7ZmxvYXQgYkY9LTAuODtpZihFPT0wKXtGPXRleHR1cmUyRCh1X2ltYWdlWzBdLHZfdGV4Q29vcmQueHksYkYpO1A9YmUoRixQLDEuMCk7fWVsc2UgaWYoRT09MSl7Rj10ZXh0dXJlMkQodV9pbWFnZVsxXSx2X3RleENvb3JkLnh5LGJGKTtQPWJlKEYsUCwxLjApO31lbHNlIGlmKEU9PTIpe0Y9dGV4dHVyZTJEKHVfaW1hZ2VbMl0sdl90ZXhDb29yZC54eSxiRik7UD1iZShGLFAsMS4wKTt9ZWxzZSBpZihFPT0zKXtGPXRleHR1cmUyRCh1X2ltYWdlWzNdLHZfdGV4Q29vcmQueHksYkUpO1A9YmUoRixQLDAuMCk7fWVsc2UgaWYoRT09NCl7UD10ZXh0dXJlMkQodV9pbWFnZVs0XSx2X3RleENvb3JkLnh5LGJFKSpiRDt9ZWxzZSBpZihFPT01KXtQPXRleHR1cmUyRCh1X2ltYWdlWzVdLHZfdGV4Q29vcmQueHksYkUpKmJEO31lbHNlIGlmKEU9PTYpe1A9dGV4dHVyZTJEKHVfaW1hZ2VbNl0sdl90ZXhDb29yZC54eSxiRSkqYkQ7fX1lbHNle2Zsb2F0IGJEPVAuYTtQPXZlYzQoUC5yZ2IqYkQsYkQpO31pZihibSl7ZmxvYXQgYno9WChxKTtQKj0xLjAtYihtLGJ6KTtpZihoPjAuMCl7ZmxvYXQgYkE9bWF4KDEuMCxoKnVfem9vbSk7UCo9YihtLWJBLGJ6KTtQKj1iaChtKTt9aWYoYncpe2Zsb2F0IGJHPXZfcGl4ZWwqMS41O2Zsb2F0IGJIPWJzLWJHO2Zsb2F0IGJJPWJzK2JHO2Zsb2F0IGJKPWJ0LWJHO2Zsb2F0IGJLPWJ0K2JHO2lmKGJzPj1idCl7UCo9c21vb3Roc3RlcChiSCxiSSxieCkrKDEuMC1zbW9vdGhzdGVwKGJKLGJLLGJ4KSk7fWVsc2V7UCo9c21vb3Roc3RlcChiSCxiSSxieCk7UCo9MS4wLXNtb290aHN0ZXAoYkosYkssYngpO319ZWxzZSBpZihibyl7ZmxvYXQgYkw9aCoyLjA7ZmxvYXQgYk09YkwvMi4wO2Zsb2F0IGJOPTIuMCooYSooYmkvMi4wKSk7ZmxvYXQgYk89YngvKDIuMCphKTtmbG9hdCBiUD1mbG9vcigoYk4rYk0pLyhiTCtiTSktMS4wKTtmbG9hdCBiUT1zaW4oKChiTypiUCkpKigyLjAqYSkpO1AqPWIoLTAuNSxiUSk7fX1lbHNlIGlmKFU+MC4wKXtQPVooUCxVKTt9ZWxzZSBpZihidSl7UCo9bChtKTtpZih2X2JvcmRlcldpZHRoPjAuMCl7Ym9vbCBiUj1mKHZfZG9udXRTZWdtZW50LnkpPT0tMTtpZighYlIpe1AqPWJoKG0pO31pZihidil7ZmxvYXQgYk09ZyhoKTtmbG9hdCBiTD1iTSoyLjA7ZmxvYXQgYlA9Zmxvb3IoKHZfdGV4Q29vcmQueitiTSkvKGJMK2JNKSkrMC41O2Zsb2F0IGJRPXNpbigoKCh2X3RleENvb3JkLngvdl90ZXhDb29yZC56KSpiUCkpKigyLjAqYSkpO1AqPXN0ZXAoLTAuNDksYlEpO2JQPWZsb29yKCh2X3RleENvb3JkLncrYk0pLyhiTCtiTSkpKzAuNTtiUT1zaW4oKCgodl90ZXhDb29yZC55L3ZfdGV4Q29vcmQudykqYlApKSooMi4wKmEpKTtQKj1iKC0wLjQ5LGJRKTt9fX19Z2xfRnJhZ0NvbG9yPVA7fQ==",qh["triangle-vertex"]="cHJlY2lzaW9uIGhpZ2hwIGZsb2F0O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247YXR0cmlidXRlIHZlYzQgYV90ZXhDb29yZDthdHRyaWJ1dGUgdmVjMyBhX2hpdFRlc3RDb2xvdXI7YXR0cmlidXRlIGZsb2F0IGFfdmVydGV4SW5kZXg7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlQmFuazthdHRyaWJ1dGUgdmVjNCBhX2NvbG91cjthdHRyaWJ1dGUgZmxvYXQgYV9jaXJjbGVSYWRpdXM7YXR0cmlidXRlIGZsb2F0IGFfd2lkdGg7YXR0cmlidXRlIGZsb2F0IGFfc3RhcnRBbmdsZTthdHRyaWJ1dGUgZmxvYXQgYV9lbmRBbmdsZTthdHRyaWJ1dGUgZmxvYXQgYV9hbmNob3I7dW5pZm9ybSB2ZWMzIHVfcmVzb2x1dGlvbjt1bmlmb3JtIG1hdDQgdV90cmFuc2Zvcm07dW5pZm9ybSBmbG9hdCB1X3pvb207dW5pZm9ybSBsb3dwIGZsb2F0IHVfaGl0VGVzdDt1bmlmb3JtIHNhbXBsZXIyRCB1X2FuY2hvclRleHR1cmU7dW5pZm9ybSBmbG9hdCB1X2FuY2hvclRleHR1cmVTaXplO3VuaWZvcm0gYm9vbCB1X3VzZUFuY2hvcjt1bmlmb3JtIGJvb2wgdV92aWV3SW5kZXBlbmRlbnQ7dW5pZm9ybSBib29sIHVfYWRhcHRpdmVTdHlsaW5nO3ZhcnlpbmcgZmxvYXQgdl9ib3JkZXJXaWR0aDt2YXJ5aW5nIHZlYzQgdl9zaGFwZVNpemU7dmFyeWluZyB2ZWM0IHZfdGV4Q29vcmQ7dmFyeWluZyB2ZWM0IHZfY29sb3VyO3ZhcnlpbmcgdmVjMyB2X2hpdFRlc3RDb2xvdXI7dmFyeWluZyB2ZWMyIHZfdGV4dHVyZUJhbms7dmFyeWluZyBmbG9hdCB2X3BpeGVsO3ZhcnlpbmcgdmVjMiB2X2RvbnV0U2VnbWVudDtpbnQgYShmbG9hdCBhKXtyZXR1cm4gaW50KGZsb29yKGErMC41KSk7fWZsb2F0IGIoZmxvYXQgYyl7dmVjMiBkPXZlYzIobW9kKGMsdV9hbmNob3JUZXh0dXJlU2l6ZSksZmxvb3IoYy91X2FuY2hvclRleHR1cmVTaXplKSk7ZCs9MC41O3ZlYzIgZT12ZWMyKGQvdV9hbmNob3JUZXh0dXJlU2l6ZSk7cmV0dXJuIHRleHR1cmUyRCh1X2FuY2hvclRleHR1cmUsZSkucjt9dmVjMiBmKGZsb2F0IGMpe3JldHVybiB2ZWMyKGIoYyksYihjKzEuMCkpO312ZWMyIGcodmVjMiBhKXtyZXR1cm4gZmxvb3IoYSswLjUpO312ZWMyIGgodmVjMiBpKXt2ZWMyIGo9aS91X3Jlc29sdXRpb24ueHk7dmVjMiBrPWoqMi4wO3JldHVybiBrLTEuMDt9dmVjMiBsKHZlYzIgaSl7aSs9MS4wO2kvPTIuMDtyZXR1cm4gaSp1X3Jlc29sdXRpb24ueHk7fXZlYzIgbSh2ZWMyIG4pe2Zsb2F0IG89bGVuZ3RoKG4qdV96b29tKTt2ZWMyIHA9bm9ybWFsaXplKG4pO3JldHVybiBwKihtYXgoMC4wLDIuMC1vKS91X3pvb20pO31mbG9hdCBtKGZsb2F0IHEpe2Zsb2F0IG89bGVuZ3RoKHEqdV96b29tKTtyZXR1cm4gbWF4KHEsKDIuMC1vKS91X3pvb20pO31mbG9hdCByKGZsb2F0IHEpe2Zsb2F0IG89cSp1X3pvb207cmV0dXJuIHNtb290aHN0ZXAoMi4wLDMuMCxvKTt9dmVjMiBzKGludCB0LGZsb2F0IHEpe3ZlYzIgcDtpZih0PT0wKXtwPW5vcm1hbGl6ZSh2ZWMyKC0xLjAsLTEuMCkpO31lbHNlIGlmKHQ9PTEpe3A9bm9ybWFsaXplKHZlYzIoMS4wLC0xLjApKTt9ZWxzZSBpZih0PT0yKXtwPW5vcm1hbGl6ZSh2ZWMyKC0xLjAsMS4wKSk7fWVsc2UgaWYodD09Myl7cD1ub3JtYWxpemUodmVjMigxLjAsMS4wKSk7fXJldHVybiBwKmxlbmd0aCh2ZWMyKHEpKTt9dm9pZCBtYWluKCl7dmVjNCB1PWFfY29sb3VyO2Jvb2wgdj1hKHVfaGl0VGVzdCk9PTE7Ym9vbCB3PWFfY2lyY2xlUmFkaXVzPjAuMDtmbG9hdCB4PWFfY2lyY2xlUmFkaXVzO2ludCB5PWEoYV90ZXh0dXJlQmFuay54KTtib29sIHo9YShhX2NpcmNsZVJhZGl1cyk9PS0xO2Zsb2F0IEE9MC4wO2Jvb2wgQj1mYWxzZTt2ZWMyIEM9YV9wb3NpdGlvbi54eTt2ZWMyIEQ9YV9wb3NpdGlvbjtmbG9hdCBFO2Zsb2F0IEY7ZmxvYXQgRztmbG9hdCBIO3ZlYzIgcDtpbnQgdD1hKGFfdmVydGV4SW5kZXgpO2lmKHcpe2lmKHVfYWRhcHRpdmVTdHlsaW5nJiYhdV92aWV3SW5kZXBlbmRlbnQpe3g9bSh4KTt9RT1hYnMoeCk7Rj1FO31lbHNle0U9YV90ZXhDb29yZC56LzIuMDtGPWFfdGV4Q29vcmQudy8yLjA7fUc9RSoyLjA7SD1IKjIuMDtmbG9hdCBJPTAuMDtpZih5PjMpe2lmKHVfYWRhcHRpdmVTdHlsaW5nJiYhdV92aWV3SW5kZXBlbmRlbnQpe0QrPW0oQyk7fUk9YV93aWR0aDtEKz1zKHQsSS91X3pvb20pO31lbHNlIGlmKCh5Pi0xJiZ5PDMpfHx5PT0tNCl7QT1hYnMoYV93aWR0aCk7Qj1hKEEpPjA7aWYodV9hZGFwdGl2ZVN0eWxpbmcpe3UuYSo9cihtaW4oRSxGKSk7fX1lbHNle2lmKHVfYWRhcHRpdmVTdHlsaW5nJiYhdV92aWV3SW5kZXBlbmRlbnQpe0QrPW0oQyk7fUE9YWJzKGFfd2lkdGgpO0I9YShBKT4wO31mbG9hdCBKPTAuMDtpZigheil7Sj1jZWlsKEEvMi4wKTt9aWYoQil7aWYodil7ZmxvYXQgSz0oNy4wL3Vfem9vbSk7QSs9SztKKz1jZWlsKEsvMi4wKTt9dmVjMiBMPXModCxKKTtEKz1MO0crPWFicyhMLngqMi4wKTtIKz1hYnMoTC55KjIuMCk7fWlmKHVfdXNlQW5jaG9yJiZhX2FuY2hvcj4tMC41KXtmbG9hdCBNPWIoYV9hbmNob3IrMi4wKTt2ZWMyIE49dmVjMihzaW4oLU0pLGNvcygtTSkpO3ZlYzIgTz12ZWMyKChELngqTi55KStELnkqTi54LChELnkqTi55KS1ELngqTi54KTtEPU8rZihhX2FuY2hvcik7fWlmKHYpe0QqPTEuMC1zdGVwKGFfaGl0VGVzdENvbG91ci54K2FfaGl0VGVzdENvbG91ci55K2FfaGl0VGVzdENvbG91ci56LDAuMCk7fWdsX1Bvc2l0aW9uPXVfdHJhbnNmb3JtKnZlYzQoaChEKSp2ZWMyKDEsLTEpLDAsMSk7aWYoIXcpe3ZlYzIgUD1nbF9Qb3NpdGlvbi54eTtQPWwoUCk7UD1nKFAqdV9yZXNvbHV0aW9uLnopL3VfcmVzb2x1dGlvbi56O2dsX1Bvc2l0aW9uLnh5PWgoUCk7fXZfdGV4Q29vcmQ9YV90ZXhDb29yZDt2X2NvbG91cj11O3ZfaGl0VGVzdENvbG91cj1hX2hpdFRlc3RDb2xvdXI7dl90ZXh0dXJlQmFuaz1hX3RleHR1cmVCYW5rO2lmKHcpe2Zsb2F0IFE9KEEvMi4wKTtmbG9hdCBSPSh4K1EpKjIuMDt2X3NoYXBlU2l6ZT12ZWM0KFIsUixHLEcpO31lbHNle2Zsb2F0IFE9MC4wO2lmKCF6KXtRPShBLzIuMCk7fXZfc2hhcGVTaXplPXZlYzQoLWFfdGV4Q29vcmQuei1RLGFfdGV4Q29vcmQudytRLC1hX3RleENvb3JkLnotSixhX3RleENvb3JkLncrSik7fXZfYm9yZGVyV2lkdGg9QSpzaWduKGFfd2lkdGgpO3ZfcGl4ZWw9KDEuMC8oYV9jaXJjbGVSYWRpdXMqMi4wKSkvdV96b29tO3ZfZG9udXRTZWdtZW50PXZlYzIoYV9zdGFydEFuZ2xlLGFfZW5kQW5nbGUpO30=",qh["renderToTexture-fragment"]="CiNpZmRlZiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMKCiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlCgojZW5kaWYKcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dW5pZm9ybSBmbG9hdCB1X2dsb2JhbEFscGhhO3VuaWZvcm0gdmVjNCB1X2JhY2tncm91bmRDb2xvdXI7dmFyeWluZyB2ZWMyIHZfdGV4Q29vcmQ7dm9pZCBtYWluKCl7dmVjNCBhPXVfYmFja2dyb3VuZENvbG91ci8yNTUuMDthPXZlYzQoYS5yZ2IqYS5hLGEuYSk7Z2xfRnJhZ0NvbG9yPShhK3RleHR1cmUyRCh1X2ltYWdlLHZfdGV4Q29vcmQpKSp1X2dsb2JhbEFscGhhO30=",qh["renderToTexture-vertex"]="cHJlY2lzaW9uIGhpZ2hwIGZsb2F0O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247YXR0cmlidXRlIHZlYzIgYV90ZXhDb29yZDt2YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDt2b2lkIG1haW4oKXtnbF9Qb3NpdGlvbj12ZWM0KGFfcG9zaXRpb24sMC4wLDEuMCk7dl90ZXhDb29yZD1hX3RleENvb3JkO30=";var ip="undefined"!=typeof window,op=!1,ap=!1;function sp(t,e){return t.some(function(t){return e.indexOf(t)>-1})}function lp(){if(ap)return!op;if(ip){var t="file:"!==document.location.protocol,e=["OES_standard_derivatives","OES_element_index_uint","ANGLE_instanced_arrays"],n=tp({failIfMajorPerformanceCaveat:!0}),r=void 0;if(t=t&&!!n){var i=n.getSupportedExtensions(),o={};for(r=0;r<i.length;r++)o[i[r]]=!0;for(r=0;t&&r<e.length;r++)t=t&&o[e[r]]}if(t){var a=n.getExtension("WEBGL_debug_renderer_info");if(a){var s=n.getParameter(a.UNMASKED_VENDOR_WEBGL),l=n.getParameter(a.UNMASKED_RENDERER_WEBGL);t=!(sp(["VMware","VirtualBox"],s)||sp(["Google SwiftShader","Microsoft Basic Render Driver","VirtualBox","Parallels","VMware"],l))}a=null}return n=null,op=op||!t,ap=!0,t}return!op}var up={longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ampm:["AM","PM"],quarter:"Q",half:"H"},cp=[31,28,31,30,31,30,31,31,30,31,30,31],dp={milli:0,sec:1,min:2,hour:3,day:4,week:5,month:6,year:7};function fp(t,e){return e?t-t%e:0}function hp(t){if(t<dp.milli||dp.year<t)throw new Error("bad unit range")}function pp(t){return 1===new Date(t,1,29).getMonth()}function gp(t){return Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function vp(t){var e=new Date(t);return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function mp(t,e,n){hp(e);var r=new Date(t);switch(e>dp.milli&&r.setUTCMilliseconds(0),e>dp.sec&&r.setUTCSeconds(0),e>dp.min&&r.setUTCMinutes(0),e>dp.hour&&r.setUTCHours(0),e>=dp.month&&r.setUTCDate(1),e>=dp.year&&r.setUTCMonth(0),e){case dp.milli:r.setUTCMilliseconds(fp(r.getUTCMilliseconds(),n));break;case dp.sec:r.setUTCSeconds(fp(r.getUTCSeconds(),n));break;case dp.min:r.setUTCMinutes(fp(r.getUTCMinutes(),n));break;case dp.hour:r.setUTCHours(fp(r.getUTCHours(),n));break;case dp.day:break;case dp.week:var i=r.getUTCDay(),o=i>=1?i-1:6;r.setTime(r.getTime()-24*o*60*60*1e3);break;case dp.month:r.setUTCMonth(fp(r.getUTCMonth(),n));break;case dp.year:r.setUTCFullYear(fp(r.getUTCFullYear(),n))}return r.getTime()}function yp(t,e,n){if(hp(e),e<=dp.week){var r=n;return e>dp.milli&&(r*=1e3),e>dp.sec&&(r*=60),e>dp.min&&(r*=60),e>dp.hour&&(r*=24),e>dp.day&&(r*=7),t+r}var i=new Date(t);switch(e){case dp.month:var o=i.getUTCMonth()+n,a=o%12,s=Math.floor(o/12);a<0&&(a+=12);var l=i.getUTCDate();l=Math.min(l,function(t,e){return 1===t&&pp(e)?29:cp[t]}(a,i.getUTCFullYear()+s)),i.setUTCDate(l),i.setUTCMonth(a),0!==s&&i.setTime(yp(i.getTime(),dp.year,s));break;case dp.year:1===i.getUTCMonth()&&29===i.getUTCDate()&&(pp(i.getUTCFullYear()+n)||i.setTime(yp(i.getTime(),dp.day,-1))),i.setUTCFullYear(i.getUTCFullYear()+n)}return i.getTime()}function bp(t){for(var e=""+t;e.length<2;)e="0"+e;return e}var xp=new RegExp("(f?f?f)|(s?s)|(m?m)|(h?h)|(H?H)|(t?t?t)|(d?d?d?d)|(M?M?M?M?M)|(Q?Q)|yyyy|yy","gm"),wp={f:function(t){return Math.floor(t.getUTCMilliseconds()/100)},ff:function(t){return bp(Math.floor(t.getUTCMilliseconds()/10))},fff:function(t){return bp(Math.floor(t.getUTCMilliseconds()))},s:function(t){return t.getUTCSeconds()},ss:function(t){return bp(t.getUTCSeconds())},m:function(t){return t.getUTCMinutes()},mm:function(t){return bp(t.getUTCMinutes())},h:function(t){return t.getUTCHours()%12||12},hh:function(t){return bp(t.getUTCHours()%12||12)},H:function(t){return t.getUTCHours()},HH:function(t){return bp(t.getUTCHours())},t:function(t,e){return e.ampm[Math.floor(t.getUTCHours()/12)].charAt(0)},tt:function(t,e){return e.ampm[Math.floor(t.getUTCHours()/12)]},ttt:function(t,e){var n=Math.floor(t.getUTCHours()/12);return e.ampm[n+2]||e.ampm[n]},d:function(t){return t.getUTCDate()},dd:function(t){return bp(t.getUTCDate())},ddd:function(t,e){return e.shortDays[t.getUTCDay()]},dddd:function(t,e){return e.longDays[t.getUTCDay()]},M:function(t){return t.getUTCMonth()+1},MM:function(t){return bp(t.getUTCMonth()+1)},MMM:function(t,e){return e.shortMonths[t.getUTCMonth()]},MMMM:function(t,e){return e.longMonths[t.getUTCMonth()]},MMMMM:function(t,e){return e.shortMonths[t.getUTCMonth()].substr(0,1)},Q:function(t,e){var n=t.getUTCMonth(),r=Math.floor(n/3)+1;return e.quarter+r},QQ:function(t,e){var n=t.getUTCMonth(),r=Math.floor(n/6)+1;return e.half+r},yyyy:function(t){return t.getUTCFullYear()},yy:function(t){return bp(t.getUTCFullYear()%100)}},Cp="(?::)?",Ap="(?:-|$)";function _p(t){var e;return t instanceof Date?e=gp(t):"number"==typeof t&&(e=Math.round(t)),e}new RegExp("^(\\d{4})"+Ap+"(\\d{2})?"+Ap+"(\\d{2})?(?:T|$)(\\d{2})?"+Cp+"(\\d{2})?"+Cp+"(\\d{2})?(?:Z)?(\\+|-)?(\\d{2})?"+Cp+"(\\d{2})?");var Mp=["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"];function Ep(t){for(var e=[],n=0;n<t.length;n++)e[n]=Ie(t[n],.8);return e}function kp(){var t=dp,e={fontFamily:"sans-serif",fontSize:12},r=["backColour","fontColour","sliderColour","sliderLineColour"];function i(t,e){return function(t,e,n){var r="number"==typeof t?new Date(t):t;return e.replace(xp,function(t){return wp[t](r,n||up)})}(t,e,h.options.locale)}function o(e,n){var r=new Date(yp(e,t.year,n-1));return i(e,"yyyy - ")+i(r,"yyyy")}function s(t){return o(t,10)}function l(t){return o(t,50)}function u(t){return i(t,"yyyy")+"s"}function c(t){return i(t,"dmy"===h.options.locale.order?"d MMM yyyy":"MMM d, yyyy")}function d(t){return i(t,h.options.locale.h12?"h:mm tt":"HH:mm")}function f(t){return i(t,h.options.locale.h12?"h:mm:ss tt":"HH:mm:ss")}var h={displayTime:function(t,e){return x(e)?e(t):i(t,e)},baseRangeLimits:{max:315576e7,min:3e3},options:{_area:{stdDev:7},area:{colour:"rgba(32, 32, 200, 0.67)"},scale:{highlightColour:"#F2F2F2",showMajor:!0,showMinor:!0},backColour:"#FFFFFF",fontColour:ie.grey,fontFamily:e.fontFamily,fontSize:e.fontSize,groups:{groupBy:null,categories:null,colours:null,hiColours:null},showControlBar:!0,showPlay:!0,showExtend:!1,showFit:!0,sliderColour:"rgba(255, 255, 255, 0.6)",sliderLineColour:"#bbb",sliders:"fixed",maxRange:"auto",minRange:3e3,minScale:{units:"sec",value:1},_showShadowCanvas:!1,histogram:{colour:"#d0d0d0",highlightColour:"#a9a9a9",markColour:"#ea7378",markHiColour:"#e03038"},heightChange:{animate:!0,time:200},locale:T(up,{order:"mdy",h12:!0}),playSpeed:60,type:"histogram"},getOptions:function(){return a(h.options,!0)},setOptions:function(t){w(t)&&n(t,function(t,n){if(R(h.options,n)){var i=n;if(i in e)!function(t,n){if("fontFamily"===t&&(h.options.fontFamily="string"==typeof n&&$e(n)||e.fontFamily),"fontSize"===t){var r=+n;m(r)&&r>0&&(h.options.fontSize=r)}}(i,t);else if("groups"===i)!function(t){if(w(t)){var e=t;"string"!=typeof e.groupBy&&null!==e.groupBy||(h.options.groups.groupBy=e.groupBy),null===e.categories?h.options.groups.categories=null:Array.isArray(e.categories)&&(e.categories.some(function(t){return!("string"==typeof t||"number"==typeof t)})||(h.options.groups.categories=e.categories)),Array.isArray(e.colours)&&e.colours.length?e.colours.some(function(t){return!("string"==typeof t&&ge(t))})||(h.options.groups.colours=e.colours,h.computedGroupColours=e.colours):null===e.colours&&(h.options.groups.colours=null,h.computedGroupColours=Mp),Array.isArray(e.hiColours)&&e.hiColours.length?e.hiColours.some(function(t){return!("string"==typeof t&&ge(t))})||(h.options.groups.hiColours=e.hiColours):null===e.hiColours&&(h.options.groups.hiColours=null),h.computedGroupHiColours=h.options.groups.hiColours||Ep(h.computedGroupColours)}}(t);else{var o=t;w(h.options[i])&&(o=T(t,h.options[i])),function(t,e){if("histogram"===t){if("object"!=typeof e||!e)return!1;var n=e;if(n.colour&&("string"!=typeof n.colour||!ge(n.colour)))return!1;if(n.highlightColour&&("string"!=typeof n.highlightColour||!ge(n.highlightColour)))return!1}return"maxRange"===t&&"string"==typeof e?"auto"===e:"maxRange"===t||"minScale"===t?!!e.value&&"number"==typeof e.value&&!!e.units&&-1!==["sec","min","hour","day","week","month","year"].indexOf(e.units):!G(r,t)||"string"==typeof e&&ge(e)}(i,o)&&(h.options[i]=o)}}})},hoverTime:50,defaultAnimationTime:200,sliderReleaseTime:200,doubleClickZoomTime:500,doubleClickZoomTimeFree:250,playingExtend:!1,defaultPlaySpeed:60,bars:{defaultFontSize:e.fontSize,major:{height:19,textbase:3,tickHeight:10},minor:{height:17,textbase:0,tickHeight:8}},grip:{lines:2,space:4,length:14,margin:2},controlbar:{height:30,space:4,colour:"#ddd"},fixedSideFactor:.5,freeSideFactor:.2,histogram:{dy:2,topdy:16,bardx:1,minwidth:11},computedGroupColours:Mp,computedGroupHiColours:Ep(Mp),selection:{maxNumber:3,reducingFactor:.75,dotsize:3.5},rates:[{max:6,major:{units:t.sec,by:2,f:c},minor:{units:t.sec,by:1,f:f}},{max:15,major:{units:t.sec,by:5,f:c},minor:{units:t.sec,by:1,f:f}},{max:24,major:{units:t.sec,by:10,f:c},minor:{units:t.sec,by:2,f:f}},{max:60,major:{units:t.sec,by:15,f:c},minor:{units:t.sec,by:5,f:f}},{max:120,major:{units:t.sec,by:30,f:c},minor:{units:t.sec,by:10,f:f}},{max:360,major:{units:t.min,by:1,f:c},minor:{units:t.sec,by:30,f:f}},{max:1e3,major:{units:t.min,by:5,f:c},minor:{units:t.min,by:1,f:d}},{max:5e3,major:{units:t.min,by:15,f:c},minor:{units:t.min,by:5,f:d}},{max:15e3,major:{units:t.hour,by:1,f:c},minor:{units:t.min,by:15,f:d}},{max:6e4,major:{units:t.hour,by:6,f:c},minor:{units:t.hour,by:1,f:d}},{max:12e4,major:{units:t.day,by:1,f:c},minor:{units:t.hour,by:2,f:d}},{max:18e4,major:{units:t.day,by:1,f:c},minor:{units:t.hour,by:3,f:d}},{max:36e4,major:{units:t.day,by:1,f:c},minor:{units:t.hour,by:6,f:d}},{max:72e4,major:{units:t.day,by:1,f:c},minor:{units:t.hour,by:12,f:"ttt"}},{max:5e6,major:{units:t.week,by:1,f:function(e){var n,r,o=new Date(e),a=new Date(yp(e,t.day,6)),s="dmy"===h.options.locale.order;return o.getUTCFullYear()===a.getUTCFullYear()?o.getUTCMonth()===a.getUTCMonth()?(n=s?"d - ":"MMM d - ",r=s?"d MMM yyyy":"d, yyyy"):(n=s?"d MMM - ":"MMM d - ",r=s?"d MMM yyyy":"MMM d, yyyy"):(n=s?"d MMM yyyy - ":"MMM d, yyyy - ",r=s?"d MMM yyyy":"MMM d, yyyy"),i(o,n)+i(a,r)}},minor:{units:t.day,by:1,f:"d"}},{max:15e6,major:{units:t.month,by:1,f:"MMMM yyyy"},minor:{units:t.week,by:1,f:function(e){var n=yp(e,t.day,6);return i(e,"d - ")+i(n,"d")}}},{max:3e7,major:{units:t.month,by:3,f:"Q  yyyy"},minor:{units:t.month,by:1,f:"MMMM"}},{max:75e6,major:{units:t.month,by:3,f:"Q  yyyy"},minor:{units:t.month,by:1,f:"MMM"}},{max:1e8,major:{units:t.month,by:3,f:"Q  yyyy"},minor:{units:t.month,by:1,f:"MMMMM"}},{max:2e8,major:{units:t.month,by:6,f:"QQ  yyyy"},minor:{units:t.month,by:1,f:"MMMMM"}},{max:36e7,major:{units:t.year,by:1,f:"yyyy"},minor:{units:t.month,by:3,f:"Q"}},{max:6e8,major:{units:t.year,by:1,f:"yyyy"},minor:{units:t.month,by:6,f:"QQ"}},{max:15e8,major:{units:t.year,by:10,f:s},minor:{units:t.year,by:1,f:"'yy"}},{max:25e8,major:{units:t.year,by:10,f:s},minor:{units:t.year,by:2,f:"'yy"}},{max:35e8,major:{units:t.year,by:10,f:s},minor:{units:t.year,by:5,f:"'yy"}},{max:115e8,major:{units:t.year,by:50,f:l},minor:{units:t.year,by:10,f:"'yy"}},{max:2e10,major:{units:t.year,by:50,f:l},minor:{units:t.year,by:25,f:"'yy"}},{max:35e9,major:{units:t.year,by:100,f:u},minor:{units:t.year,by:25,f:"'yy"}},{max:8e10,major:{units:t.year,by:100,f:u},minor:{units:t.year,by:50,f:"'yy"}},{max:16e10,major:{units:t.year,by:200,f:"yyyy"},minor:{units:t.year,by:100,f:""}},{max:4e11,major:{units:t.year,by:500,f:"yyyy"},minor:{units:t.year,by:100,f:""}},{max:1/0,major:{units:t.year,by:500,f:""},minor:{units:t.year,by:100,f:""}}]};return h}function Sp(t,e,n){var r=[];return t(function(t){t.startTotals.length&&r.push(t.startTotals[n]-t.endTotals[e])}),r}function Ip(t,e,n,r,i,o){t(function(t,a){if(t){var s=t.startTotals[i]-t.endTotals[r];e.selvalues[a][n]=s,s>e.maxselvalue&&!o&&(e.maxselvalue=s)}})}function Tp(t,e,n){return t.some(function(t){if(w(t)){var r=t;if(!V(r.dt1)&&!V(r.dt2)){var i=_p(r.dt1),o=_p(r.dt2);if(i<n&&o>e)return!0}}else{var a=_p(t);if(a>=e&&a<n)return!0}return!1})}var Lp=null,Op=null,Rp=null;function Pp(t,e,n,r,i,o,a,s){var l,u=1*n.timeRate,c=e.t1,d=0,f=0,h=t.options._area.stdDev,p=Math.ceil(4*h),g=8*p,v=function(t,e,n,r,i,o){var a,s,l,u,c,d=[],f=t*e,h=yp(r.t1,dp.milli,-f),p=yp(r.t2,dp.milli,f),g=h,v=i(g);function m(t){l+=t.startTotals[s]-t.endTotals[s],u+=t.startTotals[s]-t.startTotals[v],c+=t.endTotals[s]-t.endTotals[v]}do{a=g>p,g=yp(g,dp.milli,t/8),s=i(g),l=0,u=0,c=0,o(m),d.push({t:g,startValue:u,endValue:c,solidValue:l}),v=s}while(!a);return d}(u,p,0,e,r,o);h===Op&&u===Lp||(Rp=function(t,e,n){for(var r=[],i=0;i<2*n;i++){var o=(i-n)*t/8;r.push(Math.exp(-o*o/e))}return r}(u,n.timeRate*h*2*(n.timeRate*h),g),Lp=u,Op=h);do{l=c>e.t2;var m=i(c);c=yp(c,dp.milli,u);for(var y=0,b=g+8*d,x=Math.max(0,b-g),w=Math.min(v.length,b+g),C=x;C<w;C++){var A=v[C];y+=Rp[C-b+g]*(C<=b?A.endValue:A.startValue)}(y+=v[b].solidValue)>f&&!l&&(f=y),a(d,m,y),d++}while(!l);s(d-1,f)}function Vp(t){return t.t<=t.other}function Fp(t){return t.t>=t.other}var Dp=/^_tbLine(.)/;function Bp(t){return(0===t.indexOf("_tb")?t.substr(3):t).toLowerCase()}function Zp(t,e,r){var i,o,s=0,l=0,u=r.rates,c=[],d={named:new Map,other:{startTotals:[0],endTotals:[0]}},f=[],h={t1:0,t2:0},p={t1:0,t2:0},g={},v={t1:0,t2:0},y=[],b=[],x=null,C=[1,1e3,6e4,36e5,864e5,6048e5,2592e6,31536e6];function A(){t.privateFire("redraw")}function _(t,e,n,r){h.t1=t,h.t2=e,p.t1=n,p.t2=r,i&&(o=I(p),A()),q=!0,tt=!0}function M(t,e){return C[t.units]*t.by/e>=r.histogram.minwidth}function E(){return r.options.fontSize/r.bars.defaultFontSize}function k(){var t=0;if(T()){var e=function(t){return{units:R(dp,t.units)?t.units:dp.sec,value:m(t.value)?Math.round(Math.abs(t.value)):1}}(r.options.minScale);t=function(t,e){for(var n=dp[t],r=0;r<u.length;r++){var i=u[r].minor;if(i.units>n||i.units===n&&i.by>=e)return r>0?r-1:r}return u.length-2}(e.units,e.value)}return t}function I(t){for(var e=(t.t2-t.t1)/(i.x2-i.x1),n=function(t){for(var e=E(),n=0;u[n].max<t*e&&n<u.length;)n++;return n}(e),r=k(),o=u[n=n<=r?r+1:n].major,a=u[n].minor;n>0&&M(u[n-1].minor,e)&&n-1>r;)n--;return{histogram:u[n].minor,major:o,minor:a,timeRate:e}}function T(){return!!r.options.minScale}function L(t){return r.options.sliders===t}function O(){x=null;for(var t=0;t<y.length;t++)b[t]=null,y[t]=null;b.length=0,y.length=0}function P(t){var e,n;for(x=t,e=0;e<t.length;e++){var i=t[e].index||0;if(i<r.selection.maxNumber&&t[e].id){var o=S(t[e].id);if(o.length){y[i]=N(o),b[i]={startTotals:[],endTotals:[]};var a=0,s=0;for(n=0;n<c.length;n++){var l=c[n];b[i].startTotals[n]=a,b[i].endTotals[n]=s,l.id in y[i]&&(Vp(l)&&(a+=l.v),Fp(l)&&(s+=l.v))}b[i].startTotals[n]=a,b[i].endTotals[n]=s,F(i,t[e].c)}else!o.length&&b[i]&&(b[i]=null,y[i]=null)}}}function F(t,e){var n={colour0:"rgb(114, 179, 0)",colour1:"rgb(255, 153, 0)",colour2:"rgb(178, 38, 9)"}["colour"+t];e&&ge(e)&&(n=e),r.selection["colour"+t]=n}function D(t){for(var e=0,n=c.length;e<n;){var r=Math.floor((e+n)/2),i=c[r].t;i!==t||Vp(c[r])||i--,i<t?e=r+1:n=r}return e}function B(t){return i.x1+(t-p.t1)/rt()}function Z(t){return p.t1+(t-i.x1)*rt()}function G(t){return t>=i.bars.major.y1?"major":t>=i.bars.minor.y1?"minor":"histogram"}function z(){var t=r.options.groups;return!(!t.groupBy||!t.categories)}function j(t,e,n,r){for(var i=D(t),o=D(e),a=i;a<o;a++){var s=c[a];if(n?Vp(s):Fp(s)){var l=s.id;g[l]=(g[l]||0)+r}}}function Y(){var t=X(),e=t?2*(t.t2-t.t1):r.baseRangeLimits.max,n=r.baseRangeLimits.min;if(T()?n=function(){var t,e=k(),n=u[e].max;if(L("fixed"))t=s/(1+r.freeSideFactor);else if(L("free")){n=1;var i=u[e+1].minor;t=C[i.units]*i.by}else t=s;return Math.round(n*t)}():r.options.minRange&&(n=Math.max(n,r.options.minRange)),"auto"!==r.options.maxRange){var i=function(t){return{units:R(dp,t.units)?t.units:dp.sec,value:m(t.value)?Math.round(Math.abs(t.value)):r.baseRangeLimits.max}}(r.options.maxRange);e=i.value*C[dp[i.units]]}else e=Math.max(e,Math.floor(4*n));return{max:e,min:n=Math.min(n,Math.floor(e/4))}}function W(){var t=s,e=r.options.showControlBar?r.controlbar.height:0,n=E(),o=l-e,a=o-(r.options.scale.showMajor?r.bars.major.height*n:0),u=a-(r.options.scale.showMinor?r.bars.minor.height*n:0),c=u-r.histogram.dy,d=c-r.histogram.topdy;i={bars:{major:{y1:a,y2:o},minor:{y1:u,y2:a}},histogram:{ybase:c,maxbarh:d,maxselh:d*r.selection.reducingFactor},x1:0,y1:u,x2:t,y2:o,width:s,height:l}}function X(){if(c.length>0){for(var t=0;c[t].t===-1/0;)t++;for(var e=c[t].t,n=c.length-1;c[n].t===1/0;)n--;return{t1:e,t2:c[n].t+1}}}function K(t,e){var n,r=o[t],i=mp(p.t1,r.units,r.by),a=!1;do{a=e(i,n=yp(i,r.units,r.by),B(i),B(n),r.f),i=n}while(!a&&i<=p.t2)}var J,Q={count:0,bars:[],hasSel:[],selvalues:[],maxvalue:0,maxselvalue:0},q=!0,$={bars:[],count:0,hasSel:[],maxselvalue:0,maxvalue:0,selvalues:[]},tt=!0;function nt(){return h}function rt(){return o.timeRate}function it(n){var i=X();i&&h.t1>=i.t1&&n<=i.t1&&!r.playingExtend&&(e.trigger("start","data"),t.fire("start",{type:"data"}))}function ot(n){var r=X();r&&h.t2<=r.t2&&n>=r.t2&&(e.trigger("end","data"),t.fire("end",{type:"data"}))}function at(t,e,n){var r,i=t,o=e,a=X(),s=n?(i+o)/2:(h.t1+h.t2)/2,l=Y(),u=o-i;return u>l.max?(i=Math.ceil(s-l.max/2),o=Math.floor(s+l.max/2)):u<l.min&&(i=Math.floor(s-l.min/2),o=Math.ceil(s+l.min/2)),a&&(o<a.t1?(i+=r=a.t1-o,o+=r):i>a.t2&&(i-=r=i-a.t2,o-=r)),{t1:i,t2:o}}function st(t){var e=_p(t);if(!m(e))throw new Error("load: invalid date in dt property. Value was: "+t);return e}function lt(t){for(var e=[],n=S(t),r=0;r<n.length;r++){var i=n[r];if("object"==typeof i&&i){var o=i;if(o.id&&o.dt)for(var a=""+o.id,s=S(o.dt),l=void 0===o.v?void 0:S(o.v),u=w(o.d)?{d:o.d}:{},c=0;c<s.length;c++){var d=s[c],f=l&&l[c]||1;if(!m(f))throw new Error("load: invalid value in v property - must be numeric. Value was: "+f);if("object"!=typeof d||d instanceof Date){var h=st(d);e.push(H({id:a,t:h,v:f,other:h},u))}else{var p=null!==d&&"dt1"in d,g=null!==d&&"dt2"in d;if(!d||!p&&!g)throw new Error("load: TimePeriod object must have a dt1 or dt2 property. Id was: "+a);var v=d,y=p?st(v.dt1):-1/0,b=g?st(v.dt2):1/0;if(b<y)throw new Error("load: TimePeriod dt2 time must be after dt1 time. Id was: "+a);e.push(H({id:a,t:y,v:f,other:b},u)),b!==y&&e.push(H({id:a,t:b,v:f,other:y},u))}}}}return e.sort(pt)}function ut(t,e,n,r,i){t.startTotals[e+1]=t.startTotals[e]+(n?i:0),t.endTotals[e+1]=t.endTotals[e]+(r?i:0)}function ct(t,e){var n=r.options.groups.categories,i=!1,o=Vp(t),a=Fp(t);if(z())for(var s=0;s<n.length;s++){var l=n[s],u=!(!t.d||t.d[r.options.groups.groupBy]!==l);i=i||u,ut(d.named.get(l),e,o,a,u?t.v:0)}ut(d.other,e,o,a,i?0:t.v)}function dt(t){var e=Vp(t),n=Fp(t),r=0;e&&t.t<h.t2&&(r=1),n&&t.t<h.t1&&(r-=1),0!==r&&(g[t.id]=(g[t.id]||0)+r)}function ft(){x&&P(x),g={},d.named=new Map,d.other={startTotals:[0],endTotals:[0]},z()&&r.options.groups.categories.forEach(function(t){d.named.set(t,{startTotals:[0],endTotals:[0]})});for(var t=0;t<c.length;t++){var e=c[t];dt(e),ct(e,t)}v.t1=h.t1,v.t2=h.t2;var n=at(v.t1,v.t2,!0);return A(),n}function ht(t,e){return t===e?0:t===1/0||e===-1/0?1:t===-1/0||e===1/0?-1:t-e}function pt(t,e){var n=t.t===e.t?ht(t.other,e.other):ht(t.t,e.t);return 0===n&&(n=t.id===e.id?t.v-e.v:t.id>e.id?1:-1),n}function gt(t,e){var n=(t.t2-t.t1)*e;return{t1:t.t1-n,t2:t.t2+n}}function vt(t,e){var n;if(L("none"))n=t;else if(L("free")){var i=X();if(i){var o=Y();i.t2-i.t1<o.min&&(i.t1=Math.floor(i.t1-o.min/2),i.t2=Math.ceil(i.t2+o.min/2)),e&&(i=bt(i)),n=gt(i,r.freeSideFactor)}else n=p}else n=gt(t,r.fixedSideFactor);return n}function mt(n,i,o){var a=at(n,i,o);if(X()&&h.t1&&h.t2){var s=at(n+1,i+1),l=at(n-1,i-1);it(n),a.t1<h.t1&&l.t1===a.t1&&!r.playingExtend&&(e.trigger("start","range"),t.fire("start",{type:"range"})),ot(i),a.t2>h.t2&&s.t2===a.t2&&!r.playingExtend&&(e.trigger("end","range"),t.fire("end",{type:"range"}))}var u=vt(a,!0);_(a.t1,a.t2,u.t1,u.t2)}function yt(t){var e=I(vt(t,!1)).histogram,n=mp(t.t1,e.units,e.by),r=mp(t.t2,e.units,e.by);return r!==t.t2&&(r=yp(r,e.units,e.by)),{t1:n,t2:r}}function bt(t){var e,n=t;do{var r=yt(n);e=r.t1!==n.t1||r.t2!==n.t2,n=r}while(e);return n}var xt=et(function(n){var r=nt();J&&J.t1===r.t1&&J.t2===r.t2||(e.trigger("change"),t.fire("change",{type:n}),J={t1:r.t1,t2:r.t2})},250);function wt(t){z()&&d.named.forEach(t),t(d.other)}function Ct(t){for(var e=0;e<r.selection.maxNumber;e++)t(b[e],e)}return{dataRange:X,eachTick:K,findRange:function(t,e,n){var r,i=n||G(e),o=Z(t);return K(i,function(t,e){return e>o&&(r={t1:t,t2:e,bar:i},!0)}),r},fitHistogramBarsExactly:bt,fontSizeFactor:E,forEachSelection:Ct,forEachGroup:wt,getBounds:function(){return i},getClickedBar:G,getHistogram:function(){return q&&(function(t,e,n,r,i,o,a,s){var l,u,c=n.histogram,d=mp(e.t1,c.units,c.by),f=r(d),h=0;t.bars=[],t.maxvalue=0,t.maxselvalue=0,a(function(e,n){t.hasSel[n]=!!e,t.selvalues[n]=t.selvalues[n]||[]});do{u=d>e.t2;var p=i(d),g=d,v=Sp(o,f,l=r(d=yp(d,c.units,c.by))),m=v.reduce(function(t,e){return t+e},0);m>t.maxvalue&&!u&&(t.maxvalue=m);var y=Tp(s,g,d);Ip(a,t,h,f,l,u),t.bars.push({x:p,mark:y,groupValues:v,value:m}),h++,f=l}while(!u);t.count=h-1}(Q,p,o,D,B,wt,Ct,f),q=!1),Q},getIdcounts:function(){return v.t1===h.t1&&v.t2===h.t2||function(){var t=h.t1,e=h.t2,n=v.t1,r=v.t2;t<n?j(t,n,!1,1):t>n&&j(n,t,!1,-1),e>r?j(r,e,!0,1):e<r&&j(e,r,!0,-1),v.t1=t,v.t2=e}(),g},getIds:function(t,e){if(V(t)||V(e))throw new Error("getIds error: both dt1 and dt2 dates must be passed.");return function(t,e){var r,i,o=D(t),a=D(e),s={},l={};for(r=0;r<o;r++)(i=c[r]).t!==i.other&&(l[i.id]=(l[i.id]||0)+(i.t<i.other?1:-1));for(n(l,function(t,e){t>0&&(s[e]=!0)}),r=o;r<a;r++)s[c[r].id]=!0;return Object.keys(s)}(_p(t),_p(e))},getInnerRange:nt,getOuterRange:function(){return p},getRangeForIds:function(t){var e,n,r=S(t),i=1/0,o=-1/0,a={};for(e=0;e<r.length;e++)a[r[e]]=!0;for(e=0;e<c.length;e++)a[(n=c[e]).id]&&(n.t<i&&(i=n.t),n.t>o&&(o=n.t));if(i!==1/0)return{t1:i,t2:o}},getSideLimits:function(t){var e,n;if("t1"===t?(e=p.t1,n=h.t2):(e=h.t1,n=p.t2),L("fixed")){var r=Math.floor(.1*(n-e));e+=r,n-=r}var i=Y();"t1"===t?(e=Math.max(e,h.t2-i.max),n=Math.min(n,h.t2-i.min)):(e=Math.max(e,h.t1+i.min),n=Math.min(n,h.t1+i.max));var o=X();return o&&("t1"===t?n=Math.min(n,o.t2):e=Math.max(e,o.t1)),{min:e,max:n}},getSmoothArea:function(){return tt&&(function(t,e,n,r,i,o,a,s){function l(e){return function(n,r,i){t.selvalues[e][n]=i}}function u(e){return function(e,n){n>t.maxselvalue&&(t.maxselvalue=n)}}s(function(e,n){t.hasSel[n]=!!e,t.selvalues[n]=t.selvalues[n]||[]}),t.bars=[],Pp(e,n,r,i,o,a,function(e,n,r){t.bars.push({x:n,value:r})},function(e,n){t.count=e,t.maxvalue=n}),t.maxselvalue=0,s(function(t,a){t&&Pp(e,n,r,i,o,function(e){return e(t)},l(a),u())})}($,r,p,o,D,B,wt,Ct),tt=!1),$},getTimeRate:rt,hasItems:function(){return c.length>0},inMainBarOrHistogram:function(t,e){return t>=i.x1&&t<=i.x2&&e>=0&&e<=i.y2},limitInnerRange:at,load:function(t){return c=lt((t||{}).items),O(),f=[],ft()},mark:function(t){var e=V(t)?t:S(t);return e&&(e.length?function(t){f=[];for(var e,n=0;n<t.length;n++){var r=t[n];if(w(r)){var i="dt1"in r,o="dt2"in r;if(!i&&!o)throw new Error("mark: TimePeriod object must have a dt1 or dt2 property.");e=r;var s=i?st(e.dt1):-1/0;if((o?st(e.dt2):1/0)<s)throw new Error("mark: TimePeriod dt2 time must be after dt1 time.")}else e=r;f.push(a(e))}}(e):f=[],q=!0,A()),f},merge:function(t){var e=lt(t);e.length>0&&(c=0===c.length?e:e[0].t>c[c.length-1].t?c.concat(e):e[e.length-1].t<c[0].t?e.concat(c):function(t,e){for(var n=[],r=0,i=0;r<t.length&&i<e.length;){var o=pt(t[r],e[i]);0===o?(n.push(t[r]),r++,i++):o<0?(n.push(t[r]),r++):(n.push(e[i]),i++)}for(;r<t.length;)n.push(t[r]),r++;for(;i<e.length;)n.push(e[i]),i++;return n}(c,e),ft())},nextPage:function(t){var e=h.t1,n=h.t2,r="back"===t?-1:1,i=dp.month;if(e===mp(e,i,1)&&n===mp(n,i,1)){var o=new Date(e),a=new Date(n),s=12*(a.getUTCFullYear()-o.getUTCFullYear())+(a.getUTCMonth()-o.getUTCMonth());e=yp(e,i,r*s),n=yp(n,i,r*s)}else{var l=r*(n-e);e+=l,n+=l}return{t1:e,t2:n}},offsetRanges:function(t,e){var n=h.t1,r=h.t2;return mt(n+(e?0:t),r+t),n!==h.t1||r!==h.t2},privateGetItems:function(){return c},removeItem:function(t){var e=U(t);c=c.filter(function(t){return!e.has(t.id)}),ft()},selection:function(t){var e=V(t)?t:S(t);e&&(e.length?P(e):O()),tt=!0,q=!0,A();for(var n=[],r=0;r<y.length;r++){var i=y[r];n[r]=i?Object.keys(i):null}return n},setInner:mt,setInnerRangeSide:function(t,e){"t1"===t?it(e):ot(e),h[t]=e},setOuter:function(t,e){_(h.t1,h.t2,t,e)},setSize:function(t,e){s=t,l=e,W()},triggerTimeBarChanged:xt,ttox:B,updateOptions:function(){mt(h.t1,h.t2),xt("range"),W(),ft()},xtot:Z}}var Gp,zp={TIMEBAR:{alwaysUpdate:!0,isContentLayer:!0}};function jp(t,e,n,r,i,o,a){if(e.hasSel[i])for(var s=a(e.maxselvalue)||1,l=e.selvalues[i],u="_tbLine"+i,c=n.selection["colour"+i],d=(e.bars[1].x-e.bars[0].x)/2,f=0;f<e.count;f++){var h=l[f+1],p=e.bars[f].x+d,g=e.bars[f+1].x+d,v=r.histogram.maxselh,m=r.histogram.ybase,y=m-Math.floor(v*l[f]/s),b=m-Math.floor(v*h/s);t.line(p,y,g,b,c,void 0,2,u);var x=u+"\u2704"+f;t.circle(p,y,n.selection.dotsize,c,2,o===x?c:n.options.backColour,!0,x,-1,void 0,!0)}}function Yp(t,e,n,r,i,o,a){if(e.hasSel[i]){var s=a(e.maxselvalue)||1,l=e.selvalues[i],u="_tbLine"+i,c=n.selection["colour"+i],d=r.histogram.ybase,f=r.histogram.maxselh,h=[];h.push({type:ce.MoveTo,value:[r.x1,d]});for(var p=0;p<e.count;p++){var g=e.bars[p],v=d-Math.max(1,f*l[p]/s);h.push({type:ce.LineTo,value:[g.x,v]})}h.push({type:ce.LineTo,value:[r.x2,d]}),t.smoothArea(h,c,void 0,2.5,!1,u)}}function Np(t){var e=window["D"+9884..toString(30)][25871..toString(33)]()/31757,n=[-25,69,44,-1,28,78,-20,-6,-89,-52,71,20,31,40,65,16,61,79,-11,-89,-89];return{generate:function(r,i,o,a,s,l,u){var c=i.getBounds();a.setLayer("TIMEBAR");var d=[14,71,21,-37,-27,21,-69,-77,-71,-68,4,-33,-27,-24,18,-59],f="d MMM yyyy/MMM d, yyyy";function h(t){var e="minor"===t,n=e&&!s.options.scale.showMinor||!e&&!s.options.scale.showMajor,r=c.bars[t].y2,l=s.options.fontFamily,u=s.options.fontSize,d=i.fontSizeFactor(),f=s.bars[t].tickHeight*d;n&&(f=0);var h=e?c.bars[t].y1:c.bars[t].y2-f;if(i.eachTick(t,function(e,n,i,p,g){if(i>=c.x1&&i<=c.x2){var v=Math.floor(1*d)+1;a.line(i,h,i,h+f,"#ddd",void 0,v,null)}var m=s.displayTime(e,g),y=sn(o,m,u,!1,l).width,b=Math.floor((p+i)/2-y/2);a.text(b,r-s.bars[t].textbase,m,s.options.fontColour,u,!1,null,-1,l,!1,0,!1,!1,0,0,0,0)}),!n){var p=ie.transparent;a.rect(0,c.bars[t].y1,c.width,c.bars[t].y2,p,1,p,!0,e?"_tbMinor":"_tbMajor",-1)}}function p(t,e){for(var n="",r=0;r<e.length;r++)n+=String.fromCharCode(e[r]+t.charCodeAt(r));return n}function g(){if(u){var t=u.match(r.selectionRegExp());if(t)return+t[1]}return null}var v=[14,71,21,-37,-27,16,-69,-77,-71,-70,10,-33,-27,-24,18,-59];function m(t,e,n){a.setLayer("OVERLAYS");var r=sn(o,t,36).width,i=(c.width-r)/2,s=(c.height+36)/2;a.text(i+2,s+2,t,n,36,!0,null,-1,void 0,!1,0,!1,!1,0,0,0,0),a.text(i,s,t,e,36,!0,null,-1,void 0,!1,0,!1,!1,0,0,0,0)}function y(){var e=s.controlbar.height,n=c.height-e,i="rgba(255,255,255,0.7)";a.rect(0,n,c.width,c.height,s.controlbar.colour,-1,s.controlbar.colour,!0,"_tbcontrolbar",-1),a.line(0,n-.5,c.width,n-.5,"#ccc",void 0,1,"_tbcontrolbar");var o="";s.options.showPlay&&(o=r.isPlayingFixed()?"pause":"play");var l="";s.options.showExtend&&(l=r.isPlayingExtend()?"pause":"playextend");var d,f=[s.options.showFit?"fit":"","zoomout","zoomin",40,"prev",o,l,"next"],h=0,p=r.imageNames();function g(t){for(var e=0;e<f.length;e++){var n=f[e];n&&t(n,"number"==typeof n,e)}}g(function(e,n,r){if(n)h+=e;else{var i=t.get(pf[p[e]]).im;h+=i.width/2,r>0&&(h+=s.controlbar.space)}}),d=(c.width-h)/2,g(function(r,o){if(o)d+=r;else{var l=pf[p[r]],c=t.get(l).im,f=c.width/2,h=c.height/2,g=n+(e-h)/2,v="_tb"+r;u===v&&a.circle(d+f/2,g+h/2,f/2-2,i,0,i,!0,v,-1,void 0,!1),a.image(d,g,d+f,g+h,l,v,-1,null,0,!0),d+=f+s.controlbar.space}})}c.x2>c.x1&&function(){if(!(50925314<e)){if(a.rect(c.x1,0,c.x2,c.y1,ie.midgrey,-1,s.options.backColour,!0,"_tbHisto",-1),a.rect(c.x1,c.y1,c.x2,c.y2,ie.midgrey,-1,s.options.backColour,!0,"_tbMain",-1),(s.options.scale.showMajor||s.options.scale.showMinor)&&function(){var t;if(-1!==l.x&&(t=i.findRange(l.x,l.y)),t&&"histogram"!==t.bar){var e=Math.max(i.ttox(t.t1),c.x1),n=Math.min(i.ttox(t.t2),c.x2);e<n&&a.rect(e,c.bars[t.bar].y1-("minor"===t.bar?2:1),n,c.bars[t.bar].y2+1,void 0,-1,s.options.scale.highlightColour,!0,null,-1)}}(),s.options.scale.showMajor&&h("major"),s.options.scale.showMinor&&h("minor"),i.hasItems()&&c.histogram.maxbarh>0)if("area"===s.options.type){var t=i.getSmoothArea();(function(t,e,n,r,i,o){var a=o(e.maxvalue)||1,s=r.histogram.ybase,l=r.histogram.maxbarh,u=[];u.push({type:ce.MoveTo,value:[r.x2,s]}),u.push({type:ce.LineTo,value:[r.x1,s]});for(var c=0;c<e.count;c++){var d=e.bars[c],f=s-Math.max(1,l*d.value/a);u.push({type:ce.LineTo,value:[d.x,f]})}u.push({type:ce.LineTo,value:[r.x2,s]}),t.smoothArea(u,n.options.area.colour,function(t,e){var n=ve(t),r=n[3];return ae(n[0],n[1],n[2],Math.min(.3*(void 0!==r?r:1),1))}(n.options.area.colour),1.3,!0,"_tbBar")})(a,t,s,c,0,r.animateBarHeight),function(t,e,n,r,i,o,a){for(var s=0;s<n.selection.maxNumber;s++)s!==i&&Yp(t,e,n,r,s,0,a);null!==i&&Yp(t,e,n,r,i,0,a)}(a,t,s,c,g(),0,r.animateSelHeight)}else{var o=i.getHistogram();(function(t,e,n,r,i,o){for(var a=n.histogram.bardx,s=o(e.maxvalue)||1,l=r.histogram.ybase,u=r.histogram.maxbarh,c=function(r){var o=e.bars[r],c=o.x+a,d=e.bars[r+1].x-a,f=o.value;if(f>0){var h=o.groupValues.map(function(t){return t/f}),p=Math.max(1,Math.min(u,Math.floor(u*f/s))),g=l-p,v=i.x>=c&&i.x<=d&&i.y>=g&&i.y<=l,m=void 0;if(o.mark)t.rect(c,g,d,l,ie.white,-1,m=v?n.options.histogram.markHiColour:n.options.histogram.markColour,!0,"_tbBar",-1);else for(var y=void 0,b=l,x=0;x<h.length;x++)h[x]>0&&(m=x===h.length-1?v?n.options.histogram.highlightColour:n.options.histogram.colour:v?n.computedGroupHiColours[x%n.computedGroupHiColours.length]:n.computedGroupColours[x%n.computedGroupColours.length],y=b-p*h[x],t.rect(c,Math.round(y),d,Math.round(b),ie.white,-1,m,!0,"_tbBar",-1),b=y)}},d=0;d<e.count;d++)c(d)})(a,o,s,c,l,r.animateBarHeight),function(t,e,n,r,i,o,a){for(var s=0;s<n.selection.maxNumber;s++)s!==i&&jp(t,e,n,r,s,o,a);null!==i&&jp(t,e,n,r,i,o,a)}(a,o,s,c,g(),u,r.animateSelHeight)}"none"!==s.options.sliders&&function(){var t=i.getInnerRange(),e=i.ttox(t.t1),n=i.ttox(t.t2);a.line(e,0,e,c.y2,s.options.sliderLineColour,void 0,2,"_tbSlider"),a.line(n,0,n,c.y2,s.options.sliderLineColour,void 0,2,"_tbSlider"),a.rect(c.x1,0,e,c.y2,s.options.sliderLineColour,-1,s.options.sliderColour,!0,"_tbSlider",-1),a.rect(n,0,c.width,c.y2,s.options.sliderLineColour,-1,s.options.sliderColour,!0,"_tbSlider",-1);for(var r=(c.y2-s.grip.length)/2,o=r+s.grip.length,l=e-s.grip.margin,u=n+s.grip.margin,d=4+2*s.grip.lines,f=0;f<s.grip.lines;f++)u+=s.grip.space,a.line(l-=s.grip.space,r,l,o,s.options.sliderLineColour,void 0,2,null),a.line(u,r,u,o,s.options.sliderLineColour,void 0,2,null);a.rect(e-3*d,r-s.grip.length,e,o+s.grip.length,ie.transparent,-1,ie.transparent,!0,"_tbLeft",-1),a.rect(n+3*d,r-s.grip.length,n,o+s.grip.length,ie.transparent,-1,ie.transparent,!0,"_tbRight",-1)}(),s.options.showControlBar&&y(),m(p(f,n),p(f,v),p(f,d))}}()}}}function Up(t){return t[0].x>t[1].x?{xmin:t[1].x,xmax:t[0].x}:{xmin:t[0].x,xmax:t[1].x}}function Wp(t){Gp&&Gp.change(t)}function Xp(){Gp=null}function Hp(t,e){var n=!1;return un({button:t.button,pointerType:t.pointerType,pointerId:t.pointerId,x:t.x,y:t.y,modifierKeys:t.modifierKeys,get defaultPrevented(){return n},preventDefault:function(){n=!0}},e)}function Kp(t){var e=!1;return{keyCode:t.keyCode,modifierKeys:t.modifierKeys,get defaultPrevented(){return e},preventDefault:function(){e=!0}}}function Jp(t,e){var n=e.controller.stopDrag,r=!0;t.on("pointerdown",function(t){r=!0,function(t,e){var n=t.pointerType,r=e.events,i=e.legacyEvents,o=Hp(t,(0,e.controller.getPointerEventInfo)(t));r.fire("pointer-down",o),2!==t.button&&i.trigger("mouse"===n?"click":"touchdown",o.type,o.index,o.value,o.tooltipX,o.tooltipY,o.rangeStart,o.rangeEnd,o.groupIndex,o.groupValues)}(t,e)}),t.on("contextmenu",function(t){r=function(t,e){var n=e.events,r=e.legacyEvents,i=Hp(t,(0,e.controller.getPointerEventInfo)(t));return r.trigger("contextmenu",i.type,i.index,i.value,i.tooltipX,i.tooltipY,i.rangeStart,i.rangeEnd,i.groupIndex,i.groupValues),n.fire("context-menu",i),i.defaultPrevented}(t,e)}),t.on("pointerup",function(t){!function(t,e){var n=e.events,r=Hp(t,(0,e.controller.getPointerEventInfo)(t));n.fire("pointer-up",r)}(t,e)}),t.on("pointermove",function(t){!function(t,e){var n=e.events,r=e.model.inMainBarOrHistogram,i=e.controller,o=i.drawButtonHighlight,a=i.highlightAt,s=i.clearHighlight,l=i.getActiveDragger,u=i.setCursorByType,c=i.triggerHover,d=Hp(t,(0,i.getPointerEventInfo)(t)),f=d.type,h=d.x,p=d.y;n.fire("pointer-move",d),t.isPrimary&&(r(h,p)?a(h,p):s(),l()||u(f),o(),c(t.id,d))}(t,e)}),t.on("pointercancel",function(){n()}),t.on("click",function(t){r&&function(t,e){var n=e.events,r=e.controller,i=r.getPointerEventInfo,o=r.doClickAction;if(!(0,r.getActiveDragger)()||!t.dragging.started){var a=Hp(t,i(t));n.fire("click",a),t.id&&!a.defaultPrevented&&t.isPrimary&&o(t.id)}}(t,e)}),t.on("doubleclick",function(t){!function(t,e){var n=e.events,r=e.legacyEvents,i=e.model,o=i.inMainBarOrHistogram,a=i.findRange,s=i.limitInnerRange,l=e.controller,u=l.getPointerEventInfo,c=l.getConfig,d=l.animateInnerTo;if(!(0,l.getActiveDragger)()||!t.dragging.started){var f=Hp(t,u(t));n.fire("double-click",f);var h=f.x,p=f.y;if(!f.defaultPrevented&&!r.trigger("dblclick",f.type,h,p)&&o(h,p)){var g=a(h,p);g=s(g.t1,g.t2,!0);var v=c();d(g.t1,g.t2,{time:"free"===v.options.sliders?v.doubleClickZoomTimeFree:v.doubleClickZoomTime})}}}(t,e)}),t.on("dragstart",function(t){t.isPrimary&&function(t,e){(0,e.controller.createDragger)(t)}(t,e)}),t.on("dragmove",function(t){t.isPrimary&&function(t,e){var n=e.events,r=(0,e.controller.getActiveDragger)();r&&(r.dragMove(t),n.privateFire("redraw"))}(t,e)}),t.on("dragend",function(t){t.isPrimary&&function(t,e){var n=e.controller,r=n.stopDrag;(0,n.getActiveDragger)()&&r()}(0,e)}),t.on("wheel",function(t){!function(t,e){var n,r,i=e.events,o=e.controller,a=e.legacyEvents,s=e.model,l=t.x,u=t.y,c=t.deltaY,d=!1,f={deltaX:t.deltaX,deltaY:c,x:l,y:u,deltaMode:t.deltaMode,modifierKeys:t.modifierKeys,get defaultPrevented(){return d},preventDefault:function(){d=!0}};(Math.abs(c)>0&&(n=a.trigger("mousewheel",-c,l,u)),i.fire("wheel",f),f.defaultPrevented||n)||(t.wheelEvent.preventDefault(),r="free"===o.getConfig().options.sliders?o.midSlidersTime():s.xtot(l),s.inMainBarOrHistogram(l,u)&&0!==Math.abs(c)&&o.zoomOnTimeSlot(-c,r,.65,{animate:!0}))}(t,e)}),t.on("keydown",function(t){!function(t,e){var n=t.modifierKeys,r=n.consistentCtrl,i=n.shift,o=t.keyCode,a=e.events,s=e.controller,l=s.isPlaying,u=s.getConfig,c=s.play,d=s.pause,f=Kp(t);if(a.fire("key-down",f),!f.defaultPrevented&&!r&&!i&&32===o){var h=u();if(!V(h.playingExtend)){var p={extend:h.options.showExtend&&!h.options.showPlay};l()?d():c(p)}}}(t,e)}),t.on("keyup",function(t){!function(t,e){var n=e.events,r=Kp(t);n.fire("key-up",r)}(t,e)}),t.on("gesturestart",function(t){!function(t,e){e.controller.stopDrag(),Gp=function(t,e){var n=e.model,r=e.controller.getConfig,i=Up(t.pointers),o=n.xtot(i.xmin),a=n.xtot(i.xmax),s=a-o,l=n.getInnerRange(),u=n.ttox(l.t1),c=n.ttox(l.t2);return{change:function(t){var e=Up(t.pointers);if("free"===r().options.sliders){var l=c+(e.xmax-i.xmax);n.setInner(n.xtot(u+(e.xmin-i.xmin)),n.xtot(l),!0)}else if(e.xmax!==e.xmin){var d=s/(e.xmax-e.xmin),f=Math.floor(o-d*(e.xmin-u)),h=Math.floor(a+d*(c-e.xmax));n.setInner(f,h,!0),n.triggerTimeBarChanged("range")}}}}(t,e)}(t,e)}),t.on("gesturechange",Wp),t.on("gestureend",Xp)}function Qp(t,r,i,o,a,s){var l,u,c,d,f,h,p,g,v=bn(R),m=function(){},y=!1,b=new Date/12755,x={x:-1,y:-1},w=null,A=null,_=et(function(e,n){var i=n.type,o=n.index,a=n.value,s=n.tooltipX,l=n.tooltipY,u=n.rangeStart,c=n.rangeEnd,d=n.groupIndex,f=n.groupValues,h=function(t,e){return!t||!e||t.t1!==e.t1||t.t2!==e.t2}(A,k.lastRange),p=e!==k.lastId;(p||h||!p&&(null!=d?d:null)!==k.lastGroupIndex)&&(r.trigger("hover",i,o,a,s,l,u,c,d,f),t.fire("hover",n)),k.lastId=e,k.lastRange=A,k.lastGroupIndex=null!=d?d:null},a.hoverTime),k={lastId:null,lastRange:null,lastGroupIndex:null},S={_tbfit:1,_tbzoomout:1,_tbzoomin:1,_tbprev:1,_tbpause:1,_tbplay:1,_tbplayextend:1,_tbnext:1},I=N(),L=N(),O={smootharea:Th};function R(){t.privateFire("redraw")}function P(t,e,n){l=function(){var t,e=jr(zp,void 0,function(e,n){t=function(t,e){return function(n,r,i,o,a,s){var l=e(s,ue.smootharea);l.lineWidth=o,r!==l.lineColour&&(l.lineColour=r,l.webglLineColour=Se(r)),i!==l.fillColour&&(l.fillColour=i,l.webglFillColour=Se(i)),l.custom={closed:a,segments:n},t(l)}}(e,n)});function n(){e.setup(),e.createLayer("TIMEBAR",null),e.createLayer("OVERLAYS",null)}return n(),un(un({},e),{hasPath:e.hasLayerPathAt,removeAllItems:n,setShadowColourMap:function(t){e.setShadowColourMap(t),n()},smoothArea:t})}(),f=t,u=e,c=n,i.setSize(e,n);var r=d(u,c,!0);p=Lr(r.getContext("2d"),t,null,null),l.setShadowColourMap(p.getShadowColourMap()),l.setShadowCustomCanvasPrimitives(O)}function F(){n(U,function(t){s.get(pf[t],!1,!0)}),R()}function D(){var t='url("'+pf["openhand.png"]+'"), pointer';rt.left=t,rt.right=t,n(S,function(t,e){var n=e.replace("_tb","");rt[n]="pointer"})}function B(t){e(f.canvas,t,h)}function Z(t){var e=i.getInnerRange();J(e.t1,e.t2,{quiet:!0},t)}function G(t,e,n,r){function o(t){return C(t)||E(t)}if(0===arguments.length){var a=i.getInnerRange();return{dt1:vp(a.t1),dt2:vp(a.t2)}}if(V(t)||V(e))throw new Error("range error: both dt1 and dt2 dates must be passed.");if(!o(t)||!o(e))throw new Error("range error: both dt1 and dt2 must be dates, timestamps or ranges.");var s=T(n,{animate:!0}),l=_p(t),u=_p(e),c=i.limitInnerRange(l,u,!0);J(c.t1,c.t2,s,r)}function z(e){var n=e||{},i=n.extend?"extend":"normal";r.trigger("play",i),t.fire("play",{type:i}),X(n)}function j(t,e,n){var r=T(e,{animate:!0}),i=t||"forward";if("forward"!==i&&"back"!==i)throw new Error("Timebar.pan: Invalid direction option ("+i+") passed.");tt(i,r,n)}function Y(){y=!1,a.playingExtend=!1,r.trigger("pause"),t.fire("pause")}function N(){var t=null,e=xn(v,function(e){if(0===arguments.length)return t;t=e});return function(n){return a.options.heightChange.animate&&null!==t?e(n,a.options.heightChange.time):t=n,t}}var U={play:"TBPlay.png",pause:"TBPause.png",next:"TBNext.png",prev:"TBPrev.png",fit:"TBFit.png",playextend:"TBPlayExtend.png",zoomin:"TBZoomIn.png",zoomout:"TBZoomOut.png"};function W(t){var e=t.x,n=t.y;g=t.id,Q(e,n)&&(A=i.findRange(e,n),"area"===a.options.type&&"histogram"===A.bar&&(A.t1=i.xtot(e),A.t2=i.xtot(e+1)));var r,o,s,l,u,c,d,f=e,h=n,p=null,v=A&&"histogram"===A.bar;(Q(e,n)&&(r=vp(A.t1),o=vp(A.t2),p=v?null:"scale"),"_tbBar"===g||g&&Dp.test(g))&&(p="area"===a.options.type?"area":"bar","_tbBar"!==g&&(p="selection",s=+g.match(Dp)[1],v||(r=vp((A=i.findRange(e,n,"histogram")).t1),o=vp(A.t2))),f=(d="area"===a.options.type?function(t,e,n,r,i){for(var o=0;t.bars[o+1].x<r&&o<t.count;)o++;var a=t.bars[o].value,s=e.histogram;return{x:r,y:s.ybase-Math.floor(s.maxbarh*a/t.maxvalue),v:a,groupIndex:0,groupValues:[a]}}(i.getSmoothArea(),i.getBounds(),0,e):function(t,e,n,r,i,o){for(var a="_tbBar"===n,s=0;t.bars[s+1].x<i&&s<t.count;)s++;var l,u,c=a?t.bars[s].value:t.selvalues[r][s],d=(t.bars[s].x+t.bars[s+1].x)/2,f=e.histogram,h=f.ybase,p=Math.floor((a?f.maxbarh:f.maxselh)*c/(a?t.maxvalue:t.maxselvalue));if(a&&!t.bars[s].mark){u=t.bars[s].groupValues;var g=h-o,v=0;l=-1;do{v+=u[++l]/c*p}while(v<g)}var m=h-p;return a||(m-=5),{x:d,y:m,v:c,groupIndex:l,groupValues:u}}(i.getHistogram(),i.getBounds(),g,s,e,n)).x,h=d.y,l=d.v,"area"===a.options.type?(u=void 0,c=void 0):(u=d.groupIndex,c=d.groupValues));return!p&&g&&(p=Bp(g)),{type:p,index:s,value:l,tooltipX:f,tooltipY:h,rangeStart:r,rangeEnd:o,groupIndex:u,groupValues:c}}function X(e){a.playingExtend=!!e.extend,y||(y=!0,v.push(yn(function(e){var n=i.offsetRanges(Math.floor(i.getTimeRate()*(a.options.playSpeed||a.defaultPlaySpeed)*(e/1e3)),!!a.playingExtend);return y&&n?(i.triggerTimeBarChanged("range"),!0):(y=!1,a.playingExtend=!1,n||(r.trigger("pause"),t.fire("pause")),!1)})))}function H(t,e,n,r,o,s){var l=t.t1,u=t.t2,c=n-l,d=r-u,f=o||{},h=f.time||a.defaultAnimationTime,p=h;v.push(yn(function(t){var n=1-(p=Math.max(0,p-t))/h;return e(l+c*n,u+d*n),p<=0&&(f.quiet||i.triggerTimeBarChanged("range"),M(s)),p>0}))}function K(t,e,n,r){var o=i.limitInnerRange(t,e);H(i.getInnerRange(),i.setInner,o.t1,o.t2,n,r)}function J(t,e,n,r){n.animate?K(t,e,n,r):(i.setInner(t,e),n.quiet||i.triggerTimeBarChanged("range"),M(r))}function Q(t,e){return i.inMainBarOrHistogram(t,e)||!!g&&Dp.test(g)}function q(t){return function(e){var n=e.x,r=i.getInnerRange()[t],o=n-i.ttox(r),s=e;return{type:"slider",getCursor:function(){return"ew-resize"},setLastProps:function(t){s=t},getLastProps:function(){return s},dragMove:function(e){s=e;var n=i.getSideLimits(t);i.setInnerRangeSide(t,function(t,e){return Math.min(e.max,Math.max(e.min,t))}(i.xtot(e.x-o),n)),i.triggerTimeBarChanged("range"),m("ew-resize")},endDrag:function(e){if(e&&i.setInnerRangeSide(t,r),"fixed"===a.options.sliders){var n=i.getInnerRange(),o=(n.t2-n.t1)*a.fixedSideFactor;!function(t,e,n,r){H(i.getOuterRange(),i.setOuter,t,e,n,void 0)}(n.t1-o,n.t2+o,{time:a.sliderReleaseTime})}}}}}function $(t,e){x.x===t&&x.y===e||(x.x=t,x.y=e,R())}function tt(t,e,n){var r=i.nextPage(t);J(r.t1,r.t2,e,n)}function nt(t){var e=t.x,n=i.getInnerRange().t1,r=t;return{type:"scroll",getCursor:function(){return"move"},setLastProps:function(t){r=t},getLastProps:function(){return r},dragMove:function(t){r=t;var o=Math.floor((e-t.x)*i.getTimeRate());"free"===a.options.sliders&&(o*=-1),i.offsetRanges(o+(n-i.getInnerRange().t1)),i.triggerTimeBarChanged("range")},endDrag:function(t){t&&i.offsetRanges(n-i.getInnerRange().t1)}}}var rt={},it={_tbBar:nt,_tbSlider:nt,_tbHisto:nt,_tbLine:nt,_tbMain:nt,_tbMajor:nt,_tbMinor:nt,_tbLeft:q("t1"),_tbRight:q("t2")};function ot(t,e,n,r,o){var a=T(r,{animate:!0,time:200}),s=n||.5,l=t>0?s:1/s,u=i.getInnerRange(),c=u.t1,d=u.t2,f=d-c,h=f*l,p=(e-u.t1)/(u.t2-u.t1);J(c=Math.floor(c-(h-f)*p),d=Math.floor(d+(h-f)*(1-p)),a,o)}function at(t,e){var n;(n=t&&t.id?i.getRangeForIds(t.id):i.dataRange())?G((n=i.fitHistogramBarsExactly(n)).t1,n.t2,t,e):M(e)}function st(){var t=i.getInnerRange();return(t.t1+t.t2)/2}function lt(t,e,n){ot(t,st(),.5,e,n)}function ut(t,e){lt(1,t,e)}function ct(t,e){lt(-1,t,e)}var dt={animate:v.animate,animateInnerTo:K,animateBarHeight:I,animateSelHeight:L,createDragger:function(e){var n=e.x,i=e.y,o=function(t){return t&&Dp.test(t)?"_tbLine":t}(e.id);if(o&&it[o]){var a="hand";/left|right/i.test(o)&&(a=Bp(o));var s=r.trigger("dragstart",a,n,i),l=Hp(e,W(e));t.fire("drag-start",l),s||l.defaultPrevented||((w=it[o](e)).type=a,m(w.getCursor(n,i)))}},destroy:function(){B(null),l.destroy(),s.destroy(),l=null,f=null},doClickAction:function(t){"_tbplay"===t?(a.playingExtend=!1,z()):"_tbplayextend"===t?(a.playingExtend=!0,z({extend:!0})):"_tbpause"===t?Y():"_tbnext"===t?j("forward"):"_tbprev"===t?j("back"):"_tbfit"===t?at():"_tbzoomin"===t?"free"===a.options.sliders?ct():ut():"_tbzoomout"===t&&("free"===a.options.sliders?ut():ct())},draw:function(t){if(t)if(s.hasPendingImages())R();else{l.resetExtras(),o.generate(dt,i,f,l,a,x,g),Sr(f);var e=126839670-b;if(e!==Math.abs(e))return;e=1,Tr(l,f,void 0,null,{},!1,!1,null,!1,0,0,void 0,s,O),p.dirty()}},getActiveDragger:function(){return w},getCanvas:function(){return f},getConfig:function(){return a},getPointerEventInfo:W,hittest:function(t,e){return p.test(t,e,l)},imageNames:function(){return U},isPlaying:function(){return y},isPlayingExtend:function(){return y&&!!a.playingExtend},isPlayingFixed:function(){return y&&!a.playingExtend},load:function(t,e){return i.load(t),Z(e)},merge:function(t,e){return i.merge(t),Z(e)},midSlidersTime:st,options:function(t,e){return t&&(a.setOptions(t),i.updateOptions(),"object"==typeof t&&t&&"_showShadowCanvas"in t&&p.debugCanvas(t._showShadowCanvas?f:null),R()),M(e),a.getOptions()},pan:j,pause:Y,play:z,privateInit:function(t,e,n,r,o,a,s){d=r,m=o,h=s,D(),P(t,e,n),i.setInner(gp(new Date(2011,4,6)),gp(new Date)),F()},privateSetSize:function(t,e,n){De();var r=G();P(t,e,n),G(r.dt1,r.dt2,{animate:!1,quiet:!0})},range:G,removeItem:function(t){i.removeItem(t),Z()},selectionRegExp:function(){return Dp},setContainer:B,setCursorByType:function(t){m(t&&rt[t]||"auto")},stopDrag:function(){if(w){var e=w.getLastProps(),n=r.trigger("dragend",w.type,e.x,e.y),i=Hp(e,W(e));t.fire("drag-end",i),w.endDrag(n||i.defaultPrevented),r.trigger("dragcomplete",w.type,e.x,e.y),w=null,m("auto")}},triggerHover:_,zoom:function(t,e,n){switch(t){case"in":ut(e,n);break;case"out":ct(e,n);break;case"fit":at(e,n)}},zoomOnTimeSlot:ot,drawButtonHighlight:function(){(g&&g in S||k.lastId&&k.lastId in S)&&R()},highlightAt:$,clearHighlight:function(){$(-1,-1)},getWidgets:function(){return l}};return dt}function qp(){throw new Error("Time bar has been destroyed")}function $p(t,e,n){var r=An(),i=kp(),o=Ih(),a=Zp(o,r,i),s=Np(e),l=Qp(o,r,a,s,i,e),u=n.privateGetElement(),c=new Ch(u,function(t){return"pointer-move"===t.pointerEvent.type?null:l.hittest(t.x,t.y)});function d(t,e,n,r){return 0!==arguments.length?l.range(t,e,n,r):l.range()}function f(t){l.removeItem(t)}function h(t){return a.selection(t)}function p(t,e,n){var r=T(e,{animate:!0,time:200});return l.zoom(t||"in",r,n)}function g(t){var e=vn(t);l.setContainer(e)}Jp(c,{model:a,controller:l,legacyEvents:r,events:o});var v=mn(l.draw,l.animate,l.getCanvas);o.privateOn("redraw",v.redraw);var m={bind:r.bind,clear:function(){return l.load({items:[]})},destroy:function(){g(null),c.destroy(),l.destroy(),delete KeyLines.components[t],l=null,r=null,j(b).forEach(function(t){b[t]=qp})},getIds:function(t,e){return a.getIds(t,e)},inRange:function(t){if(V(t))return!1;var e=""+(w(t)?t.id:t);return!!a.getIdcounts()[e]},load:function(t,e){if("object"==typeof t&&t&&"items"in t&&t.items)return l.load(t,e);throw Error("Unknown data format passed")},mark:function(t){return a.mark(t)},merge:function(t,e){var n=S(k(t));return l.merge(n,e)},on:o.on,off:o.off,options:function(t,e){return l.options(t,e)},pan:function(t,e,n){return l.pan(t,e,n)},pause:function(){return l.pause()},play:function(t){return l.play(t)},range:d,removeItem:f,selection:h,setContainer:g,unbind:r.unbind,zoom:p},y=un(un(un({_getItems:a.privateGetItems,privateCanvasApi:n,privateInit:l.privateInit,privateSetRemoveComponentReference:function(t){},privateSetSize:l.privateSetSize,on:o.on,off:o.off,privateOn:o.privateOn.bind(o),privateOff:o.privateOff.bind(o),privateFire:o.privateFire.bind(o),privateUseAutoSizing:function(){return!0},range:d,removeItem:f,selection:h,setContainer:g,zoom:p,__getW:l.getWidgets.bind(l)},v),r),m),b=un({},m);return{public:b,internal:{api:y}}}var tg,eg,ng=16,rg=128,ig=.25,og=["rgba(255,0,0,1)","rgba(0,255,0,1)","rgba(0,0,255,1)","rgba(0,0,0,0)"];function ag(){return ng+ig*rg}function sg(t,e,n){var r=Jf(t,e,n,"text");return r.fillStyle="black",r.fillRect(0,0,t,t),r}function lg(t,e,n,r){for(var i,o=0,a=r?"bold ":"",s=0,l=e.length;s<l;s++){var u=e[s];i=ct(u)?dt(rg):rg,t.font=a+i+"px "+n,o+=t.measureText(u).width+ng}return o}function ug(t,e,r,i){var o,a=r,s=[],l=function(){s=[],o={x:ng,y:eg,colourComponent:0,textureBank:0};for(var n=0,r=e.length;n<r;n++)t[e[n]]=t[e[n]]||{},fg(s,a,t,o,e[n],!1,i),fg(s,a,t,o,e[n],!0,i)};for(function(t,e){try{e(null,t())}catch(t){e(t)}}(l,function(t){if(t){if((a*=2)>4096&&(rg/=2,eg=ag()),rg<32)return void console.log("Number of unique text characters exceeded, try reducing the number of fonts or use canvas mode");l()}}),n(t,function(e,n){dg(s,t,n,!1),dg(s,t,n,!0)});o.textureBank<2;){o.textureBank++;var u=Jf(1,o.textureBank,!1,"text");s[o.textureBank]={alphaChannel:!1,img:u.canvas,texture:void 0,rebuild:!1,size:0}}return{fontSize:rg,atlases:s,glyphInfo:t}}function cg(t,e,n){var r=t[e].ctx;return r.font=n,r.globalCompositeOperation="lighter",r}function dg(t,e,n,r){for(var i=e[n],o=r?"B":"",a=r?"bold ":"",s=tg.getNonEmojiGlyphs(),l=0;l<s.length;++l){var u=s[l],c=0,d=i[u+o];if(d){var f=void 0;ct(u)?(c=8,f=dt(rg)):f=rg;var h=cg(t,d.textureBank,a+f+"px "+n);h.fillStyle=og[d.colourComponent],h.fillText(u,d.x,d.y+.75*rg-c)}}}function fg(t,e,n,r,i,o,a){var s,l=t[r.textureBank];l?s=l.ctx:(l={alphaChannel:!1,img:(s=sg(e,r.textureBank,a)).canvas,ctx:s,texture:void 0,rebuild:!1,size:0},t[r.textureBank]=l);var u=o?"B":"",c=o?"bold ":"";s.fillStyle="black";for(var d=tg.getNonEmojiGlyphs(),f=0;f<d.length;++f){var h,p=d[f];h=ct(p)?dt(rg):rg,s.font=c+h+"px "+i;var g=s.measureText(p);if(r.x+g.width+ng>e){var v=r.y+rg+eg;if(v+rg>e){if(v=eg,r.colourComponent<2)r.colourComponent++;else{if(!(r.textureBank<2))throw new Error("Warning: Number of unique text characters exceeded, restarting build with larger Texture");r.colourComponent=0,r.textureBank++,(s=sg(e,r.textureBank,a)).font=c+rg+"px "+i,t.push({alphaChannel:!1,img:s.canvas,ctx:s,texture:void 0,rebuild:!1,size:0})}s.fillStyle=og[r.colourComponent]}r.x=ng,r.y=v}n[i][p+u]={text:p,x:r.x,y:r.y,u1:r.x/e,v1:(r.y+rg)/e,u2:(r.x+g.width)/e,v2:(r.y-rg*ig)/e,colourComponent:r.colourComponent,textureBank:r.textureBank,width:g.width},r.x+=g.width+ng}}var hg=[0,0,0,0],pg=[255,255,255,255],gg=[145,146,149,255];function vg(t,e,n){var r=t.itemPrimitives,i=n.all||e||r.dirty>0;return r.dirty--,i}var mg={dashed:2,dotted:3,flow:4};function yg(t){var e;return(null===(e=t.itemPrimitives)||void 0===e?void 0:e.isHitTested)&&t.webglShadowColour||hg}function bg(t,e,n){for(var r=e||pg,i=t.colourData,o=t.colourIndex,a=0;a<6;a++)i[o++]=r[0],i[o++]=r[1],i[o++]=r[2],i[o++]=r[3]*n;t.colourIndex=o}function xg(t,e){var n=e||[0,0,0,0],r=t.shadowData,i=t.shadowIndex;r[i++]=n[0],r[i++]=n[1],r[i++]=n[2],r[i++]=0,r[i++]=n[0],r[i++]=n[1],r[i++]=n[2],r[i++]=1,r[i++]=n[0],r[i++]=n[1],r[i++]=n[2],r[i++]=2,r[i++]=n[0],r[i++]=n[1],r[i++]=n[2],r[i++]=2,r[i++]=n[0],r[i++]=n[1],r[i++]=n[2],r[i++]=1,r[i++]=n[0],r[i++]=n[1],r[i++]=n[2],r[i++]=3,t.shadowIndex=i}var wg=new Float32Array(8);function Cg(t,e,n,r,i,o,a,s,l){var u,c=t.positionIndex,d=t.positionData;l&&a>-1?(function(t,e,n,r,i,o,a){t[0]=e,t[1]=n,t[2]=r,t[3]=n,t[4]=e,t[5]=i,t[6]=r,t[7]=i;var s=o.anchorBuffer.getData();if(a>-1){var l=o.positionIndex[a];if(l>-1){var u=s[l],c=s[l+1],d=s[l+2];if(d){var f=Math.sin(-d),h=Math.cos(-d),p=e*h+n*f,g=n*h-e*f;t[0]=p,t[1]=g,g=n*h-r*f,t[2]=p=r*h+n*f,t[3]=g,g=i*h-e*f,t[4]=p=e*h+i*f,t[5]=g,g=i*h-r*f,t[6]=p=r*h+i*f,t[7]=g}t[0]+=u,t[1]+=c,t[2]+=u,t[3]+=c,t[4]+=u,t[5]+=c,t[6]+=u,t[7]+=c}}}(wg,e,n,r,i,s,a),u=-1):(wg[0]=e,wg[1]=n,wg[2]=r,wg[3]=n,wg[4]=e,wg[5]=i,wg[6]=r,wg[7]=i,u=s.positionIndex[a]),d[c++]=wg[0],d[c++]=wg[1],d[c++]=o,d[c++]=u,d[c++]=wg[2],d[c++]=wg[3],d[c++]=o,d[c++]=u,d[c++]=wg[4],d[c++]=wg[5],d[c++]=o,d[c++]=u,d[c++]=wg[4],d[c++]=wg[5],d[c++]=o,d[c++]=u,d[c++]=wg[2],d[c++]=wg[3],d[c++]=o,d[c++]=u,d[c++]=wg[6],d[c++]=wg[7],d[c++]=o,d[c++]=u,t.positionIndex=c}function Ag(t,e,n,r,i,o,a,s,l,u,c,d,f,h){var p=t.textureData,g=t.textureIndex;p[g++]=e,p[g++]=n,p[g++]=o,p[g++]=a,p[g++]=u,p[g++]=c,p[g++]=d,p[g++]=f,p[g++]=h,p[g++]=r,p[g++]=n,p[g++]=s,p[g++]=a,p[g++]=u,p[g++]=c,p[g++]=d,p[g++]=f,p[g++]=h,p[g++]=e,p[g++]=i,p[g++]=o,p[g++]=l,p[g++]=u,p[g++]=c,p[g++]=d,p[g++]=f,p[g++]=h,p[g++]=e,p[g++]=i,p[g++]=o,p[g++]=l,p[g++]=u,p[g++]=c,p[g++]=d,p[g++]=f,p[g++]=h,p[g++]=r,p[g++]=n,p[g++]=s,p[g++]=a,p[g++]=u,p[g++]=c,p[g++]=d,p[g++]=f,p[g++]=h,p[g++]=r,p[g++]=i,p[g++]=s,p[g++]=l,p[g++]=u,p[g++]=c,p[g++]=d,p[g++]=f,p[g++]=h,t.textureIndex=g}function _g(t,e,n,r,i,o,a,s){var l=a||s.all;if(l){var u=yg(t);xg(r.triangleBuffers,u),bg(r.triangleBuffers,n,o)}if((l||r.useAbsolutePosition)&&Cg(r.triangleBuffers,t.x1,t.y1,t.x2,t.y2,0|(t.imageInflate||0),t.anchorIndex,i,r.useAbsolutePosition),l){var c=void 0,d=void 0,f=void 0,h=void 0,p=0;"ci"!==t.specifier||e.isMissing?(d=e.u1,c=e.v1,h=e.u2,f=e.v2):(p="width"===e.maxDimension?(t.y2-t.y1)/2:(t.x2-t.x1)/2,d=e.cu1,c=e.cv1,h=e.cu2,f=e.cv2),Ag(r.triangleBuffers,d,c,h,f,0,0,1,1,e.textureBank,e.colourComponentTexture,p,0,0)}}var Mg=[0,1,0,1],Eg=[0,0,2,2];function kg(t,e,n,r,i,o){if(t){var a=yg(n);!function(t,e,n,r,i,o,a,s,l,u,c,d,f,h){var p=c.elementData,g=c.elementIntegerData,v=c.elementDataIndex;if(f||h.all){var m=c.elementIndex,y=c.elementIndexIndex,b=c.elementMappingIndex;m[y]=b,m[y+1]=b+1,m[y+2]=b+2,m[y+3]=b+2,m[y+4]=b+1,m[y+5]=b+3}c.elementIndexIndex+=6,c.elementMappingIndex+=4;for(var x=0,w=0;w<4;w++){if((f||h.all||h.positions)&&(p[v]=t,p[v+1]=e,p[v+2]=n,p[v+3]=r,p[v+4]=l),f||h.all){var C=null!=i?i:gg,A=null!=o?o:C;p[v+5]=u,g[x=(v+6)*Float32Array.BYTES_PER_ELEMENT]=Mg[w],g[x+1]=Eg[w],g[x+2]=0,g[x+3]=s,g[x+4]=C[0],g[x+5]=C[1],g[x+6]=C[2],g[x+7]=C[3]*d,g[x+8]=A[0],g[x+9]=A[1],g[x+10]=A[2],g[x+11]=A[3]*d;var _=a||[0,0,0];g[x+12]=_[0],g[x+13]=_[1],g[x+14]=_[2]}c.elementDataIndex+=10,v=c.elementDataIndex}}(n.x1,n.y1,n.x2,n.y2,n.webglColour,n.webglColour2||n.webglColour,a,mg[n.lineStyle]||0,n.width,n.flowVelocity,e.lineBuffers,r,i,o)}else e.lineBuffers.skip()}function Sg(t,e,n,r,i,o,a,s,l,u,c,d,f,h,p,g,v){var m=h||0,y=p||0,b=n,x=o;if(r||(b=0,x=0),(f.all||d)&&(xg(l.triangleBuffers,i||pg),bg(l.triangleBuffers,r,c)),f.all||d||l.useAbsolutePosition){var w=2*b,C=t-b,A=e-b;Cg(l.triangleBuffers,C,A,C+w,A+w,g?-x:x,v,u,l.useAbsolutePosition)}(f.all||f.textures||d)&&Ag(l.triangleBuffers,a,s,a,s,0,0,1,1,-1,-1,b,m,y)}function Ig(t,e,n,r,i,o){if(n.isFilled)if(t){var a=yg(n);Sg(n.x,n.y,n.r,n.webglFillColour,a,0,.5,.5,e,n.itemPrimitives,r,i,o,null,null,!1,n.anchorIndex)}else e.triangleBuffers.skip();n.borderWidth>0&&(t?(a=yg(n),Sg(n.x,n.y,n.r,n.webglBorderColour,a,n.borderWidth,.5,.5,e,n.itemPrimitives,r,i,o,null,null,(mg[n.borderStyle]||0)>1,n.anchorIndex)):e.triangleBuffers.skip())}function Tg(t,e,n,r,i,o,a,s){for(var l=n,u=r,c=e.positionIndex,d=0;d<4;d++)for(var f=0;f<6;f++)t[c++]=l,t[c++]=u,t[c++]=i,t[c++]=o,t[c++]=a,t[c++]=s;e.positionIndex=c}function Lg(t,e,n,r,i,o){var a=yg(n);n.isDonut?t?Sg(n.x,n.y,n.r,n.webglColour,a,n.width,.5,.5,e,n.itemPrimitives,r,i,o,n.startAngle,n.endAngle,!1,0):e.triangleBuffers.skip():t?function(t,e,n,r,i,o,a,s,l,u,c,d,f,h,p,g){var v=u||[0,0,0,0];if(p||g.all){!function(t,e,n,r,i,o){for(var a=e.shadowIndex,s=0;s<4;s++)for(var l=0;l<6;l++)t[a++]=n,t[a++]=r,t[a++]=i,t[a++]=o;e.shadowIndex=a}(t.shadowData,t,v[0],v[1],v[2],f);var m=s,y=l,b=d;i<0&&(m=l,y=s,b=-d),function(t,e,n,r,i){for(var o=e.colourIndex,a=null!=n?n:gg,s=null!=r?r:a,l=0;l<4;l++)for(var u=0;u<6;u++)t[o++]=a[0],t[o++]=a[1],t[o++]=a[2],t[o++]=a[3]*i,t[o++]=s[0],t[o++]=s[1],t[o++]=s[2],t[o++]=s[3]*i;e.colourIndex=o}(t.colourData,t,m,y,h),function(t,e,n){for(var r=e.coreIndex,i=1;i<=4;i++)t[r]=i,t[r+1]=n,t[r+3]=i+1,t[r+4]=n,t[r+6]=-i,t[r+7]=n,t[r+9]=-i,t[r+10]=n,t[r+12]=i+1,t[r+13]=n,t[r+15]=-(i+1),t[r+16]=n,r+=18;e.coreIndex=r}(t.coreData,t,b),Tg(t.positionData,t,e,n,r,o,a,c)}else g.positions&&Tg(t.positionData,t,e,n,r,o,a,c)}(e.arcBuffers,n.x,n.y,n.r,n.offset,n.startAngle,n.endAngle,n.webglColour,n.webglColour2||n.webglColour,a,n.width,n.flowVelocity,mg[n.lineStyle]||1,r,i,o):e.arcBuffers.skip()}var Og=65535,Rg=ur;function Pg(t,e,n,r,i,o){if(t&&n.bezier){var a=mg[n.lineStyle]||1,s=yg(n);i||o.all?function(t,e,n,r,i,o,a,s,l){for(var u,c,d=t.elementIndex,f=t.elementIndexIndex,h=t.elementMappingIndex,p=0;p<Rg;p++)d[f++]=h,d[f++]=h+2,d[f++]=h+1,d[f++]=h+1,d[f++]=h+2,d[f++]=h+3,h+=2;var g=n[0],v=n[1],m=n[2],y=n[3]*l,b=r[0],x=r[1],w=r[2],C=r[3]*l,A=i||[0,0,0],_=A[0],M=A[1],E=A[2],k=4===e.xs.length,S=e.xs,I=S[0],T=S[1],L=S[2],O=S[3],R=e.ys,P=R[0],V=R[1],F=R[2],D=R[3],B=0,Z=k?Rg:25,G=k?Og:Math.round(e.joinFraction*Og),z=(G/256|0)-128,j=G%256-128,Y=2*(Z+1),N=t.elementData,U=t.elementIntegerData,W=t.elementDataIndex,X=0;for(p=0;p<102;p++)p===Y&&(I=(u=e.xs)[3],T=u[4],L=u[5],O=u[6],P=(c=e.ys)[3],V=c[4],F=c[5],D=c[6],B=2*Z,Z-=Rg,z=((G=Og-G)/256|0)-128,j=G%256-128),N[W++]=I,N[W++]=P,N[W++]=T,N[W++]=V,N[W++]=L,N[W++]=F,N[W++]=O,N[W++]=D,N[W++]=o,N[W++]=a,X=W*Float32Array.BYTES_PER_ELEMENT,U[X++]=p-B,U[X++]=Z,U[X++]=z,U[X++]=j,U[X++]=g,U[X++]=v,U[X++]=m,U[X++]=y,U[X++]=b,U[X++]=x,U[X++]=w,U[X++]=C,U[X++]=_,U[X++]=M,U[X++]=E,U[X++]=s,W+=4;t.elementDataIndex+=1428}(e.bezierBuffers,n.bezier,n.webglColour,n.webglColour2||n.webglColour,s,n.width,n.flowVelocity,a,r):o.positions&&function(t,e,n){for(var r,i,o=4===e.xs.length,a=e.xs,s=a[0],l=a[1],u=a[2],c=a[3],d=e.ys,f=d[0],h=d[1],p=d[2],g=d[3],v=0,m=o?Rg:25,y=o?Og:Math.round(e.joinFraction*Og),b=(y/256|0)-128,x=y%256-128,w=2*(m+1),C=t.elementData,A=t.elementIntegerData,_=t.elementDataIndex,M=0;M<102;M++){M===w&&(s=(r=e.xs)[3],l=r[4],u=r[5],c=r[6],f=(i=e.ys)[3],h=i[4],p=i[5],g=i[6],v=2*m,m-=Rg,b=((y=Og-y)/256|0)-128,x=y%256-128),C[_++]=s,C[_++]=f,C[_++]=l,C[_++]=h,C[_++]=u,C[_++]=p,C[_++]=c,C[_++]=g,C[_++]=n;var E=++_*Float32Array.BYTES_PER_ELEMENT;A[E++]=M-v,A[E++]=m,A[E++]=b,A[E++]=x,_+=4}t.elementDataIndex+=1428}(e.bezierBuffers,n.bezier,n.width),e.bezierBuffers.elementIndexIndex+=300,e.bezierBuffers.elementMappingIndex+=102}else e.bezierBuffers.skip()}function Vg(t,e,n,r,i,o,a,s,l,u,c,d,f,h,p){var g=u||0,v=0,m=0;p&&(v=p[0]||0,m=p[1]||0);var y=e,b=n,x=r,w=i;if(o||(y=0,x=0,b=0,w=0),f||h.all){var C=yg(t);xg(a.triangleBuffers,C),bg(a.triangleBuffers,o,l),Cg(a.triangleBuffers,y,b,x,w,g,t.anchorIndex,s,a.useAbsolutePosition);var A=x-y,_=w-b;Ag(a.triangleBuffers,A,_,0,0,A,_,A,_,d,0,p?-1:-2,c>0?-c:v,t.isSelectionBorder?-1:m)}else a.useAbsolutePosition&&Cg(a.triangleBuffers,y,b,x,w,g,t.anchorIndex,s,a.useAbsolutePosition)}function Fg(t,e,n,r,i,o){var a,s=n.isFilled,l=n.borderWidth>0;if(t){var u=null!=(a=n.cornerRadius)?a:0;s&&Vg(n,n.x1,n.y1,n.x2,n.y2,n.webglFillColour,e,n.itemPrimitives,r,0,u,-1,i,o,n.rectMargins),l&&Vg(n,n.x1,n.y1,n.x2,n.y2,n.webglBorderColour,e,n.itemPrimitives,r,n.borderWidth,u,(mg[n.borderStyle]||0)>1?-3:-1,i,o,n.rectMargins)}else s&&e.triangleBuffers.skip(),l&&e.triangleBuffers.skip()}function Dg(t,e,n,r,i,o,a,s){Ag(t,e,n,r,i,o,o,o,o,s,a,0,0,0)}function Bg(t,e,n,r,i,o,a,s,l,u,c,d,f,h){var p=e,g=n,v=r,m=i,y=o,b=a;s||(p=0,v=0,y=0,g=0,m=0,b=0);var x,w,C=c.positionIndex[t.anchorIndex],A=t.webglShadowColour||pg;if(h.all||h.shadow||f)for(w=0;w<3;w++){var _=u.triangleBuffers.shadowData,M=u.triangleBuffers.shadowIndex;_[M++]=A[0],_[M++]=A[1],_[M++]=A[2],_[M++]=0,u.triangleBuffers.shadowIndex=M}if(h.all||h.colours||f){var E=s||pg;for(w=0;w<3;w++){var k=u.triangleBuffers.colourData,S=u.triangleBuffers.colourIndex;k[S++]=E[0],k[S++]=E[1],k[S++]=E[2],k[S++]=E[3]*d,u.triangleBuffers.colourIndex=S}}if(u.useAbsolutePosition&&t.anchorIndex>-1){var I=c.anchorBuffer.getData(),T=I[C],L=I[C+1],O=I[C+2];if(O){var R=Math.sin(-O),P=Math.cos(-O),V=p*P+g*R,F=g*P-p*R;p=V,g=F,F=m*P-v*R,v=V=v*P+m*R,m=F,F=b*P-y*R,y=V=y*P+b*R,b=F}p+=T,g+=L,v+=T,m+=L,y+=T,b+=L,C=-1}if(h.all||f||u.useAbsolutePosition){x=u.triangleBuffers.positionIndex;var D=u.triangleBuffers.positionData;D[x++]=p,D[x++]=g,D[x++]=0,D[x++]=C,D[x++]=v,D[x++]=m,D[x++]=0,D[x++]=C,D[x++]=y,D[x++]=b,D[x++]=0,D[x++]=C,u.triangleBuffers.positionIndex=x}if(h.all||h.textures||f){x=u.triangleBuffers.textureIndex;var B=u.triangleBuffers.textureData;B[x++]=0,B[x++]=1,B[x++]=0,B[x++]=0,B[x++]=l,B[x++]=0,B[x++]=0,B[x++]=0,B[x++]=0,B[x++]=1,B[x++]=0,B[x++]=0,B[x++]=0,B[x++]=l,B[x++]=0,B[x++]=0,B[x++]=0,B[x++]=0,B[x++]=0,B[x++]=0,B[x++]=1,B[x++]=0,B[x++]=l,B[x++]=0,B[x++]=0,B[x++]=0,B[x++]=0,u.triangleBuffers.textureIndex=x}}function Zg(t,e,n,r,i,o){n.arrowhead?function(t,e,n,r,i,o){var a=n.x1,s=n.y1,l=n.x2,u=n.y2,c=n.x3,d=n.y3,f=yg(n);n.arrowhead===se.Line?function(t,e,n,r,i,o,a,s,l,u,c,d){var f,h=t.elementData,p=t.elementIntegerData,g=t.elementDataIndex;if(c||d.all){var v=t.elementIndex,m=t.elementIndexIndex,y=t.elementMappingIndex;v[m]=y,v[m+1]=y+1,v[m+2]=y+2,f=l||[0,0,0,0]}t.elementIndexIndex+=3,t.elementMappingIndex+=3;var b=0;h[g]=e,h[g+1]=n,h[g+2]=r,h[g+3]=i,h[g+4]=o,h[g+5]=a,(c||d.all)&&(p[b=(g+6)*Float32Array.BYTES_PER_ELEMENT]=0,p[b+1]=1,p[b+2]=0,p[b+3]=5,p[b+4]=s[0],p[b+5]=s[1],p[b+6]=s[2],p[b+7]=s[3]*u,p[b+8]=s[0],p[b+9]=s[1],p[b+10]=s[2],p[b+11]=s[3]*u,p[b+12]=f[0],p[b+13]=f[1],p[b+14]=f[2],p[b+15]=0),t.elementDataIndex+=10,h[g=t.elementDataIndex]=e,h[g+1]=n,h[g+2]=r,h[g+3]=i,h[g+4]=o,h[g+5]=a,(c||d.all)&&(p[b=(g+6)*Float32Array.BYTES_PER_ELEMENT]=1,p[b+1]=0,p[b+2]=0,p[b+3]=5,p[b+4]=s[0],p[b+5]=s[1],p[b+6]=s[2],p[b+7]=s[3]*u,p[b+8]=s[0],p[b+9]=s[1],p[b+10]=s[2],p[b+11]=s[3]*u,p[b+12]=f[0],p[b+13]=f[1],p[b+14]=f[2],p[b+15]=1),t.elementDataIndex+=10,h[g=t.elementDataIndex]=e,h[g+1]=n,h[g+2]=r,h[g+3]=i,h[g+4]=o,h[g+5]=a,(c||d.all)&&(p[b=(g+6)*Float32Array.BYTES_PER_ELEMENT]=0,p[b+1]=0,p[b+2]=1,p[b+3]=5,p[b+4]=s[0],p[b+5]=s[1],p[b+6]=s[2],p[b+7]=s[3]*u,p[b+8]=s[0],p[b+9]=s[1],p[b+10]=s[2],p[b+11]=s[3]*u,p[b+12]=f[0],p[b+13]=f[1],p[b+14]=f[2],p[b+15]=2),t.elementDataIndex+=10}(e.lineBuffers,a,s,l,u,c,d,n.webglFillColour,f,r,i,o):n.arrowhead===se.Arc?function(t,e,n,r,i,o,a,s,l,u,c,d){var f=l||[0,0,0];(c||d.all)&&function(t,e,n,r,i){for(var o=e.shadowIndex,a=0;a<3;a++)t[o++]=n,t[o++]=r,t[o++]=i,t[o++]=5+a;e.shadowIndex=o}(t.shadowData,t,f[0],f[1],f[2]),(d.colours||c||d.all)&&function(t,e,n,r,i,o,a){for(var s=e.colourIndex,l=0;l<3;l++)t[s++]=n,t[s++]=r,t[s++]=i,t[s++]=o*a,t[s++]=n,t[s++]=r,t[s++]=i,t[s++]=o*a;e.colourIndex=s}(t.colourData,t,s[0],s[1],s[2],s[3],u),(c||d.all)&&function(t,e){var n=e.coreIndex;t[n++]=0,t[n++]=1,t[n++]=0,t[n++]=1,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=1,e.coreIndex=n}(t.coreData,t),(d.positions||c||d.all)&&function(t,e,n,r,i,o,a,s){var l=e.positionIndex;t[l++]=n,t[l++]=r,t[l++]=i,t[l++]=o,t[l++]=a,t[l++]=s,t[l++]=n,t[l++]=r,t[l++]=i,t[l++]=o,t[l++]=a,t[l++]=s,t[l++]=n,t[l++]=r,t[l++]=i,t[l++]=o,t[l++]=a,t[l++]=s,e.positionIndex=l}(t.positionData,t,e,n,r,i,o,a)}(e.arcBuffers,a,s,l,u,c,d,n.webglFillColour,f,r,i,o):n.arrowhead===se.Bezier&&function(t,e,n,r,i,o,a,s,l,u,c,d){var f,h=t.elementData,p=t.elementIntegerData,g=t.elementDataIndex;if(c||d.all){var v=t.elementIndex,m=t.elementIndexIndex,y=t.elementMappingIndex;v[m]=y,v[m+1]=y+1,v[m+2]=y+2,f=l||[0,0,0,0]}t.elementIndexIndex+=3,t.elementMappingIndex+=3;for(var b=[[0,1,0],[1,0,0],[0,0,1]],x=0,w=0;w<3;w++)h[g]=e,h[g+1]=n,h[g+2]=r,h[g+3]=i,h[g+4]=o,h[g+5]=a,(c||d.all)&&(p[x=(g+10)*Float32Array.BYTES_PER_ELEMENT]=b[w][0],p[x+1]=b[w][1],p[x+2]=b[w][2],p[x+3]=w,p[x+4]=s[0],p[x+5]=s[1],p[x+6]=s[2],p[x+7]=s[3]*u,p[x+8]=s[0],p[x+9]=s[1],p[x+10]=s[2],p[x+11]=s[3]*u,p[x+12]=f[0],p[x+13]=f[1],p[x+14]=f[2],p[x+15]=5),t.elementDataIndex+=14,g=t.elementDataIndex}(e.bezierBuffers,a,s,l,u,c,d,n.webglFillColour,f,r,i,o)}(0,e,n,r,i,o):(n.isFilled&&Bg(n,n.x1,n.y1,n.x2,n.y2,n.x3,n.y3,n.webglFillColour,-2,e,n.itemPrimitives,r,i,o),n.borderWidth>0&&Bg(n,n.x1,n.y1,n.x2,n.y2,n.x3,n.y3,n.webglBorderColour,-2,e,n.itemPrimitives,r,i,o))}var Gg=6*Float32Array.BYTES_PER_ELEMENT,zg=3*Float32Array.BYTES_PER_ELEMENT,jg=4*Uint8Array.BYTES_PER_ELEMENT,Yg=8*Uint8Array.BYTES_PER_ELEMENT;function Ng(t,e,n){var r,i,o,a={},s={},l="",u="",c={},d={textAtlas:!1,fontIcons:!1,imageAtlas:!1};function f(e,r){e.clearTextureAtlas(t.imageAtlases),t.imageAtlases=function(t,e){for(var n=[],r=4,i=4,o=4,a=0,s=t.getMissingImage(),l=function(t){var e=[],n=2;return t.forEach(function(t){if(t.isLoaded){var r=t.width>t.height?"width":"height";if(t.src&&t.src.indexOf(".svg")>-1){var i=0|Math.max(t.width,t.height);if(i){var o=256/i;t.width=Math.round(t.width*o),t.height=Math.round(t.height*o)}else t.width=256,t.height=256}var a=function(t,e){var n=1,r=!1;return t>264&&(e>0?t>512&&(n=t/512):n=t/264,r=!0),{imageRatio:n,largeImage:r}}(t.height,n);a.largeImage&&n>0&&n--,t.size=t[r]/a.imageRatio,t.imageRatio=a.imageRatio,t.nonSquare=t.width!==t.height&&r,e.push(t)}}),e.sort(function(t,e){return t.size-e.size})}(t),u=function(t){for(var e=1,n=8,r=8,i=0,o=0,a=t.length;o<a;o++){var s=t[o],l=s.width/s.imageRatio,u=s.height/s.imageRatio;n+l+8>1024&&(n=0,r+=i+8,i=0),r+u>1024&&(e++,r=8),u>i&&(i=u),n+=l+8}return e<4?1024:e<=12?2048:4096}(l),c=1/u,d=Jf(u,0,e,Qf),f=[],h=0,p=l.length;h<p;h++){var g=l[h];if(g.isMissing)f.push(g);else{var v=g.width/g.imageRatio,m=g.height/g.imageRatio;if(r+v+8>u&&(r=0,i+=a+8,a=0),i+m>u&&(o++,i=8,n.push(qf(d.canvas)),d=Jf(u,o,e,Qf)),g.u1=r*c,g.v1=i*c,g.u2=(r+v)*c,g.v2=(i+m)*c,g.isEmoji&&(g.v2=i*c,g.v1=(i+m)*c),g.maxDimension=g.nonSquare,g.textureBank=o,g.colourComponentTexture=-1,g.nonSquare){var y=g.v2-g.v1,b=g.u2-g.u1;if("width"===g.nonSquare){var x=(b-b*(y/b))/2;g.cu1=g.u1+x,g.cv1=g.v1,g.cu2=g.u2-x,g.cv2=g.v2}else{var w=(y-y*(b/y))/2;g.cu1=g.u1,g.cv1=g.v1+w,g.cu2=g.u2,g.cv2=g.v2-w}}else g.cu1=g.u1,g.cv1=g.v1,g.cu2=g.u2,g.cv2=g.v2;d.drawImage(g.hasControlColour?g.co:g.im,r,i,v,m),m>a&&(a=m),r+=v+8}}for(f.forEach(function(t){t.u1=s.u1,t.v1=s.v1,t.u2=s.u2,t.v2=s.v2,t.cu1=s.cu1,t.cv1=s.cv1,t.cu2=s.cu2,t.cv2=s.cv2,t.textureBank=s.textureBank}),n.push(qf(d.canvas)),o++;o<7;){var C=Jf(1,o++,!1,Qf);n.push(qf(C.canvas))}return n}(n,r)}function h(t){V(t.fontFamily)&&(t.fontFamily="sans-serif"),l===t.fontFamily&&null!==l||(l=t.fontFamily,d.textAtlas=!0),c[l]=!0,s[l]=!0}function p(t){t.iconFontFamily&&u!==t.iconFontFamily&&(u=t.iconFontFamily,d.fontIcons=!0)}var g=((r={})[le.arc]=Lg,r[le.bezier]=Pg,r[le.line]=kg,r[le.image]=function(t,e,r,i,o,a){!function(t,e,n,r,i,o,a){t?("_background"===n.id&&(n.webglShadowColour=hg),_g(n,a.get(n.url),pg,e,n.itemPrimitives,r,i,o)):e.triangleBuffers.skip()}(t,e,r,i,o,a,n)},r[le.triangle]=Zg,r[le.rect]=Fg,r[le.circle]=Ig,r[le.text]=function(n,r,o,s,u,c){(c.all||u||r.useAbsolutePosition)&&(o.isFontIcon?function(t,e,n,r,i,o,a){t?_g(n,a[n.text+(n.fontFamily||"")],n.webglFontColour,e,n.itemPrimitives,r,i,o):e.triangleBuffers.skip()}(n,r,o,s,u,c,a):function(t,e,n,r,i,o,a,s){n.back&&(t?Vg(n,n.x1,n.y1,n.x2,n.y2+n.fontSize*n.paddingFactor,n.webglBackColour,e,n.itemPrimitives,r,0,0,-4,i,o):e.triangleBuffers.skip()),t?function(t,e,n,r,i,o,a,s,l){if(s.all||a||l){var u=.109375,c=0,d=e.webglFontColour;d?e.fontSize!==Le&&(u=Oe/r*(e.fontSize/Oe)):u=0;for(var f=e.wmargin,h=e.x1,p=e.y1+e.yOffset+e.fontSize*(e.paddingFactor/2),g=0,v=n.length;g<v;g++){var m=n[g],y=r*u;xg(t,hg),bg(t,d,o);var b=m.width*u,x=0;m.textureBank<3&&(x=y*ig),Cg(t,h+c+f,p+y,h+(c+b)+f,p-x,0,e.anchorIndex,i,l),Dg(t,m.u1,m.v1,m.u2,m.v2,y,m.colourComponent,m.textureBank),c+=b}}}(e.triangleBuffers,n,a,s,n.itemPrimitives,r,i,o,e.useAbsolutePosition):e.triangleBuffers.skipMany(a.length)}(n,r,o,s,u,c,e.getGlyphsFromText(o.text,o.fontFamily,l,o.isBold,d,i,t.textAtlas),t.textAtlas.fontSize))},r);function v(e,n,r){for(var i,o=r.rebuildOptions,a=r.alwaysUpdate,s=0;s<n;s++){var l=1;(i=e[s]).itemPrimitives.bg&&(l*=t.alpha.background),i.itemPrimitives.gh&&(l*=t.alpha.ghost);var u=vg(i,a,o);g[i.type](u,r,i,l,a,o)}}function m(n,r){(d.textAtlas||r)&&(t.textAtlas&&n.clearTextureAtlas(t.textAtlas.atlases),t.textAtlas=function(t,e,n){var r=t;return tg=e,rg=128,eg=ag(),function(t,e){var n=Object.keys(t),r=function(t){for(var e=0,n=document.createElement("canvas").getContext("2d"),r=0,i=t.length;r<i;r++){var o=tg.getNonEmojiGlyphs(),a=t[r];e+=lg(n,o,a,!1),e+=lg(n,o,a,!0)}for(var s=(rg+eg)*e/3,l=256;s/(l*l)>3;)l*=2;return l}(n),i={};return K(ug(i,n,r,e),{getGlyphInfoForFont:function(t){return i[t]}})}(r,n)}(c,e,r),s=c)}function y(e,n){(d.fontIcons||!t.fontIconAtlas||n)&&(e.clearTextureAtlas(t.fontIconAtlas),t.fontIconAtlas=function(t,e,n){var r,i=Object.keys(t);if(i.length){var o=function(t){for(var e=512,n=12;e<2048;){if(t<=n)return e;e*=2,n*=4}return 2048}(i.length),a=Jf(o,0,n,"FontIcon");r=a.canvas;var s=248,l=128,u=0,c=1/o;a.fillStyle="rgb(0,0,0)",a.textAlign="center";var d=0,f=["rgba(255,0,0,1)","rgba(0,255,0,1)","rgba(0,0,255,1)","rgba(0,0,0,0)"];a.fillStyle="black",a.fillRect(0,0,o,o),a.fillStyle=f[0],a.globalCompositeOperation="lighter";for(var h=0,p=i.length;h<p;h++){var g=t[i[h]],v=sn(a,g.t,s,!1,g.ff||e,!0),m=Math.max(v.width,v.height),y=0;if(m>s&&(y=(s-(m=s*(s/m)))/2),l+256>o+128&&(l=128,u+=256),u>=o){if(l=128,u=0,++d>2)throw Error("Maximum number of icons exceeded!");a.fillStyle=f[d]}g.textureBank=3,g.colourComponentTexture=d,g.u1=(l-124)*c,g.v1=u*c,g.u2=(l+124)*c,g.v2=(u+s)*c,a.textBaseline="top",a.font=m+"px "+ot(g.ff||e),a.fillText(g.t,l,u+y),l+=256}}else(r=document.createElement("canvas")).id="webglFontIconDebugCanvas",r.width=1,r.height=1;return{alphaChannel:!1,img:r,texture:void 0,rebuild:!1,size:0}}(a,u,n))}function b(t,e,n){t.needsResize=t.needsResize||!e||n!==e.length}function x(e,n,r,o,l){switch(e.type){case le.arc:e.isDonut?l.numOfTriangles+=2:r.numOfTriangles+=8;break;case le.bezier:e.bezier&&(o.numOfBeziers+=1);break;case le.line:n.numOfLines+=1;break;case le.circle:e.borderWidth>0&&(l.numOfTriangles+=2),e.isFilled&&(l.numOfTriangles+=2);break;case le.rect:e.isFilled&&(l.numOfTriangles+=2),e.borderWidth>0&&(l.numOfTriangles+=2);break;case le.text:var u=e.text,f=t.stringSplitter.unicodeAwareCharacters(u),h=f.length;if(e.isFontIcon){var p=u+(e.fontFamily||"");l.numOfTriangles+=2,a[p]||(d.fontIcons=!0,a[p]={t:u,ff:e.fontFamily})}else e.fontFamily&&(c[e.fontFamily]=!0,s[e.fontFamily]||(d.textAtlas=!0,s[e.fontFamily]=!0)),e.back&&(l.numOfTriangles+=2),i&&(h=Xt(f,u).result.length),l.numOfTriangles+=2*h;break;case le.triangle:e.arrowhead>0?e.arrowhead===se.Line?n.numOfArrowheads++:e.arrowhead===se.Bezier?o.numOfArrowheads++:r.numOfTriangles++:(e.isFilled&&l.numOfTriangles++,e.borderWidth>0&&l.numOfTriangles++);break;case le.image:l.numOfTriangles+=2}}return{generate:function e(n,r,a,s){o=s.isFloatingPointSupported(a._rendering.disableFloatTexture),r.all&&(t.layersToDraw.length=0,i=ln(t.canvas),d.textAtlas=!1,d.fontIcons=!1,d.imageAtlas=!1);var l=a.linkStyle,u=!(!l||"along"!==l.glyphs);n.forEach(function(e){var n=function(t,e,n){var r=t.get(e.id);return r&&n?function(t,e){t.useFramebuffer=e.useFramebuffer,t.drawFramebuffer=e.drawFramebuffer,t.framebuffer=null,t.renderbuffer=null,t.framebufferTexture=null,t.fbAlpha=e.fbAlpha,t.useView=e.useView,t.shadowType=e.shadowType,t.rebuildOptions={},t.alwaysUpdate=e.alwaysUpdate,t.blatOverview=e.blatOverview,t.numOfPrimitives=e.numOfPrimitives,t.primitives=e.primitives,t.overview=e.overview,t.useAbsolutePosition=!1}(r,e):r||(r=function(t){var e={triangleBuffers:{colourIndex:0,needsResize:!1,numOfTriangles:0,positionIndex:0,shadowIndex:0,textureIndex:0,totalnumOfVertices:0,skip:function(){e.triangleBuffers.positionIndex+=24},skipMany:function(t){e.triangleBuffers.positionIndex+=24*t}},lineBuffers:{numOfLines:0,numOfArrowheads:0,needsResize:!1,elementDataIndex:0,elementDataIndexIndex:0,elementIndexIndex:0,elementIntegerDataIndex:0,elementMappingIndex:0,skip:function(){e.lineBuffers.elementDataIndex+=40}},arcBuffers:{colourIndex:0,coreIndex:0,numOfTriangles:0,needsResize:!1,positionIndex:0,shadowIndex:0,totalnumOfVertices:0,skip:function(){e.arcBuffers.positionIndex+=144}},bezierBuffers:{elementDataIndex:0,elementIndexIndex:0,elementIntegerDataIndex:0,elementMappingIndex:0,numOfBeziers:0,totalnumOfVertices:0,numOfArrowheads:0,needsResize:!1,skip:function(){e.bezierBuffers.elementDataIndex+=1428}},id:t.id,useFramebuffer:t.useFramebuffer,drawFramebuffer:t.drawFramebuffer,framebuffer:null,renderbuffer:null,framebufferTexture:null,fbAlpha:t.fbAlpha,useView:t.useView,shadowType:t.shadowType,rebuildOptions:{},alwaysUpdate:t.alwaysUpdate,blatOverview:t.blatOverview,numOfPrimitives:t.numOfPrimitives,primitives:t.primitives,overview:t.overview,useAbsolutePosition:!1};return e}(e),t.set(e.id,r)),r}(t.allLayers,e,!!r.all);if(r.all&&t.layersToDraw.push(n),n.useAbsolutePosition=!o&&(r.all||r.positions||e.alwaysUpdate)||u&&n.id.indexOf("LINK")>-1,function(t,e,n){t.fbAlpha=n,t.rebuildOptions={all:e.all,colours:e.colours,textures:e.textures,shadow:e.shadow,positions:e.positions}}(n,r,e.fbAlpha),function(t,e){return t.all||t.textures||t.positions||t.shadow||t.colours||e}(r,e.alwaysUpdate)||n.useAbsolutePosition){var i=e.primitives,s=e.numOfPrimitives;if(h(a),p(a),r.all||e.alwaysUpdate){var l=n.lineBuffers,c=n.arcBuffers,f=n.triangleBuffers,g=n.bezierBuffers;!function(t,e,n,r){e.numOfTriangles=0,t.numOfLines=0,t.numOfArrowheads=0,r.numOfTriangles=0,n.numOfBeziers=0,n.numOfArrowheads=0}(l,c,g,f);for(var m=0;m<s;m++)x(e.primitives[m],l,c,g,f)}d.textAtlas||d.fontIcons||d.imageAtlas||(function(t){(function(t){t.elementIndexIndex=0,t.elementMappingIndex=0,t.elementDataIndex=0,t.elementIntegerDataIndex=0;var e=10*t.numOfLines*4,n=6*t.numOfLines+3*t.numOfArrowheads;b(t,t.elementData,e+=10*t.numOfArrowheads*3),b(t,t.elementIndex,n),t.needsResize&&(t.elementData=new Float32Array(e),t.elementIntegerData=new Uint8Array(t.elementData.buffer,0,t.elementData.length*Float32Array.BYTES_PER_ELEMENT),t.elementIndex=new Uint32Array(n))})(t.lineBuffers),function(t){t.positionIndex=0,t.colourIndex=0,t.shadowIndex=0,t.coreIndex=0,t.totalnumOfVertices=3*t.numOfTriangles,b(t,t.positionData,6*t.totalnumOfVertices),t.needsResize&&(t.positionData=new Float32Array(6*t.totalnumOfVertices)),t.needsResize&&(t.colourData=new Uint8Array(8*t.totalnumOfVertices)),t.needsResize&&(t.shadowData=new Uint8Array(4*t.totalnumOfVertices)),t.needsResize&&(t.coreData=new Float32Array(3*t.totalnumOfVertices))}(t.arcBuffers),function(t){t.elementIndexIndex=0,t.elementMappingIndex=0,t.elementDataIndex=0,t.elementIntegerDataIndex=0,t.totalnumOfVertices=t.numOfBeziers*Rg*6;var e=51*t.numOfBeziers*2*14,n=t.totalnumOfVertices+3*t.numOfArrowheads;b(t,t.elementData,e+=14*t.numOfArrowheads*3),b(t,t.elementIndex,n),t.needsResize&&(t.elementData=new Float32Array(e),t.elementIntegerData=new Uint8Array(t.elementData.buffer,0,t.elementData.length*Float32Array.BYTES_PER_ELEMENT),t.elementIndex=new Uint32Array(n))}(t.bezierBuffers),function(t){t.positionIndex=0,t.colourIndex=0,t.textureIndex=0,t.shadowIndex=0,t.totalnumOfVertices=3*t.numOfTriangles,b(t,t.positionData,4*t.totalnumOfVertices),t.needsResize&&(t.positionData=new Float32Array(4*t.totalnumOfVertices)),t.needsResize&&(t.colourData=new Uint8Array(4*t.totalnumOfVertices)),t.needsResize&&(t.textureData=new Float32Array(9*t.totalnumOfVertices)),t.needsResize&&(t.shadowData=new Uint8Array(4*t.totalnumOfVertices))}(t.triangleBuffers)}(n),v(i,s,n))}}),m(s,a._rendering.showTextAtlas),y(s,a._rendering.showFontIconAtlas),function(t,e){(d.imageAtlas||e)&&f(t,e)}(s,a._rendering.showImageAtlas),(d.textAtlas||d.fontIcons||d.imageAtlas)&&(d.fontIcons=!1,d.textAtlas=!1,d.imageAtlas=!1,r.all=!0,e(n,r,a,s)),c={}},updateImageTextures:f}}function Ug(t){var e,n,r,i,o,a,s=t.canvas,l=t.framebuffers,u=(u=$h(s,{antialias:!1,preferLowPowerToHighPerformance:!1,depth:!1,stencil:!1}),t.gl=u,n=s.width,r=s.height,i=u.drawingBufferWidth,o=u.drawingBufferHeight,u.getExtension("OES_standard_derivatives"),u.getExtension("OES_element_index_uint"),u.viewport(0,0,i,o),u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA),u.enable(u.BLEND),u.clearColor(0,0,0,0),t.framebuffers={},l=t.framebuffers,e=new Uint8Array(4),u),c=function(t){var e,n=t,r=10*Float32Array.BYTES_PER_ELEMENT;if(!n.lineShader){var i=rp(n,"line-vertex",n.VERTEX_SHADER),o=rp(n,"line-fragment",n.FRAGMENT_SHADER);e=ep(n,i,o),n.lineShader={vertexShader:i,fragmentShader:o,program:e}}e=n.lineShader.program,n.getExtension("OES_standard_derivatives"),n.getExtension("OES_element_index_uint");var a={position1:n.getAttribLocation(e,"a_position1"),position2:n.getAttribLocation(e,"a_position2"),position3:n.getAttribLocation(e,"a_position3"),colour:n.getAttribLocation(e,"a_colour"),colour2:n.getAttribLocation(e,"a_colour2"),vertexInfo:n.getAttribLocation(e,"a_vertexInfo"),shadowColour:n.getAttribLocation(e,"a_hitTestColour"),index:n.getAttribLocation(e,"a_index")},s={hitTest:n.getUniformLocation(e,"u_hitTest"),zoom:n.getUniformLocation(e,"u_zoom"),transform:n.getUniformLocation(e,"u_transform"),resolution:n.getUniformLocation(e,"u_resolution"),shadowType:n.getUniformLocation(e,"u_shadowType"),viewIndependent:n.getUniformLocation(e,"u_viewIndependent"),gradientStartFraction:n.getUniformLocation(e,"u_gradientStartFraction"),time:n.getUniformLocation(e,"u_time"),adaptiveStyling:n.getUniformLocation(e,"u_adaptiveStyling")};function l(t,e,r,i,o,a,l,u,c){n.uniform3f(s.resolution,e,r,i),n.uniformMatrix4fv(s.transform,!1,t.get()),n.uniform1f(s.hitTest,o?1:0),n.uniform1f(s.zoom,t.getZoomLevel()),n.uniform1f(s.shadowType,a),n.uniform1f(s.viewIndependent,l?0:1),n.uniform1f(s.adaptiveStyling,u&&u.zoom&&u.zoom.adaptiveStyling?1:0);var d=0;o||(d=(1-u.linkStyle.transition)/2),n.uniform1f(s.gradientStartFraction,d),n.uniform1f(s.time,c)}function u(t){n.bindBuffer(n.ARRAY_BUFFER,t.elementBuffer),n.enableVertexAttribArray(a.position1),n.enableVertexAttribArray(a.position2),n.enableVertexAttribArray(a.position3),n.enableVertexAttribArray(a.vertexInfo),n.enableVertexAttribArray(a.colour),n.enableVertexAttribArray(a.colour2),n.enableVertexAttribArray(a.shadowColour),n.enableVertexAttribArray(a.index),n.vertexAttribPointer(a.position1,2,n.FLOAT,!1,r,0),n.vertexAttribPointer(a.position2,2,n.FLOAT,!1,r,8),n.vertexAttribPointer(a.position3,2,n.FLOAT,!1,r,16),n.vertexAttribPointer(a.vertexInfo,4,n.UNSIGNED_BYTE,!1,r,24),n.vertexAttribPointer(a.colour,4,n.UNSIGNED_BYTE,!1,r,28),n.vertexAttribPointer(a.colour2,4,n.UNSIGNED_BYTE,!1,r,32),n.vertexAttribPointer(a.shadowColour,3,n.UNSIGNED_BYTE,!1,r,36),n.vertexAttribPointer(a.index,1,n.UNSIGNED_BYTE,!1,r,39)}function c(){n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null),n.bindBuffer(n.ARRAY_BUFFER,null)}return{drawItems:function(t,r,i,o,a,s,d,f,h){n.useProgram(e),c(),l(i,o,a,s,d,0|t.shadowType,t.useView,f,h),function(t){t.elementBuffer||(t.elementBuffer=n.createBuffer()),t.indexBuffer||(t.indexBuffer=n.createBuffer())}(r),function(t,e){(t.alwaysUpdate||t.rebuildOptions.all||t.rebuildOptions.positions||t.rebuildOptions.colours||t.rebuildOptions.textures||t.rebuildOptions.shadow)&&(n.bindBuffer(n.ARRAY_BUFFER,e.elementBuffer),e.needsResize?n.bufferData(n.ARRAY_BUFFER,e.elementData,n.DYNAMIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,e.elementData),n.bindBuffer(n.ARRAY_BUFFER,null),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer),e.needsResize?(n.bufferData(n.ELEMENT_ARRAY_BUFFER,e.elementIndex,n.DYNAMIC_DRAW),e.needsResize=!1):n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,0,e.elementIndex),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null))}(t,r),r.needsResize=!1,u(r),function(t){n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.indexBuffer);var e=6*t.numOfLines+3*t.numOfArrowheads;e>0&&n.drawElements(n.TRIANGLES,e,n.UNSIGNED_INT,0)}(r),c()},finish:function(){np(n,e)}}}(u),d=function(t){var e,n=t;if(!n.arcShader){var r=rp(n,"line-arc-vertex",n.VERTEX_SHADER),i=rp(n,"line-fragment",n.FRAGMENT_SHADER);e=ep(n,r,i),n.arcShader={vertexShader:r,fragmentShader:i,program:e}}var o={position:n.getAttribLocation(e=n.arcShader.program,"a_position"),radius:n.getAttribLocation(e,"a_radius"),startAngle:n.getAttribLocation(e,"a_startAngle"),endAngle:n.getAttribLocation(e,"a_endAngle"),width:n.getAttribLocation(e,"a_width"),colour:n.getAttribLocation(e,"a_colour"),colour2:n.getAttribLocation(e,"a_colour2"),core:n.getAttribLocation(e,"a_core"),type:n.getAttribLocation(e,"a_lineType"),shadowColour:n.getAttribLocation(e,"a_hitTestColour")},a={hitTest:n.getUniformLocation(e,"u_hitTest"),zoom:n.getUniformLocation(e,"u_zoom"),transform:n.getUniformLocation(e,"u_transform"),resolution:n.getUniformLocation(e,"u_resolution"),shadowType:n.getUniformLocation(e,"u_shadowType"),gradientStartFraction:n.getUniformLocation(e,"u_gradientStartFraction"),time:n.getUniformLocation(e,"u_time"),adaptiveStyling:n.getUniformLocation(e,"u_adaptiveStyling")};function s(t,e,r,i,o,s,l,u){n.uniform3f(a.resolution,e,r,i),n.uniformMatrix4fv(a.transform,!1,t.get()),n.uniform1f(a.hitTest,o?1:0),n.uniform1f(a.zoom,t.getZoomLevel()),n.uniform1f(a.shadowType,s),n.uniform1f(a.adaptiveStyling,l&&l.zoom&&l.zoom.adaptiveStyling?1:0);var c=0;o||(c=(1-l.linkStyle.transition)/2),n.uniform1f(a.gradientStartFraction,c),n.uniform1f(a.time,u)}function l(t){var e=t.arcBuffers;n.bindBuffer(n.ARRAY_BUFFER,e.colourBuffer),(t.rebuildOptions.colours||t.alwaysUpdate||t.rebuildOptions.all)&&(e.needsResize?n.bufferData(n.ARRAY_BUFFER,e.colourData,n.STATIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,e.colourData)),n.enableVertexAttribArray(o.colour),n.enableVertexAttribArray(o.colour2),n.vertexAttribPointer(o.colour,4,n.UNSIGNED_BYTE,!1,Yg,0),n.vertexAttribPointer(o.colour2,4,n.UNSIGNED_BYTE,!1,Yg,4)}function u(t){var e=t.arcBuffers;n.bindBuffer(n.ARRAY_BUFFER,e.shadowBuffer),(t.alwaysUpdate||t.rebuildOptions.all||t.rebuildOptions.shadow)&&(e.needsResize?n.bufferData(n.ARRAY_BUFFER,e.shadowData,n.STATIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,e.shadowData)),n.enableVertexAttribArray(o.shadowColour),n.enableVertexAttribArray(o.type),n.vertexAttribPointer(o.shadowColour,3,n.UNSIGNED_BYTE,!1,jg,0),n.vertexAttribPointer(o.type,1,n.UNSIGNED_BYTE,!1,jg,3)}function c(t){var e=t.arcBuffers;n.bindBuffer(n.ARRAY_BUFFER,e.coreBuffer),(t.alwaysUpdate||t.rebuildOptions.all||t.rebuildOptions.shadow)&&(e.needsResize?n.bufferData(n.ARRAY_BUFFER,e.coreData,n.STATIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,e.coreData)),n.enableVertexAttribArray(o.core),n.vertexAttribPointer(o.core,3,n.FLOAT,!1,zg,0)}function d(t){var e=t.arcBuffers;n.bindBuffer(n.ARRAY_BUFFER,e.positionBuffer),(t.rebuildOptions.positions||t.alwaysUpdate||t.rebuildOptions.all)&&(e.needsResize?n.bufferData(n.ARRAY_BUFFER,e.positionData,n.STATIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,e.positionData)),n.enableVertexAttribArray(o.position),n.enableVertexAttribArray(o.radius),n.enableVertexAttribArray(o.startAngle),n.enableVertexAttribArray(o.endAngle),n.enableVertexAttribArray(o.width),n.vertexAttribPointer(o.position,2,n.FLOAT,!1,Gg,0),n.vertexAttribPointer(o.radius,1,n.FLOAT,!1,Gg,8),n.vertexAttribPointer(o.startAngle,1,n.FLOAT,!1,Gg,12),n.vertexAttribPointer(o.endAngle,1,n.FLOAT,!1,Gg,16),n.vertexAttribPointer(o.width,1,n.FLOAT,!1,Gg,20)}return{drawItems:function(t,r,i,o,a,f,h,p){n.useProgram(e),s(r,i,o,a,f,0|t.shadowType,h,p),function(t){t.arcBuffers.positionBuffer||(t.arcBuffers.positionBuffer=n.createBuffer()),t.arcBuffers.colourBuffer||(t.arcBuffers.colourBuffer=n.createBuffer()),t.arcBuffers.shadowBuffer||(t.arcBuffers.shadowBuffer=n.createBuffer()),t.arcBuffers.coreBuffer||(t.arcBuffers.coreBuffer=n.createBuffer())}(t),l(t),u(t),d(t),c(t),t.arcBuffers.needsResize=!1,t.arcBuffers.totalnumOfVertices>0&&n.drawArrays(n.TRIANGLES,0,t.arcBuffers.totalnumOfVertices),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null),n.bindBuffer(n.ARRAY_BUFFER,null)},finish:function(){np(n,e)}}}(u),f=function(t){var e,n=t,r=14*Float32Array.BYTES_PER_ELEMENT;if(!n.bezierShader){var i=rp(n,"line-bezier-vertex",n.VERTEX_SHADER),o=rp(n,"line-fragment",n.FRAGMENT_SHADER);e=ep(n,i,o),n.bezierShader={vertexShader:i,fragmentShader:o,program:e}}e=n.bezierShader.program,n.getExtension("OES_element_index_uint");var a={p0:n.getAttribLocation(e,"a_p0"),p1:n.getAttribLocation(e,"a_p1"),p2:n.getAttribLocation(e,"a_p2"),p3:n.getAttribLocation(e,"a_p3"),width:n.getAttribLocation(e,"a_width"),flowVelocity:n.getAttribLocation(e,"a_flowVelocity"),colour:n.getAttribLocation(e,"a_colour"),colour2:n.getAttribLocation(e,"a_colour2"),core:n.getAttribLocation(e,"a_core"),type:n.getAttribLocation(e,"a_lineType"),shadowColour:n.getAttribLocation(e,"a_hitTestColour")},s={hitTest:n.getUniformLocation(e,"u_hitTest"),zoom:n.getUniformLocation(e,"u_zoom"),transform:n.getUniformLocation(e,"u_transform"),resolution:n.getUniformLocation(e,"u_resolution"),shadowType:n.getUniformLocation(e,"u_shadowType"),gradientStartFraction:n.getUniformLocation(e,"u_gradientStartFraction"),time:n.getUniformLocation(e,"u_time"),adaptiveStyling:n.getUniformLocation(e,"u_adaptiveStyling")};function l(t,e,r,i,o,a,l,u){n.uniform3f(s.resolution,e,r,i),n.uniformMatrix4fv(s.transform,!1,t.get()),n.uniform1f(s.hitTest,o?1:0),n.uniform1f(s.zoom,t.getZoomLevel()),n.uniform1f(s.shadowType,a),n.uniform1f(s.adaptiveStyling,l&&l.zoom&&l.zoom.adaptiveStyling?1:0);var c=0;o||(c=(1-l.linkStyle.transition)/2),n.uniform1f(s.gradientStartFraction,c),n.uniform1f(s.time,u)}function u(t){n.bindBuffer(n.ARRAY_BUFFER,t.elementBuffer),n.enableVertexAttribArray(a.p0),n.enableVertexAttribArray(a.p1),n.enableVertexAttribArray(a.p2),n.enableVertexAttribArray(a.p3),n.enableVertexAttribArray(a.width),n.enableVertexAttribArray(a.flowVelocity),n.enableVertexAttribArray(a.colour),n.enableVertexAttribArray(a.colour2),n.enableVertexAttribArray(a.core),n.enableVertexAttribArray(a.shadowColour),n.enableVertexAttribArray(a.type),n.vertexAttribPointer(a.p0,2,n.FLOAT,!1,r,0),n.vertexAttribPointer(a.p1,2,n.FLOAT,!1,r,8),n.vertexAttribPointer(a.p2,2,n.FLOAT,!1,r,16),n.vertexAttribPointer(a.p3,2,n.FLOAT,!1,r,24),n.vertexAttribPointer(a.width,1,n.FLOAT,!1,r,32),n.vertexAttribPointer(a.flowVelocity,1,n.FLOAT,!1,r,36),n.vertexAttribPointer(a.core,4,n.BYTE,!1,r,40),n.vertexAttribPointer(a.colour,4,n.UNSIGNED_BYTE,!1,r,44),n.vertexAttribPointer(a.colour2,4,n.UNSIGNED_BYTE,!1,r,48),n.vertexAttribPointer(a.shadowColour,3,n.UNSIGNED_BYTE,!1,r,52),n.vertexAttribPointer(a.type,1,n.UNSIGNED_BYTE,!1,r,55)}function c(){n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null),n.bindBuffer(n.ARRAY_BUFFER,null)}return{drawItems:function(t,r,i,o,a,s,d,f,h){n.useProgram(e),c(),l(i,o,a,s,d,0|t.shadowType,f,h),function(t){t.elementBuffer||(t.elementBuffer=n.createBuffer()),t.indexBuffer||(t.indexBuffer=n.createBuffer())}(r),function(t,e){(t.alwaysUpdate||t.rebuildOptions.all||t.rebuildOptions.positions||t.rebuildOptions.colours||t.rebuildOptions.textures||t.rebuildOptions.shadow)&&(n.bindBuffer(n.ARRAY_BUFFER,e.elementBuffer),e.needsResize?n.bufferData(n.ARRAY_BUFFER,e.elementData,n.DYNAMIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,e.elementData),n.bindBuffer(n.ARRAY_BUFFER,null),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer),e.needsResize?(n.bufferData(n.ELEMENT_ARRAY_BUFFER,e.elementIndex,n.DYNAMIC_DRAW),e.needsResize=!1):n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,0,e.elementIndex),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null))}(t,r),r.needsResize=!1,u(r),function(t){n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.indexBuffer);var e=t.totalnumOfVertices+3*t.numOfArrowheads;e>0&&n.drawElements(n.TRIANGLES,e,n.UNSIGNED_INT,0)}(r),c()},finish:function(){np(n,e)}}}(u),h=function(t){var e,n=t.gl,r=4*Float32Array.BYTES_PER_ELEMENT,i=9*Float32Array.BYTES_PER_ELEMENT,o=4*Uint8Array.BYTES_PER_ELEMENT,a=4*Uint8Array.BYTES_PER_ELEMENT;if(!n.triangleShader){var s=rp(n,"triangle-vertex",n.VERTEX_SHADER),l=rp(n,"triangle-fragment",n.FRAGMENT_SHADER);e=ep(n,s,l),n.triangleShader={vertexShader:s,fragmentShader:l,program:e}}var u={transform:n.getUniformLocation(e=n.triangleShader.program,"u_transform"),textures:n.getUniformLocation(e,"u_image[0]"),resolution:n.getUniformLocation(e,"u_resolution"),hitTest:n.getUniformLocation(e,"u_hitTest"),shadowType:n.getUniformLocation(e,"u_shadowType"),zoom:n.getUniformLocation(e,"u_zoom"),anchorTexture:n.getUniformLocation(e,"u_anchorTexture"),anchorTextureSize:n.getUniformLocation(e,"u_anchorTextureSize"),useAnchor:n.getUniformLocation(e,"u_useAnchor"),viewIndependent:n.getUniformLocation(e,"u_viewIndependent"),adaptiveStyling:n.getUniformLocation(e,"u_adaptiveStyling")},c={position:n.getAttribLocation(e,"a_position"),anchor:n.getAttribLocation(e,"a_anchor"),startAngle:n.getAttribLocation(e,"a_startAngle"),endAngle:n.getAttribLocation(e,"a_endAngle"),circleRadius:n.getAttribLocation(e,"a_circleRadius"),width:n.getAttribLocation(e,"a_width"),colour:n.getAttribLocation(e,"a_colour"),textCoord:n.getAttribLocation(e,"a_texCoord"),vertexIndex:n.getAttribLocation(e,"a_vertexIndex"),shadowColour:n.getAttribLocation(e,"a_hitTestColour"),textureBank:n.getAttribLocation(e,"a_textureBank")};function d(t,e,n,r){var i,o;for(i=0,o=t.atlases.length;i<o;i++)v(t.atlases[i],i);for(e&&v(e,3),i=0,o=n.length;i<o;i++)v(n[i],i+4);v(r,7)}function f(t){n.bindBuffer(n.ARRAY_BUFFER,t.triangleBuffers.shadowBuffer),(t.alwaysUpdate||t.rebuildOptions.all||t.rebuildOptions.shadow)&&(t.triangleBuffers.needsResize?n.bufferData(n.ARRAY_BUFFER,t.triangleBuffers.shadowData,n.STATIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,t.triangleBuffers.shadowData)),n.enableVertexAttribArray(c.shadowColour),n.enableVertexAttribArray(c.vertexIndex),n.vertexAttribPointer(c.shadowColour,3,n.UNSIGNED_BYTE,!1,a,0),n.vertexAttribPointer(c.vertexIndex,1,n.UNSIGNED_BYTE,!1,a,3)}function h(t){n.bindBuffer(n.ARRAY_BUFFER,t.triangleBuffers.textureBuffer),(t.rebuildOptions.textures||t.alwaysUpdate||t.rebuildOptions.all)&&(t.triangleBuffers.needsResize?n.bufferData(n.ARRAY_BUFFER,t.triangleBuffers.textureData,n.STATIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,t.triangleBuffers.textureData)),n.enableVertexAttribArray(c.textCoord),n.enableVertexAttribArray(c.textureBank),n.enableVertexAttribArray(c.circleRadius),n.enableVertexAttribArray(c.startAngle),n.enableVertexAttribArray(c.endAngle),n.vertexAttribPointer(c.textCoord,4,n.FLOAT,!1,i,0),n.vertexAttribPointer(c.textureBank,2,n.FLOAT,!1,i,16),n.vertexAttribPointer(c.circleRadius,1,n.FLOAT,!1,i,24),n.vertexAttribPointer(c.startAngle,1,n.FLOAT,!1,i,28),n.vertexAttribPointer(c.endAngle,1,n.FLOAT,!1,i,32)}function p(t){n.bindBuffer(n.ARRAY_BUFFER,t.triangleBuffers.colourBuffer),(t.rebuildOptions.colours||t.alwaysUpdate||t.rebuildOptions.all)&&(t.triangleBuffers.needsResize?n.bufferData(n.ARRAY_BUFFER,t.triangleBuffers.colourData,n.STATIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,t.triangleBuffers.colourData)),n.enableVertexAttribArray(c.colour),n.vertexAttribPointer(c.colour,4,n.UNSIGNED_BYTE,!1,o,0)}function g(t,e){n.bindBuffer(n.ARRAY_BUFFER,t.triangleBuffers.positionBuffer),(t.rebuildOptions.all||t.alwaysUpdate||t.rebuildOptions.positions&&e)&&(t.triangleBuffers.needsResize?n.bufferData(n.ARRAY_BUFFER,t.triangleBuffers.positionData,n.STATIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,t.triangleBuffers.positionData)),n.enableVertexAttribArray(c.position),n.enableVertexAttribArray(c.width),n.enableVertexAttribArray(c.anchor),n.vertexAttribPointer(c.position,2,n.FLOAT,!1,r,0),n.vertexAttribPointer(c.width,1,n.FLOAT,!1,r,8),n.vertexAttribPointer(c.anchor,1,n.FLOAT,!1,r,12)}function v(t,e){if(n.activeTexture(n["TEXTURE"+e]),!t.texture||t.rebuild){if(t.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,t.texture),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),t.data)n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.texImage2D(n.TEXTURE_2D,0,n.LUMINANCE,t.size,t.size,0,n.LUMINANCE,n.FLOAT,t.data),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),t.data=void 0;else{var r=t.alphaChannel?n.RGBA:n.RGB;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,0,r,r,n.UNSIGNED_BYTE,t.img),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),t.img=void 0}t.rebuild=!1}else n.bindTexture(n.TEXTURE_2D,t.texture)}function m(t,e,r,i,o,a,s,l,c,d){n.uniform3f(u.resolution,e,r,i),n.uniform1f(u.hitTest,o?1:0),n.uniform1iv(u.textures,[0,1,2,3,4,5,6]),n.uniformMatrix4fv(u.transform,!1,t.get()),n.uniform1f(u.shadowType,a),n.uniform1f(u.zoom,t.getZoomLevel()),n.uniform1f(u.viewIndependent,c?0:1),n.uniform1i(u.anchorTexture,7),n.uniform1f(u.anchorTextureSize,s.size),n.uniform1i(u.useAnchor,l?1:0),n.uniform1f(u.adaptiveStyling,d&&d.zoom&&d.zoom.adaptiveStyling?1:0)}return{drawItems:function(t,r,i,o,a,s,l,u,c,v,y,b,x){n.useProgram(e),m(r,s,l,u,c,0|t.shadowType,v,y,t.useView,x),function(t){t.triangleBuffers.positionBuffer||(t.triangleBuffers.positionBuffer=n.createBuffer()),t.triangleBuffers.textureBuffer||(t.triangleBuffers.textureBuffer=n.createBuffer()),t.triangleBuffers.colourBuffer||(t.triangleBuffers.colourBuffer=n.createBuffer()),t.triangleBuffers.shadowBuffer||(t.triangleBuffers.shadowBuffer=n.createBuffer())}(t),f(t),h(t),p(t),g(t,b),t.triangleBuffers.needsResize=!1,d(i,o,a,v);var w=3*t.triangleBuffers.numOfTriangles;w>0&&n.drawArrays(n.TRIANGLES,0,w)},finish:function(){np(n,e)}}}(t),p=function(t){var e,n=t;if(!n.rttShader){var r=rp(n,"renderToTexture-vertex",n.VERTEX_SHADER),i=rp(n,"renderToTexture-fragment",n.FRAGMENT_SHADER);e=ep(n,r,i),n.rttShader={vertexShader:r,fragmentShader:i,program:e}}e=n.rttShader.program;var o=new Float32Array([-1,-1,0,0,1,-1,1,0,-1,1,0,1,-1,1,0,1,1,-1,1,0,1,1,1,1]),a=n.createBuffer(),s={position:n.getAttribLocation(e,"a_position"),textCoord:n.getAttribLocation(e,"a_texCoord")},l={globalAlpha:n.getUniformLocation(e,"u_globalAlpha"),backgroundColour:n.getUniformLocation(e,"u_backgroundColour"),textures:n.getUniformLocation(e,"u_image")};function u(t){n.bindBuffer(n.ARRAY_BUFFER,a),n.bufferData(n.ARRAY_BUFFER,t,n.STATIC_DRAW),n.enableVertexAttribArray(s.position),n.enableVertexAttribArray(s.textCoord),n.vertexAttribPointer(s.position,2,n.FLOAT,!1,4*Float32Array.BYTES_PER_ELEMENT,0),n.vertexAttribPointer(s.textCoord,2,n.FLOAT,!1,4*Float32Array.BYTES_PER_ELEMENT,8)}return{drawItems:function(t,r,i,a){n.useProgram(e),function(t,e){void 0===e&&(e=new Uint8Array([0,0,0,0])),n.uniform1f(l.globalAlpha,t),n.uniform4f(l.backgroundColour,e[0],e[1],e[2],e[3])}(t,a),u(i||o),function(t,e){n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,t)}(r),n.drawArrays(n.TRIANGLES,0,6)},finish:function(){np(n,e)}}}(u),g=null,v=new Uint8Array(4),m=u.getParameter(u.MAX_RENDERBUFFER_SIZE);function y(t){u.deleteFramebuffer(t.framebuffer),u.deleteRenderbuffer(t.renderbuffer),u.deleteTexture(t.texture)}function b(){z(t.framebuffers).forEach(y),t.framebuffers={},l=t.framebuffers}function x(t){t&&(Array.isArray(t)?t.forEach(P):P(t))}var w={data:new Float32Array(4),size:2,rebuild:!1};function C(e,l,c,d,f,h,p,g,v,m){r=s.clientHeight,a=v;var y=s.width/(n=s.clientWidth);i=u.drawingBufferWidth,o=u.drawingBufferHeight;var b=t.layersToDraw,x=S(e),C=performance.now();t.view=e,a&&(m.positions||m.all)&&(w.rebuild=!0,w.size=g.getTextureSize(),w.data=g.getData()),0===f.length&&(f.push(_()),f.push(_()),f.push(_()));var M=!1,T=h._showShadowCanvas;O(),u.viewport(0,0,u.drawingBufferWidth,u.drawingBufferHeight),u.clear(u.COLOR_BUFFER_BIT);for(var L=0,P=b.length;L<P;L++){var V=b[L];h.overview&&h.overview.shown&&V.blatOverview&&l?A(l,c,d,f,h,C):(p&&!V.useView||(V.drawFramebuffer&&(M=!0),E(V.drawFramebuffer),I(V,x,n,r,y,c,d,f,h._showShadowCanvas,h,C),R(V)),V.useFramebuffer&&M&&(M=!1,O(),k(V.useFramebuffer,T?1:V.fbAlpha),E(V.useFramebuffer),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT)))}!function(){for(var t=0;t<8;t++)u.activeTexture(u["TEXTURE"+t]),u.bindTexture(u.TEXTURE_2D,null)}()}function A(e,i,o,a,l,c){var d=s.width/(n=s.clientWidth),f=e.width(),h=e.height(),p=S(e);E("overview",f*d,h*d);var g=Se(l.overview.backColour)||[255,255,255,255];g[3]=255;var v=new Uint8Array(g);u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT);for(var m=t.layersToDraw,y=0,b=m.length;y<b;y++){var x=m[y];x.overview&&I(x,p,f,h,d,i,o,a,l._showShadowCanvas,l,c)}E(null);var w=function(t,e,n,r,i){var o,a=1-t/n*2,s=1-e/r*2;switch(i.overview.p){case"ne":o=new Float32Array([a,s,0,0,1,s,1,0,a,1,0,1,a,1,0,1,1,s,1,0,1,1,1,1]);break;case"nw":o=new Float32Array([-1,s,0,0,-a,s,1,0,-1,1,0,1,-1,1,0,1,-a,s,1,0,-a,1,1,1]);break;case"sw":o=new Float32Array([-1,-1,0,0,-a,-1,1,0,-1,-s,0,1,-1,-s,0,1,-a,-1,1,0,-a,-s,1,1]);break;case"se":default:o=new Float32Array([a,-1,0,0,1,-1,1,0,a,-s,0,1,a,-s,0,1,1,-1,1,0,1,-s,1,1])}return o}(f,h,n,r,l);k("overview",1,w,v),k("overview",1,w)}function _(){var t={alphaChannel:!1,img:v,rebuild:!1,size:0,texture:M()};return u.texImage2D(u.TEXTURE_2D,0,u.RGBA,1,1,0,u.RGBA,u.UNSIGNED_BYTE,v),t}function M(){var t=u.createTexture();return u.bindTexture(u.TEXTURE_2D,t),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,!1),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),t}function E(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var r=l[t]||null,i=u.RGBA,o=Math.max(1,e||u.drawingBufferWidth),a=Math.max(1,n||u.drawingBufferHeight),s=Math.min(m,o),c=Math.min(m,a),d=!1;if(!r||r.bufferHeight===n&&r.bufferWidth===e||(y(r),d=!0),t&&(!r||d)){r={framebuffer:u.createFramebuffer(),renderbuffer:u.createRenderbuffer(),texture:M(),bufferHeight:n,bufferWidth:e},l[t]=r,"shadow"===t&&(i=u.RGB),u.texImage2D(u.TEXTURE_2D,0,i,s,c,0,i,u.UNSIGNED_BYTE,null),u.bindFramebuffer(u.FRAMEBUFFER,r.framebuffer),u.bindRenderbuffer(u.RENDERBUFFER,r.renderbuffer),u.clearColor(0,0,0,0),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_COMPONENT16,s,c),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,r.texture,0),u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_ATTACHMENT,u.RENDERBUFFER,r.renderbuffer);var f=u.checkFramebufferStatus(u.FRAMEBUFFER);if(u.FRAMEBUFFER_COMPLETE!==f)throw new Error(f.toString())}(function(t){t?u.bindFramebuffer(u.FRAMEBUFFER,t.framebuffer):O()})(r),u.viewport(0,0,s,c)}function k(t,e,n,r){var i;l[t]&&(i=l[t].texture),p.drawItems(e,i,n,r)}function S(t){return t?{panX:t.offsetXtoWebglPanX(),panY:t.offsetYtoWebglPanY(),zoom:t.getZoomScale()}:{panX:0,panY:0,zoom:1}}function I(t,e,n,r,i,o,a,s,l,u,c){(function(t,e,n,r){g=function(){var t=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),e=1;return{get:function(){return t},getZoomLevel:function(){return e},pan:function(e,n){t[12]+=t[0]*e+t[4]*n,t[13]+=t[1]*e+t[5]*n,t[14]+=t[2]*e+t[6]*n,t[15]+=t[3]*e+t[7]*n},zoom:function(n){e=n,t[0]*=n,t[4]*=n,t[8]*=1,t[1]*=n,t[5]*=n,t[9]*=1,t[2]*=n,t[6]*=n,t[10]*=1,t[3]*=n,t[7]*=n,t[11]*=1}}}(),t?(g.pan(e,n),g.zoom(r)):(g.pan(0,0),g.zoom(1))})(t.useView,e.panX,e.panY,e.zoom),T(t,t.lineBuffers,n,r,i,l,u,c),function(t,e,n,r,i,o,a){d.drawItems(t,g,e,n,r,i,o,a)}(t,n,r,i,l,u,c),function(t,e,n,r,i,o,a,s){f.drawItems(t,e,g,n,r,i,o,a,s)}(t,t.bezierBuffers,n,r,i,l,u,c),L(t,o,a,s,n,r,i,l,u)}function T(t,e,n,r,i,o,a,s){c.drawItems(t,e,g,n,r,i,o,a,s)}function L(t,e,n,r,i,o,s,l,u){h.drawItems(t,g,e,n,r,i,o,s,l,w,a,t.useAbsolutePosition,u)}function O(){u.bindFramebuffer(u.FRAMEBUFFER,null)}function R(t){t.rebuildOptions.colours=!1,t.rebuildOptions.positions=!1,t.rebuildOptions.textures=!1,t.rebuildOptions.shadow=!1,t.rebuildOptions.all=!1}function P(t){t&&t.texture&&(u.deleteTexture(t.texture),t.texture=void 0,t.ctx=void 0,t.img=void 0)}return{finish:function(e){b(),d.finish(),f.finish(),c.finish(),h.finish(),t.imageAtlases.forEach(function(t){P(t)}),t.textAtlas&&x(t.textAtlas.atlases),P(t.fontIconAtlas),t.layersToDraw=[],t.allLayers=new Map,u.flush(),u.finish(),e&&(u.deleteProgram(u.arcShader.program),u.deleteProgram(u.lineShader.program),u.deleteProgram(u.rttShader.program),u.deleteProgram(u.triangleShader.program),Object.keys(t).forEach(function(e){delete t[e]})),u=void 0,t.gl=void 0,c=void 0,d=void 0,f=void 0,h=void 0,p=void 0},isFloatingPointSupported:function(t){return!0!==t&&!!u.getExtension("OES_texture_float")},clearFramebuffers:b,clearTextureAtlas:x,render:C,drawShadowCanvas:function(a,l){r=s.clientHeight;var c=s.width/(n=s.clientWidth);if(i=u.drawingBufferWidth,o=u.drawingBufferHeight,t.layersToDraw.length>0){var d=S(t.view),f=i/s.clientWidth,h=a*f,p=o-l*f;E("shadow"),u.viewport(0,0,u.drawingBufferWidth,u.drawingBufferHeight),u.clear(u.COLOR_BUFFER_BIT);for(var g=0,v=t.layersToDraw.length;g<v;g++)I(t.layersToDraw[g],d,n,r,c,t.textAtlas,t.fontIconAtlas,t.imageAtlases,!0,null,0);h>=0&&p>=0&&h<i&&p<o?u.readPixels(h,p,1,1,u.RGBA,u.UNSIGNED_BYTE,e):e=new Uint8Array([0,0,0,0]),u.clear(u.COLOR_BUFFER_BIT),O()}return e},getPixels:function(t,e,n,r,i,o,a,s,l){O(),u.clearColor(1,1,1,1),C(t,e,n,r,i,o,a,s,l,{all:!0});var c=new Uint8Array(u.drawingBufferWidth*u.drawingBufferHeight*4);return u.readPixels(0,0,u.drawingBufferWidth,u.drawingBufferHeight,u.RGBA,u.UNSIGNED_BYTE,c),c}}}var Wg=8888;function Xg(t,e,n,i,o){var a,s,l=th(ah,!1,i),u=so(),c=t.id,h=t.containerElement,p=void 0!==h,g=t.type;p||(a=t.elementToReplace);var v=!1;function y(t,e,n){var r,i=document.createElement("canvas");return n&&v&&(i.dir="rtl",document.body.appendChild(i),i.style.display="none"),r=o?document.createElement("canvas").getContext("2d"):i.getContext("2d"),i.context2d=r,i.height=e,i.width=t,i}(h||a)&&(v=r(h||a));var b=y(e,n,!0);b.style.display="block";var x=b.context2d;b.setAttribute("id",c);var w=null;o&&lp()&&"chart"===g&&(w=function(t,e,n){var r=null,i=null,o=null,a=null;function s(){r=function(t,e){return{canvas:t,layersToDraw:[],textAtlas:null,fontIconAtlas:null,imageAtlases:[],allLayers:new Map,framebuffers:{},alpha:{background:1,ghost:1},stringSplitter:e,imageList:null}}(t,n),i=function(t,e){for(var n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$\xa31234567890() ",r=new Map,i={},o=0,a=n.length;o<a;o++)i[n[o]]=!0;function s(t,e){for(var n=!1,o=!1,a=0,s=t.length;a<s;a++){var l=t[a];r.get(l)?n=!0:o=!0,i[l]||(i[l]=!0)}n&&(e.imageAtlas=!0),o&&(e.textAtlas=!0)}return{getNonEmojiGlyphs:function(){return Object.keys(i).filter(function(t){return!r.get(t)})},getGlyphsFromText:function(n,i,o,a,l,u,c){var d,f,h=t.unicodeAwareCharacters(n);u&&(h=Xt(h,n).result);var p,g,v,m,y=!1,b={},x=[],w=c.getGlyphInfoForFont(i||o),C=0;for(p=0,g=h.length;p<g;p++)f=d=h[p].text||h[p],r.has(d)||r.set(d,pt(d)),r.get(d)?(m=e.has(d),v=e.getEmojiImage(d)):(a&&(f+="B"),m=!!(v=w[f])),m?x[C++]=v:(b[d]=!0,y=!0);return y&&s(Object.keys(b),l),x}}}(n,e),o=Ng(r,i,e),a=Ug(r),e.resetUpdatedImages()}function l(t){return a.isFloatingPointSupported(t)}return s(),{build:function(t,e,n){var i=function(t,e,n,r){var i,o=n.all;n.all?(i=[],e.layersToDraw.length=0):i=e.layersToDraw.slice();var a={alwaysUpdate:!1,bg:!1,blatOverview:!1,drawFramebuffer:"",fbAlpha:0,id:"",numOfPrimitives:0,overview:!1,primitives:[],shadowType:0,useFramebuffer:"",useView:!1},s=null;return t.forEach(function(t){a.primitives[a.numOfPrimitives++]=t},function(t,o){n.all?(o.bg&&a&&!t.bg&&(a.useFramebuffer=s,s=null),a={id:t.path,blatOverview:t.blatOverview,shadowType:t.shadowType,overview:t.overview,useView:t.useView,alwaysUpdate:t.alwaysUpdate,bg:t.bg,fbAlpha:r.backgroundAlpha,primitives:[],numOfPrimitives:0,drawFramebuffer:"",useFramebuffer:""},t.bg&&(o.bg&&(s="bg"),a.drawFramebuffer=s),i.push(a)):(a=e.allLayers.get(t.path)).numOfPrimitives=0},!o,!1),s&&(a.useFramebuffer=s,s=null),i}(t,r,e,n);o.generate(i,e,n,a)},clearFramebuffers:function(){a.clearFramebuffers()},destroy:function(){a.finish(!0),a=null,o=null,i=null,r=null},draw:function(t,e,n,i,o,s){a.render(t,e,r.textAtlas,r.fontIconAtlas,r.imageAtlases,n,i,o,l(n._rendering.disableFloatTexture),s)},drawShadowCanvas:function(t,e){return a.drawShadowCanvas(t,e)},getPixels:function(t,e,n,i,o){return a.getPixels(t,e,r.textAtlas,r.fontIconAtlas,r.imageAtlases,n,i,o,l(n._rendering.disableFloatTexture))},isFloatingPointSupported:l,setAlpha:function(t,e){r&&(r.alpha.ghost=t,r.alpha.background=e)},shutdownAndReset:function(){a.finish(),s()},updateTextures:function(t){o.updateImageTextures(a,t),e.imagesUpdated()}}}(b,l,u),b.webgl=!0),h?h.appendChild(b):p||(a.style.display="block",a.parentNode.replaceChild(b,a)),b.canvas=!0;var C=b;b.webgl?(x.webgl=!0,x.webglCanvas=b):x.webgl=!1,fn(b,x,o,!!h),function(){if(!Ze.minimumFontChecked){for(var t=y(100,100).context2d,e=!1,n=function(e){return ze(t,e),t.measureText("Hello").width},r=n(1),i=2;!e&&i<30;)(e=r!==n(i))&&Ge(i-1),i++;Ze.minimumFontChecked=!0}}();var A=C.getAttribute("style")||"";C.setAttribute("style",A+="touch-action: none; outline: none;"),C.setAttribute("tabindex",""+Wg++);var _={id:function(){return c},privateGetContainer:function(){return h},privateGetElement:function(){return b},privateGetWebGLRenderer:function(){return w},privateInternalSetSize:function(t,e){"privateMapSetSize"in E.api&&E.api.privateMapSetSize(t,e),C.width=t,C.height=e;var n=h&&E.api.privateUseAutoSizing();fn(C,x,o,!!n),E.api.privateSetSize(x,t,e,!!n)},privateSetContainer:function(t){(h=t)&&(v=r(h))}},M="chart"===g?Qh(0,l,_,w,u):$p(c,l,_),E=M.internal,k=function(t,e){function n(){return arguments[0]===Qg?e:Object.prototype.toString()}return n.toString=function(){return{}.toString.toString()},Object.defineProperty(t,"toString",{value:n,enumerable:!1})}(M.public,E.api);function S(t,e,n){return t-parseFloat(e)-parseFloat(n)}function I(){if(C.parentElement){if(h){var t=h.clientWidth,e=h.clientHeight,n=window.getComputedStyle(h),r=n.paddingTop,i=n.paddingBottom;if(t=S(t,n.paddingLeft,n.paddingRight),e=S(e,r,i),t=Math.max(0,t),e=Math.max(0,e),m(t)&&m(e)){var o=t*devicePixelRatio,a=e*devicePixelRatio;C._currentWidth===o&&C._currentHeight===a||(C._currentWidth=o,C._currentHeight=a,gv(C,t,e))}}try{E.api.update()}finally{s=d(I)}}}return E.api.privateInit(x,e,n,y,function(t){var e=b;"map"in E.api&&E.api.map().isShown()&&(e=E.api.privateGetMapContainer()),e.style.cursor=t},ah,function(){f(s),s=d(I)}),E.api.privateOn("forceRedraw",function(t){E.api.privateFire("redraw",t),E.api.update()}),s=d(I),{element:b,publicApi:k,privateApi:E.api}}var Hg=!1;try{var Kg=Object.defineProperty({},"passive",{get:function(){return Hg=!0,!1}});window.addEventListener("test",Kg,Kg),window.removeEventListener("test",Kg,Kg)}catch(t){Hg=!1}function Jg(t,e,n,r){var i=r||!1;t.addEventListener(e,n,Hg?{capture:i,passive:!1}:i)}var Qg="ggwp",qg={},$g={},tv="",ev="auto";function nv(t){return t&&(ev=t),ev}function rv(t){throw iv(t)}function iv(t){return new Error('Cannot create KeyLines component. No element with id "'+t+'" exists in the DOM')}function ov(t,e){M(e,iv(t))}function av(t){return+t.replace(/px$/,"")}var sv,lv={chart:0,timebar:0};function uv(t){return"object"==typeof t&&null!==t&&("object"==typeof HTMLElement&&t instanceof HTMLElement||1===t.nodeType)}function cv(t){lv[t]++;var e="KeyLines-"+t+"-"+lv[t];return qg[e]||document.getElementById(e)?cv(t):e}function dv(t,e,n,r){!function(t){t in qg&&delete qg[t]}(t.id);var i=e||100,o=n||100;if("canvas"!==ev&&"chart"===t.type&&lp())try{pv(t,i,o,!0,r)}catch(e){op=!0,pv(t,i,o,!1,r)}else hv()?pv(t,i,o,!1,r):r("Could not create HTML5 canvas.")}function fv(t){return t&&(tv=t),tv}function hv(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))}function pv(t,e,n,r,i){var o=t.id;try{var a=Xg(t,e,n,tv,r);qg[o]=a.publicApi,$g[o]=a.privateApi,a.privateApi.privateSetRemoveComponentReference(function(){delete qg[o],delete $g[o]})}catch(t){if(i)return void i(t)}qg[o].webgl=r,qg[o].canvas=!0,i&&i(null,qg[o])}function gv(t,e,n){if(!m(e)||!m(n))throw new Error("KeyLines.setSize: Invalid width or height value passed. Both parameters should be numbers.");var r=$g[t.id];if(r){r.privateCanvasApi.privateInternalSetSize(e,n);var i=r.privateCanvasApi.privateGetWebGLRenderer();i&&i.clearFramebuffers()}}function vv(t){return t&&t.images&&fv(t.images),{images:tv}}function mv(){return function(t){for(var e=O,n=0;n<t.length;n++)if(e(document[t[n]]))return!!document[t[n]];return!1}(["webkitIsFullScreen","mozFullScreen","msFullscreenElement","fullScreenElement"])}function yv(t,e){for(var n,r=0;!n&&r<e.length;r++)t[e[r]]&&(n=!0,t[e[r]]())}"undefined"!=typeof document&&function(t,e){for(var n=0;n<t.length;n++)Jg(document,t[n],e)}(["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"],function(){sv&&requestAnimationFrame(function(){sv(mv())})});var bv,xv,wv="undefined"!=typeof window?window:global,Cv="",Av=!1,_v=["create"],Mv=["arrange","createLink","filter","foreground","range","animateProperties","expand","export","hide","layout","load","merge","options","pan","ping","setItem","setProperties","show","toDataURL","viewOptions","zoom"],Ev=["combo","getGraphEngine","graph","map"],kv=["arrange","betweenness","close","closeness","combine","hide","transfer","open","options","show","uncombine"];function Sv(t,e,n){return e.forEach(function(e){t[e]&&(t[e+Cv]=Iv(t[e],e,"create"===e))}),n&&n.forEach(function(e){t[e]&&(t[e+Cv]=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(void 0,n),o={},a=N(e);return Object.keys(i).forEach(function(t){t in a?o[t+Cv]=Iv(i[t],t):o[t]=i[t]}),o}}(t[e],kv))}),t}function Iv(t,e,n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=Math.max(0,t.length-1);return Tv(e,r)?t.apply(void 0,r):new bv(function(e,i){r.length===t.length&&x(r[o])&&(r.pop(),g("A callback has been passed, but the function will return a Promise instead")),r[o]=n?function(t,n){if(t)return i(t);var r=Array.isArray(n),o=(r?n:[n]).map(function(t){return Sv(t,Mv,Ev)});return e(r?o:o[0])}:e,t.apply(void 0,r)})}}function Tv(t,e){return!(!/options$/i.test(t)||!V(e[0]))||"range"===t&&!e.length}var Lv={charts:qg,createChart:function(){for(var t,e,n,r,i,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];switch(o.length){case 0:throw new Error("createChart called with zero arguments");case 1:case 2:if(t=o[0],r=o[1],!(i=document.getElementById(t)))return void ov(t,r);e=i.clientWidth,n=i.clientHeight;break;default:if(t=o[0],e=+o[1],n=+o[2],r=o[3],!(i=document.getElementById(t)))return void ov(t,r)}dv({id:t,type:"chart",options:void 0,elementToReplace:i,containerElement:void 0},e,n,r)},imageBasePath:fv,setCanvasPaths:function(){},promisify:function(t,e){return function(t,e,n){if(Av||(xv=bv=wv.Promise),n&&(Cv=n),null==xv&&!bv&&!t)throw Error("[promisify] There's no valid Promise constructor available. It is not possible to promisify.");if(!function(t){var e=t||bv,n=void 0!==e&&"resolve"in e&&"reject"in e;try{new e(function(t){n=n&&"function"==typeof t})}catch(t){throw new Error("You must pass a valid promise constructor")}return n}(t))throw Error("[promisify] Promise constructor not valid. Please use a valid Promise implementation.");bv=t||xv,Av||(Sv(e,_v,Ev),z(e.components||{}).forEach(function(t){Sv(t,Mv,Ev)})),Av=!0}(t,this,e)},components:qg,coords:function(t){return function(t,e){return function(t,e){var n=function(t){var e={top:0,left:0};return t&&(e=t.getBoundingClientRect()),{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}}(e);return{x:Math.floor(t.pageX-n.left),y:Math.floor(t.pageY-n.top)}}(t,e)}(t,document.getElementById(t.target.id))},create:function(t,e){var n=S(t),r=n.every(function(t){return function(t){return V(t)||"chart"===t||"timebar"===t}(t.type)});n.length<1?M(e,Error("No definition passed to KeyLines.create")):r?function t(n,r,i){var o;try{o=function(t){var e,n=t.type?t.type:"chart",r=void 0!==t.container,i="string"==typeof t&&t||t.id||!r&&t.element&&t.element.id||cv(n);if(r){if(qg[i])throw new Error("Component with id: "+i+" already exists");var o=t.container;if("string"==typeof o){if(!(e=document.getElementById(o)))throw new Error("Container not found, "+t.container)}else{if(null!==o&&!o.parentNode)throw new Error("Container not found, "+t.container);e=o}}if(!r){if(uv(t.element)&&t.id)throw new Error("Cannot pass a DOM element and an id to create, please pass only one.");if(t.element&&!uv(t.element))throw new Error("You must pass a DOM element to the components element property.")}var a={id:i,type:n,options:t.options,containerElement:e,elementToReplace:null};return uv(t)?(a.type=n="chart",a.elementToReplace=t,a.elementToReplace.id=i):uv(t.element)&&(a.elementToReplace=t.element,a.elementToReplace.id=i),a.elementToReplace&&!a.elementToReplace.parentNode&&rv(),a.elementToReplace||r||(a.elementToReplace=document.getElementById(i),a.elementToReplace||rv(i)),a}(n[r])}catch(n){return void M(e,n)}!function(t,e){var n,r,i=t.containerElement||t.elementToReplace,o=t.options;function a(t){e&&d(function(){e(null,t)})}i&&(n=i.clientWidth||av(i.style.width),r=i.clientHeight||av(i.style.height)),dv(t,n,r,function(n,r){n?M(e,n):o?r.options(t.options,function(){a(r)}):a(r)})}(o,function(o,a){if(o)M(e,o);else{i.push(a);var s=r+1;s>=n.length?e&&e(null,1===i.length?i[0]:i):t(n,s,i)}})}(n,0,[]):M(e,Error("The type of component passed to KeyLines.create is not valid"))},dashedLineSupport:function(){if(hv()){var t=document.createElement("canvas").getContext("2d");return!!t.setLineDash||!!t.mozDash||!!t.webkitLineDash}return!1},fullScreenCapable:function(){var t=O;return!!t(document.webkitCurrentFullScreenElement)||!!t(document.mozFullScreenElement)||!!t(document.msFullscreenEnabled)&&document.msFullscreenEnabled},getFontIcon:function(t,e){if("number"==typeof t&&E(t))return t;var n=en();e?document.getElementById(e).appendChild(n):document.body.appendChild(n);var r=t.replace(/\./g,"");n.className!==r&&(n.className=r);var i=window.getComputedStyle(n,":before").getPropertyValue("content");return n.parentNode&&n.parentNode.removeChild(n),n.className="",i.charCodeAt(1)||i.charCodeAt(0)},getGraphEngine:function(t){var e=An(),r=ec(Ih(),e),i=T(t,{selfLinks:!1}),o=go({numbers:{x:!0,y:!0},strings:{id:!0,id1:!0,id2:!0},booleans:{hi:!0,a1:!0,a2:!0}}),s={load:function(t){return function(e){var r=a(e);o.typeCheck(r);var s=o.filterNodesAndLinks(r.items,{},{},{selfLinks:i.selfLinks,filterComboNodes:!0});o.ensureHiddenItemConsistency(s.nodes,s.links),n(s.nodes,function(t){delete t.parentId}),n(s.links,function(t){delete t.parentId}),t.privateSetProperties(s.nodes,s.links)}}(r),clear:function(t){return function(){var e={};t.privateSetProperties(e,e)}}(r)};return un(un({},r),s)},mode:nv,info:function(){var t={account:"Licensed to IHS Markit for TBD expires on Wed Mar 31 2021",eventErrors:{},isUsingWebGL:{},mode:nv(),options:{},paths:a(vv()),version:"KeyLines v6.3.0-60626 eval"};return Object.keys(qg).forEach(function(e){var n,r,i=qg[e],o=i.toString(Qg);t.eventErrors[e]=null!=(r=null===(n=o)||void 0===n?void 0:n.getErrors())?r:[],t.isUsingWebGL[e]=!!i.webgl,t.options[e]=i.options()}),"undefined"!=typeof navigator&&(t.platform=navigator.platform,t.userAgent=navigator.userAgent),"undefined"!=typeof window&&(t.url=document.location.href,t.webgl=function(){var t={},e=tp({failIfMajorPerformanceCaveat:!1});if(e){t.version=e.getParameter(e.VERSION);var n=e.getExtension("WEBGL_debug_renderer_info");n&&(t.vendor=e.getParameter(n.UNMASKED_VENDOR_WEBGL),t.renderer=e.getParameter(n.UNMASKED_RENDERER_WEBGL))}return t}()),t},paths:vv,setSize:function(t,e,n){var r=uv(t)?t:document.getElementById(t);if(!r)throw new Error("You must pass a valid id or DOM element.");var i=Math.round(e),o=Math.round(n);if(!(i<=0||o<=0)){var a=$g[r.id];if(a){if(void 0!==a.privateCanvasApi.privateGetContainer())throw new Error("KeyLines.setSize cannot be used on components created with the container property, the component will automatically resize to fill its container.");gv(r,e,n)}else r.style.width=e+"px",r.style.height=n+"px"}},toggleFullScreen:function(t,e){sv=e,mv()&&function(t){var e=O;return e(document.webkitCurrentFullScreenElement)?document.webkitCurrentFullScreenElement===t:e(document.mozFullScreenElement)?document.mozFullScreenElement===t:!!e(document.msFullscreenElement)&&document.msFullscreenElement===t}(t)?yv(document,["cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","msExitFullscreen"]):function(t){yv(t,["requestFullScreen","mozRequestFullScreen","webkitRequestFullScreen","msRequestFullscreen"])}(t)},webGLSupport:lp,Rendering:{mainChannel:function(){return"LTMxLC02NCwtNTgsLTYwLDgsLTY4LC02OSwtNjIsLTU3LC02NywtNjcsMTksNDIsMTcsNzgsLTM3LC00NiwtNDE="}}};return"undefined"!=typeof window&&(window.KeyLines=Lv),"undefined"!=typeof global&&(global.KeyLines=Lv),Lv}()},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function a(t){setTimeout(()=>{throw t},0)}const s={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;a(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function u(t){return null!==t&&"object"==typeof t}const c=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let d=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:i,_unsubscribe:o,_subscriptions:a}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(s){e=s instanceof c?f(s.errors):[s]}}if(l(a)){let t=-1,n=a.length;for(;++t<n;){const n=a[t];if(u(n))try{n.unsubscribe()}catch(s){e=e||[],s instanceof c?e=e.concat(f(s.errors)):e.push(s)}}}if(e)throw new c(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof c?e.errors:e),[])}const h=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends d{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s;break;case 1:if(!t){this.destination=s;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[h](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let a=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==s&&(a=Object.create(e),r(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):a(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;a(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(a(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const v=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function m(t){return t}let y=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[h])return t[h]()}return t||e||n?new p(t,e,n):new p(s)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[v](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?m:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const x=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class w extends d{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class C extends p{constructor(t){super(t),this.destination=t}}let A=(()=>{class t extends y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[h](){return new C(this)}lift(t){const e=new _(this,this);return e.operator=t,e}next(t){if(this.closed)throw new x;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new x;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new x;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new x;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new x;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new y;return t.source=this,t}}return t.create=(t,e)=>new _(t,e),t})();class _ extends A{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):d.EMPTY}}function M(t){return t&&"function"==typeof t.schedule}function E(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new k(t,e))}}class k{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new S(t,this.project,this.thisArg))}}class S extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const I=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const L=T(),O=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function R(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const P=t=>{if(t&&"function"==typeof t[v])return r=t,t=>{const e=r[v]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(O(t))return I(t);if(R(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,a),t);if(t&&"function"==typeof t[L])return e=t,t=>{const n=e[L]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,r};function V(t,e){return new y(n=>{const r=new d;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function F(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[v]}(t))return function(t,e){return new y(n=>{const r=new d;return r.add(e.schedule(()=>{const i=t[v]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(R(t))return function(t,e){return new y(n=>{const r=new d;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(O(t))return V(t,e);if(function(t){return t&&"function"==typeof t[L]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new y(n=>{const r=new d;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[L](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof y?t:new y(P(t))}class D extends p{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class B extends p{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function Z(t,e){if(!e.closed)return t instanceof y?t.subscribe(e):P(t)(e)}function G(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(G((n,r)=>F(t(n,r)).pipe(E((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new z(t,n)))}class z{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new j(t,this.project,this.concurrent))}}class j extends B{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new D(this),n=this.destination;n.add(e);const r=Z(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Y(t=Number.POSITIVE_INFINITY){return G(m,t)}function N(t,e){return e?V(t,e):new y(I(t))}function U(){return function(t){return t.lift(new W(t))}}class W{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new X(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class X extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class H extends y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new d,t.add(this.source.subscribe(new J(this.getSubject(),this))),t.closed&&(this._connection=null,t=d.EMPTY)),t}refCount(){return U()(this)}}const K=(()=>{const t=H.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class J extends C{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Q(){return new A}function q(t){for(let e in t)if(t[e]===q)return e;throw Error("Could not find renamed property on target object.")}function $(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function tt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(tt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function et(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const nt=q({__forward_ref__:q});function rt(t){return t.__forward_ref__=rt,t.toString=function(){return tt(this())},t}function it(t){return ot(t)?t():t}function ot(t){return"function"==typeof t&&t.hasOwnProperty(nt)&&t.__forward_ref__===rt}function at(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function st(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function lt(t){return ut(t,dt)||ut(t,ht)}function ut(t,e){return t.hasOwnProperty(e)?t[e]:null}function ct(t){return t&&(t.hasOwnProperty(ft)||t.hasOwnProperty(pt))?t[ft]:null}const dt=q({"\u0275prov":q}),ft=q({"\u0275inj":q}),ht=q({ngInjectableDef:q}),pt=q({ngInjectorDef:q});var gt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let vt;function mt(t){const e=vt;return vt=t,e}function yt(t,e,n){const r=lt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&gt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${tt(t)}]`)}function bt(t){return{toString:t}.toString()}var xt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),wt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Ct="undefined"!=typeof globalThis&&globalThis,At="undefined"!=typeof window&&window,_t="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Mt="undefined"!=typeof global&&global,Et=Ct||Mt||At||_t,kt={},St=[],It=q({"\u0275cmp":q}),Tt=q({"\u0275dir":q}),Lt=q({"\u0275pipe":q}),Ot=q({"\u0275mod":q}),Rt=q({"\u0275loc":q}),Pt=q({"\u0275fac":q}),Vt=q({__NG_ELEMENT_ID__:q});let Ft=0;function Dt(t){return bt(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===xt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||St,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||wt.Emulated,id:"c",styles:t.styles||St,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Ft++,n.inputs=jt(t.inputs,e),n.outputs=jt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Bt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Zt):null,n})}function Bt(t){return Ut(t)||function(t){return t[Tt]||null}(t)}function Zt(t){return function(t){return t[Lt]||null}(t)}const Gt={};function zt(t){const e={type:t.type,bootstrap:t.bootstrap||St,declarations:t.declarations||St,imports:t.imports||St,exports:t.exports||St,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&bt(()=>{Gt[t.id]=t.type}),e}function jt(t,e){if(null==t)return kt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Yt=Dt;function Nt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ut(t){return t[It]||null}function Wt(t,e){const n=t[Ot]||null;if(!n&&!0===e)throw new Error(`Type ${tt(t)} does not have '\u0275mod' property.`);return n}const Xt=20,Ht=10;function Kt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Jt(t){return Array.isArray(t)&&!0===t[1]}function Qt(t){return 0!=(8&t.flags)}function qt(t){return 2==(2&t.flags)}function $t(t){return 1==(1&t.flags)}function te(t){return null!==t.template}function ee(t,e){return t.hasOwnProperty(Pt)?t[Pt]:null}class ne extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function re(t){return"string"==typeof t?t:null==t?"":String(t)}function ie(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():re(t)}function oe(t,e){const n=e?" in "+e:"";throw new ne("201",`No provider for ${ie(t)} found${n}`)}class ae{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function se(){return le}function le(t){return t.type.prototype.ngOnChanges&&(t.setInput=ce),ue}function ue(){const t=de(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===kt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function ce(t,e,n,r){const i=de(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:kt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],l=a[s];o[s]=new ae(l&&l.currentValue,e,a===kt),t[r]=e}function de(t){return t.__ngSimpleChanges__||null}se.ngInherit=!0;let fe=void 0;function he(t){return!!t.listen}const pe={createRenderer:(t,e)=>void 0!==fe?fe:"undefined"!=typeof document?document:void 0};function ge(t){for(;Array.isArray(t);)t=t[0];return t}function ve(t,e){return ge(e[t])}function me(t,e){return ge(e[t.index])}function ye(t,e){return t.data[e]}function be(t,e){const n=e[t];return Kt(n)?n:n[0]}function xe(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function we(t){return 128==(128&t[2])}function Ce(t,e){return null==e?null:t[e]}function Ae(t){t[18]=0}function _e(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Me={lFrame:We(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ee(){return Me.bindingsEnabled}function ke(){return Me.lFrame.lView}function Se(){return Me.lFrame.tView}function Ie(t){Me.lFrame.contextLView=t}function Te(){let t=Le();for(;null!==t&&64===t.type;)t=t.parent;return t}function Le(){return Me.lFrame.currentTNode}function Oe(t,e){const n=Me.lFrame;n.currentTNode=t,n.isParent=e}function Re(){return Me.lFrame.isParent}function Pe(){Me.lFrame.isParent=!1}function Ve(){return Me.isInCheckNoChangesMode}function Fe(t){Me.isInCheckNoChangesMode=t}function De(){const t=Me.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Be(){return Me.lFrame.bindingIndex++}function Ze(t,e){const n=Me.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ge(e)}function Ge(t){Me.lFrame.currentDirectiveIndex=t}function ze(t){Me.lFrame.currentQueryIndex=t}function je(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ye(t,e,n){if(n&gt.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&gt.Host||(r=je(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Me.lFrame=Ue();return r.currentTNode=e,r.lView=t,!0}function Ne(t){const e=Ue(),n=t[1];Me.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ue(){const t=Me.lFrame,e=null===t?null:t.child;return null===e?We(t):e}function We(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Xe(){const t=Me.lFrame;return Me.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const He=Xe;function Ke(){const t=Xe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Je(){return Me.lFrame.selectedIndex}function Qe(t){Me.lFrame.selectedIndex=t}function qe(){const t=Me.lFrame;return ye(t.tView,t.selectedIndex)}function $e(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:a,ngOnDestroy:s}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),a&&((t.viewHooks||(t.viewHooks=[])).push(n,a),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,a)),null!=s&&(t.destroyHooks||(t.destroyHooks=[])).push(n,s)}}function tn(t,e,n){rn(t,e,3,n)}function en(t,e,n,r){(3&t[2])===n&&rn(t,e,n,r)}function nn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function rn(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let a=0;for(let s=void 0!==r?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=r&&a>=r)break}else e[s]<0&&(t[18]+=65536),(a<i||-1==i)&&(on(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function on(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}const an=-1;class sn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function ln(t,e,n){const r=he(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const a=n[i++],s=n[i++],l=n[i++];r?t.setAttribute(e,s,l,a):e.setAttributeNS(a,s,l)}else{const a=o,s=n[++i];cn(a)?r&&t.setProperty(e,a,s):r?t.setAttribute(e,a,s):e.setAttribute(a,s),i++}}return i}function un(t){return 3===t||4===t||6===t}function cn(t){return 64===t.charCodeAt(0)}function dn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||fn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function fn(t,e,n,r,i){let o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){a=-1;break}if(n>e){a=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function hn(t){return t!==an}function pn(t){return 32767&t}function gn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let vn=!0;function mn(t){const e=vn;return vn=t,e}let yn=0;function bn(t,e){const n=wn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,xn(r.data,t),xn(e,null),xn(r.blueprint,null));const i=Cn(t,e),o=t.injectorIndex;if(hn(i)){const t=pn(i),n=gn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function xn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Cn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return an;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return an}function An(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Vt)&&(r=n[Vt]),null==r&&(r=n[Vt]=yn++);const i=255&r,o=1<<i,a=64&i,s=32&i,l=e.data;128&i?a?s?l[t+7]|=o:l[t+6]|=o:s?l[t+5]|=o:l[t+4]|=o:a?s?l[t+3]|=o:l[t+2]|=o:s?l[t+1]|=o:l[t]|=o}(t,e,n)}function _n(t,e,n){if(n&gt.Optional)return t;oe(e,"NodeInjector")}function Mn(t,e,n,r){if(n&gt.Optional&&void 0===r&&(r=null),0==(n&(gt.Self|gt.Host))){const i=t[9],o=mt(void 0);try{return i?i.get(e,r,n&gt.Optional):yt(e,r,n&gt.Optional)}finally{mt(o)}}return _n(r,e,n)}function En(t,e,n,r=gt.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Vt)?t[Vt]:void 0;return"number"==typeof e?e>=0?255&e:Sn:e}(n);if("function"==typeof o){if(!Ye(e,t,r))return r&gt.Host?_n(i,n,r):Mn(e,n,r,i);try{const t=o();if(null!=t||r&gt.Optional)return t;oe(n)}finally{He()}}else if("number"==typeof o){let i=null,a=wn(t,e),s=an,l=r&gt.Host?e[16][6]:null;for((-1===a||r&gt.SkipSelf)&&(s=-1===a?Cn(t,e):e[a+8],s!==an&&On(r,!1)?(i=e[1],a=pn(s),e=gn(s,e)):a=-1);-1!==a;){const t=e[1];if(Ln(o,a,t.data)){const t=In(a,e,n,i,r,l);if(t!==kn)return t}s=e[a+8],s!==an&&On(r,e[1].data[a+8]===l)&&Ln(o,a,e)?(i=t,a=pn(s),e=gn(s,e)):a=-1}}}return Mn(e,n,r,i)}const kn={};function Sn(){return new Rn(Te(),ke())}function In(t,e,n,r,i,o){const a=e[1],s=a.data[t+8],l=function(t,e,n,r,i){const o=t.providerIndexes,a=e.data,s=1048575&o,l=t.directiveStart,u=o>>20,c=i?s+u:t.directiveEnd;for(let d=r?s:s+u;d<c;d++){const t=a[d];if(d<l&&n===t||d>=l&&t.type===n)return d}if(i){const t=a[l];if(t&&te(t)&&t.type===n)return l}return null}(s,a,n,null==r?qt(s)&&vn:r!=a&&0!=(3&s.type),i&gt.Host&&o===s);return null!==l?Tn(e,a,l,s):kn}function Tn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof sn){const a=i;a.resolving&&function(t,e){throw new ne("200","Circular dependency in DI detected for "+t)}(ie(o[n]));const s=mn(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?mt(a.injectImpl):null;Ye(t,r,gt.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=le(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==l&&mt(l),mn(s),a.resolving=!1,He()}}return i}function Ln(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function On(t,e){return!(t&gt.Self||t&gt.Host&&e)}class Rn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return En(this._tNode,this._lView,t,void 0,e)}}function Pn(t){const e=t;if(ot(t))return()=>{const t=Pn(it(e));return t?t():null};let n=ee(e);if(null===n){const t=ct(e);n=t&&t.factory}return n||null}function Vn(t){return bt(()=>{const e=t.prototype.constructor,n=e[Pt]||Pn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Pt]||Pn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}const Fn="__parameters__";function Dn(t,e,n){return bt(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Fn)?t[Fn]:Object.defineProperty(t,Fn,{value:[]})[Fn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Bn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=at({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Zn=new Bn("AnalyzeForEntryComponents"),Gn=Function;function zn(t,e){t.forEach(t=>Array.isArray(t)?zn(t,e):e(t))}function jn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Yn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Nn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Un(t,e,n){let r=Xn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Wn(t,e){const n=Xn(t,e);if(n>=0)return t[1|n]}function Xn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Hn=Dn("Inject",t=>({token:t})),Kn=Dn("Optional"),Jn=Dn("Self"),Qn=Dn("SkipSelf"),qn=Dn("Host"),$n={},tr=/\n/gm,er="__source",nr=q({provide:String,useValue:q});let rr=void 0;function ir(t){const e=rr;return rr=t,e}function or(t,e=gt.Default){if(void 0===rr)throw new Error("inject() must be called from an injection context");return null===rr?yt(t,void 0,e):rr.get(t,e&gt.Optional?null:void 0,e)}function ar(t,e=gt.Default){return(vt||or)(it(t),e)}function sr(t){const e=[];for(let n=0;n<t.length;n++){const r=it(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=gt.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof Kn||"Optional"===i.ngMetadataName||i===Kn?n|=gt.Optional:i instanceof Qn||"SkipSelf"===i.ngMetadataName||i===Qn?n|=gt.SkipSelf:i instanceof Jn||"Self"===i.ngMetadataName||i===Jn?n|=gt.Self:i instanceof qn||"Host"===i.ngMetadataName||i===qn?n|=gt.Host:t=i instanceof Hn||i===Hn?i.token:i}e.push(ar(t,n))}else e.push(ar(r))}return e}class lr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}function ur(t){return t instanceof lr?t.changingThisBreaksApplicationSecurity:t}const cr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,dr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var fr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function hr(t){const e=function(){const t=ke();return t&&t[12]}();return e?e.sanitize(fr.URL,t)||"":function(t,e){const n=function(t){return t instanceof lr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?ur(t):(n=re(t),(n=String(n)).match(cr)||n.match(dr)?n:"unsafe:"+n);var n}function pr(t){return t.ngDebugContext}function gr(t){return t.ngOriginalError}function vr(t,...e){t.error(...e)}class mr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||vr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?pr(t)?pr(t):this._findContext(gr(t)):null}_findOriginalError(t){let e=gr(t);for(;e&&gr(e);)e=gr(e);return e}}function yr(t,e){t.__ngContext__=e}const br=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Et))();function xr(t){return t instanceof Function?t():t}var wr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Cr(t,e){return(void 0)(t,e)}function Ar(t){const e=t[3];return Jt(e)?e[3]:e}function _r(t){return Er(t[13])}function Mr(t){return Er(t[4])}function Er(t){for(;null!==t&&!Jt(t);)t=t[4];return t}function kr(t,e,n,r,i){if(null!=r){let o,a=!1;Jt(r)?o=r:Kt(r)&&(a=!0,r=r[0]);const s=ge(r);0===t&&null!==n?null==i?Vr(e,n,s):Pr(e,n,s,i||null,!0):1===t&&null!==n?Pr(e,n,s,i||null,!0):2===t?function(t,e,n){const r=Dr(t,e);r&&function(t,e,n,r){he(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){const o=n[7];o!==ge(n)&&kr(e,t,r,o,i);for(let a=Ht;a<n.length;a++){const i=n[a];Nr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Sr(t,e,n){return he(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ir(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,_e(i,-1)),n.splice(r,1)}function Tr(t,e){if(t.length<=Ht)return;const n=Ht+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Ir(o,r),e>0&&(t[n-1][4]=r[4]);const a=Yn(t,Ht+e);Nr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const s=a[19];null!==s&&s.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Lr(t,e){if(!(256&e[2])){const n=e[11];he(n)&&n.destroyNode&&Nr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Or(t[1],t);for(;e;){let n=null;if(Kt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Kt(e)&&Or(e[1],e),e=e[3];null===e&&(e=t),Kt(e)&&Or(e[1],e),n=e&&e[4]}e=n}}(e)}}function Or(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof sn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],a="function"==typeof t?t(e):ge(e[t]),s=r[i=n[o+2]],l=n[o+3];"boolean"==typeof l?a.removeEventListener(n[o],s,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&he(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Jt(e[3])){n!==e[3]&&Ir(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Rr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===wt.None||e===wt.Emulated)return null}return me(r,n)}(t,e.parent,n)}function Pr(t,e,n,r,i){he(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Vr(t,e,n){he(t)?t.appendChild(e,n):e.appendChild(n)}function Fr(t,e,n,r,i){null!==r?Pr(t,e,n,r,i):Vr(t,e,n)}function Dr(t,e){return he(t)?t.parentNode(e):e.parentNode}function Br(t,e,n){return Zr(t,e,n)}let Zr=function(t,e,n){return 40&t.type?me(t,n):null};function Gr(t,e,n,r){const i=Rr(t,r,e),o=e[11],a=Br(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let s=0;s<n.length;s++)Fr(o,i,n[s],a,!1);else Fr(o,i,n,a,!1)}function zr(t,e){if(null!==e){const n=e.type;if(3&n)return me(e,t);if(4&n)return jr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return zr(t,n);{const n=t[e.index];return Jt(n)?jr(-1,n):ge(n)}}if(32&n)return Cr(e,t)()||ge(t[e.index]);{const n=t[16],r=n[6],i=Ar(n),o=r.projection[e.projection];return null!=o?zr(i,o):zr(t,e.next)}}return null}function jr(t,e){const n=Ht+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return zr(t,r)}return e[7]}function Yr(t,e,n,r,i,o,a){for(;null!=n;){const s=r[n.index],l=n.type;if(a&&0===e&&(s&&yr(ge(s),r),n.flags|=4),64!=(64&n.flags))if(8&l)Yr(t,e,n.child,r,i,o,!1),kr(e,t,i,s,o);else if(32&l){const a=Cr(n,r);let l;for(;l=a();)kr(e,t,i,l,o);kr(e,t,i,s,o)}else 16&l?Ur(t,e,r,n,i,o):kr(e,t,i,s,o);n=a?n.projectionNext:n.next}}function Nr(t,e,n,r,i,o){Yr(n,r,t.firstChild,e,i,o,!1)}function Ur(t,e,n,r,i,o){const a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(let l=0;l<s.length;l++)kr(e,t,i,s[l],o);else Yr(t,e,s,a[3],i,o,!0)}function Wr(t,e,n){he(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Xr(t,e,n){he(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Hr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Kr="ng-template";function Jr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Hr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Qr(t){return 4===t.type&&t.value!==Kr}function qr(t,e,n){return e===(4!==t.type||n?t.value:Kr)}function $r(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(un(t[e]))return e;return t.length}(i);let a=!1;for(let s=0;s<e.length;s++){const l=e[s];if("number"!=typeof l){if(!a)if(4&r){if(r=2|1&r,""!==l&&!qr(t,l,n)||""===l&&1===e.length){if(ti(r))return!1;a=!0}}else{const u=8&r?l:e[++s];if(8&r&&null!==t.attrs){if(!Jr(t.attrs,u,n)){if(ti(r))return!1;a=!0}continue}const c=ei(8&r?"class":l,i,Qr(t),n);if(-1===c){if(ti(r))return!1;a=!0;continue}if(""!==u){let t;t=c>o?"":i[c+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Hr(e,u,0)||2&r&&u!==t){if(ti(r))return!1;a=!0}}}}else{if(!a&&!ti(r)&&!ti(l))return!1;if(a&&ti(l))continue;a=!1,r=l|1&r}}return ti(r)||a}function ti(t){return 0==(1&t)}function ei(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ni(t,e,n=!1){for(let r=0;r<e.length;r++)if($r(t,e[r],n))return!0;return!1}function ri(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ii(t,e){return t?":not("+e.trim()+")":e}function oi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let a=t[n];if("string"==typeof a)if(2&r){const e=t[++n];i+="["+a+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||ti(a)||(e+=ii(o,i),i=""),r=a,o=o||!ti(r);n++}return""!==i&&(e+=ii(o,i)),e}const ai={};function si(t){li(Se(),ke(),Je()+t,Ve())}function li(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&tn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&en(e,r,0,n)}Qe(n)}function ui(t,e){return t<<17|e<<2}function ci(t){return t>>17&32767}function di(t){return 2|t}function fi(t){return(131068&t)>>2}function hi(t,e){return-131069&t|e<<2}function pi(t){return 1|t}function gi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ze(i),n.contentQueries(2,e[o],o)}}}function vi(t,e,n,r,i,o,a,s,l,u){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,Ae(c),c[3]=c[15]=t,c[8]=n,c[10]=a||t&&t[10],c[11]=s||t&&t[11],c[12]=l||t&&t[12]||null,c[9]=u||t&&t[9]||null,c[6]=o,c[16]=2==e.type?t[16]:c,c}function mi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Le(),a=Re(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}(t,e,n,r,i),Me.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Me.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Oe(o,!0),o}function yi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function bi(t,e,n){Ne(e);try{const r=t.viewQuery;null!==r&&Hi(1,r,n);const i=t.template;null!==i&&Ci(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gi(t,e),t.staticViewQueries&&Hi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Yi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Ke()}}function xi(t,e,n,r){const i=e[2];if(256==(256&i))return;Ne(e);const o=Ve();try{Ae(e),Me.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ci(t,e,n,2,r);const a=3==(3&i);if(!o)if(a){const n=t.preOrderCheckHooks;null!==n&&tn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&en(e,n,0,null),nn(e,0)}if(function(t){for(let e=_r(t);null!==e;e=Mr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&_e(r,1),n[2]|=1024}}}(e),function(t){for(let e=_r(t);null!==e;e=Mr(e))for(let t=Ht;t<e.length;t++){const n=e[t],r=n[1];we(n)&&xi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&gi(t,e),!o)if(a){const n=t.contentCheckHooks;null!==n&&tn(e,n)}else{const n=t.contentHooks;null!==n&&en(e,n,1),nn(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Qe(~r);else{const i=r,o=n[++t],a=n[++t];Ze(o,i),a(2,e[i])}}}finally{Qe(-1)}}(t,e);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)zi(t,e[n])}(e,s);const l=t.viewQuery;if(null!==l&&Hi(2,l,r),!o)if(a){const n=t.viewCheckHooks;null!==n&&tn(e,n)}else{const n=t.viewHooks;null!==n&&en(e,n,2),nn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,_e(e[3],-1))}finally{Ke()}}function wi(t,e,n,r){const i=e[10],o=!Ve(),a=4==(4&e[2]);try{o&&!a&&i.begin&&i.begin(),a&&bi(t,e,r),xi(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Ci(t,e,n,r,i){const o=Je();try{Qe(-1),2&r&&e.length>Xt&&li(t,e,Xt,Ve()),n(r,i)}finally{Qe(o)}}function Ai(t,e,n){if(Qt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function _i(t,e,n){Ee()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||bn(n,e),yr(r,e);const a=n.initialInputs;for(let s=i;s<o;s++){const r=t.data[s],o=te(r);o&&Di(e,n,r);const l=Tn(e,t,s,n);yr(l,e),null!==a&&Bi(0,s-i,l,r,0,a),o&&(be(n.index,e)[8]=l)}}(t,e,n,me(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Me.lFrame.currentDirectiveIndex;try{Qe(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Ge(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Oi(r,i)}}finally{Qe(-1),Ge(a)}}(t,e,n))}function Mi(t,e,n=me){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}}function Ei(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ki(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ki(t,e,n,r,i,o,a,s,l,u){const c=Xt+r,d=c+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ai);return n}(c,d),h="function"==typeof u?u():u;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:e,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1}}function Si(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ii(t,e,n,r,i,o,a,s){const l=me(e,n);let u,c=e.inputs;var d;!s&&null!=c&&(u=c[r])?($i(t,n,u,r,i),qt(e)&&function(t,e){const n=be(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(d=r)?"className":"for"===d?"htmlFor":"formaction"===d?"formAction":"innerHtml"===d?"innerHTML":"readonly"===d?"readOnly":"tabindex"===d?"tabIndex":d,i=null!=a?a(i,e.value||"",r):i,he(o)?o.setProperty(l,r,i):cn(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Ti(t,e,n,r){let i=!1;if(Ee()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const a=r[o];ni(n,a.selectors,!1)&&(i||(i=[]),An(bn(n,e),t,a.type),te(a)?(Ri(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){i=!0,Vi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,s=!1,l=yi(t,e,o.length,null);for(let i=0;i<o.length;i++){const u=o[i];n.mergedAttrs=dn(n.mergedAttrs,u.hostAttrs),Fi(t,n,e,l,u),Pi(l,u,a),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const c=u.type.prototype;!r&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),s||!c.ngOnChanges&&!c.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),s=!0),l++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let a=null,s=null;for(let l=e.directiveStart;l<n;l++){const t=r[l],n=t.inputs,u=null===i||Qr(e)?null:Zi(n,i);o.push(u),a=Si(n,l,a),s=Si(t.outputs,l,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new ne("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,a)}return n.mergedAttrs=dn(n.mergedAttrs,n.attrs),i}function Li(t,e,n,r,i,o){const a=o.hostBindings;if(a){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,a)}}function Oi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ri(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Pi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;te(e)&&(n[""]=t)}}function Vi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Fi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ee(i.type)),a=new sn(o,te(i),null);t.blueprint[r]=a,n[r]=a,Li(t,e,0,r,yi(t,n,i.hostVars,ai),i)}function Di(t,e,n){const r=me(e,t),i=Ei(n),o=t[10],a=Ni(t,vi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function Bi(t,e,n,r,i,o){const a=o[e];if(null!==a){const t=r.setInput;for(let e=0;e<a.length;){const i=a[e++],o=a[e++],s=a[e++];null!==t?r.setInput(n,s,i,o):n[o]=s}}}function Zi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Gi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function zi(t,e){const n=be(e,t);if(we(n)){const t=n[1];80&n[2]?xi(t,n,t.template,n[8]):n[5]>0&&ji(n)}}function ji(t){for(let n=_r(t);null!==n;n=Mr(n))for(let t=Ht;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];xi(t,e,t.template,e[8])}else e[5]>0&&ji(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=be(e[n],t);we(r)&&r[5]>0&&ji(r)}}function Yi(t,e){const n=be(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),bi(r,n,n[8])}function Ni(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ui(t){for(;t;){t[2]|=64;const e=Ar(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Wi(t,e,n){const r=e[10];r.begin&&r.begin();try{xi(t,e,t.template,n)}catch(i){throw qi(e,i),i}finally{r.end&&r.end()}}function Xi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=xe(n),i=r[1];wi(i,r,i.template,n)}}(t[8])}function Hi(t,e,n){ze(0),e(t,n)}const Ki=(()=>Promise.resolve(null))();function Ji(t){return t[7]||(t[7]=[])}function Qi(t){return t.cleanup||(t.cleanup=[])}function qi(t,e){const n=t[9],r=n?n.get(mr,null):null;r&&r.handleError(e)}function $i(t,e,n,r,i){for(let o=0;o<n.length;){const a=n[o++],s=n[o++],l=e[a],u=t.data[a];null!==u.setInput?u.setInput(l,i,r,s):l[s]=i}}function to(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let a=0;a<e.length;a++){const t=e[a];"number"==typeof t?o=t:1==o?i=et(i,t):2==o&&(r=et(r,t+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const eo=new Bn("INJECTOR",-1);class no{get(t,e=$n){if(e===$n){const e=new Error(`NullInjectorError: No provider for ${tt(t)}!`);throw e.name="NullInjectorError",e}return e}}const ro=new Bn("Set Injector scope."),io={},oo={},ao=[];let so=void 0;function lo(){return void 0===so&&(so=new no),so}function uo(t,e=null,n=null,r){return new co(t,n,e||lo(),r)}class co{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&zn(e,n=>this.processProvider(n,t,e)),zn([t],t=>this.processInjectorType(t,[],i)),this.records.set(eo,po(void 0,this));const o=this.records.get(ro);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:tt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=$n,n=gt.Default){this.assertNotDestroyed();const r=ir(this);try{if(!(n&gt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Bn)&&lt(t);e=n&&this.injectableDefInScope(n)?po(fo(t),io):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&gt.Self?lo():this.parent).get(t,e=n&gt.Optional&&e===$n?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(tt(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[er]&&i.unshift(e[er]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=tt(e);if(Array.isArray(e))i=e.map(tt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):tt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(tr,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{ir(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(tt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=it(t)))return!1;let r=ct(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,a=-1!==n.indexOf(o);if(void 0!==i&&(r=ct(i)),null==r)return!1;if(null!=r.imports&&!a){let t;n.push(o);try{zn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];zn(r,t=>this.processProvider(t,n,r||ao))}}this.injectorDefTypes.add(o),this.records.set(o,po(r.factory,io));const s=r.providers;if(null!=s&&!a){const e=t;zn(s,t=>this.processProvider(t,e,s))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=vo(t=it(t))?t:it(t&&t.provide);const i=function(t,e,n){return go(t)?po(void 0,t.useValue):po(ho(t),io)}(t);if(vo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=po(void 0,io,!0),e.factory=()=>sr(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===io&&(e.value=oo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function fo(t){const e=lt(t),n=null!==e?e.factory:ee(t);if(null!==n)return n;const r=ct(t);if(null!==r)return r.factory;if(t instanceof Bn)throw new Error(`Token ${tt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Nn(e,"?");throw new Error(`Can't resolve all parameters for ${tt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[dt]||t[ht]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ho(t,e,n){let r=void 0;if(vo(t)){const e=it(t);return ee(e)||fo(e)}if(go(t))r=()=>it(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...sr(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ar(it(t.useExisting));else{const e=it(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ee(e)||fo(e);r=()=>new e(...sr(t.deps))}var i;return r}function po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function go(t){return null!==t&&"object"==typeof t&&nr in t}function vo(t){return"function"==typeof t}const mo=function(t,e,n){return function(t,e=null,n=null,r){const i=uo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let yo=(()=>{class t{static create(t,e){return Array.isArray(t)?mo(t,e,""):mo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=$n,t.NULL=new no,t.\u0275prov=at({token:t,providedIn:"any",factory:()=>ar(eo)}),t.__NG_ELEMENT_ID__=-1,t})();function bo(t,e){$e(xe(t)[1],Te())}function xo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(te(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=wo(t.inputs),e.declaredInputs=wo(t.declaredInputs),e.outputs=wo(t.outputs);const n=i.hostBindings;n&&_o(t,n);const o=i.viewQuery,a=i.contentQueries;if(o&&Co(t,o),a&&Ao(t,a),$(t.inputs,i.inputs),$(t.declaredInputs,i.declaredInputs),$(t.outputs,i.outputs),te(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===xo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=dn(i.hostAttrs,n=dn(n,i.hostAttrs))}}(r)}function wo(t){return t===kt?{}:t===St?[]:t}function Co(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ao(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function _o(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Mo=null;function Eo(){if(!Mo){const t=Et.Symbol;if(t&&t.iterator)Mo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Mo=n)}}}return Mo}class ko{constructor(t){this.wrapped=t}static wrap(t){return new ko(t)}static unwrap(t){return ko.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ko}}function So(t){return!!Io(t)&&(Array.isArray(t)||!(t instanceof Map)&&Eo()in t)}function Io(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function To(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Lo(t,e,n,r){const i=ke();return To(i,Be(),e)&&(Se(),function(t,e,n,r,i,o){const a=me(t,e);!function(t,e,n,r,i,o,a){if(null==o)he(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const s=null==a?re(o):a(o,r||"",i);he(t)?t.setAttribute(e,i,s,n):n?e.setAttributeNS(n,i,s):e.setAttribute(i,s)}}(e[11],a,o,t.value,n,r,i)}(qe(),i,t,e,n,r)),Lo}function Oo(t,e,n,r){return To(t,Be(),n)?e+re(n)+r:ai}function Ro(t,e,n,r,i,o,a,s){const l=ke(),u=Se(),c=t+Xt,d=u.firstCreatePass?function(t,e,n,r,i,o,a,s,l){const u=e.consts,c=mi(e,t,4,a||null,Ce(u,s));Ti(e,n,c,Ce(u,l)),$e(e,c);const d=c.tViews=ki(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,n,r,i,o,a):u.data[c];Oe(d,!1);const f=l[11].createComment("");Gr(u,l,f,d),yr(f,l),Ni(l,l[c]=Gi(f,l,f,d)),$t(d)&&_i(u,l,d),null!=a&&Mi(l,d,s)}function Po(t,e=gt.Default){const n=ke();return null===n?ar(t,e):En(Te(),n,it(t),e)}function Vo(t,e,n){const r=ke();return To(r,Be(),e)&&Ii(Se(),qe(),r,t,e,r[11],n,!1),Vo}function Fo(t,e,n,r,i){const o=i?"class":"style";$i(t,n,e.inputs[o],o,r)}function Do(t,e,n,r){const i=ke(),o=Se(),a=Xt+t,s=i[11],l=i[a]=Sr(s,e,Me.lFrame.currentNamespace),u=o.firstCreatePass?function(t,e,n,r,i,o,a){const s=e.consts,l=mi(e,t,2,i,Ce(s,o));return Ti(e,n,l,Ce(s,a)),null!==l.attrs&&to(l,l.attrs,!1),null!==l.mergedAttrs&&to(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(a,o,i,0,e,n,r):o.data[a];Oe(u,!0);const c=u.mergedAttrs;null!==c&&ln(s,l,c);const d=u.classes;null!==d&&Xr(s,l,d);const f=u.styles;null!==f&&Wr(s,l,f),64!=(64&u.flags)&&Gr(o,i,l,u),0===Me.lFrame.elementDepthCount&&yr(l,i),Me.lFrame.elementDepthCount++,$t(u)&&(_i(o,i,u),Ai(o,u,i)),null!==r&&Mi(i,u)}function Bo(){let t=Te();Re()?Pe():(t=t.parent,Oe(t,!1));const e=t;Me.lFrame.elementDepthCount--;const n=Se();n.firstCreatePass&&($e(n,t),Qt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Fo(n,e,ke(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Fo(n,e,ke(),e.stylesWithoutHost,!1)}function Zo(t,e,n,r){Do(t,e,n,r),Bo()}function Go(t,e,n){const r=ke(),i=Se(),o=t+Xt,a=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,a=Ce(o,r),s=mi(e,t,8,"ng-container",a);return null!==a&&to(s,a,!0),Ti(e,n,s,Ce(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,i,r,e,n):i.data[o];Oe(a,!0);const s=r[o]=r[11].createComment("");Gr(i,r,s,a),yr(s,r),$t(a)&&(_i(i,r,a),Ai(i,a,r)),null!=n&&Mi(r,a)}function zo(){let t=Te();const e=Se();Re()?Pe():(t=t.parent,Oe(t,!1)),e.firstCreatePass&&($e(e,t),Qt(t)&&e.queries.elementEnd(t))}function jo(){return ke()}function Yo(t){return!!t&&"function"==typeof t.then}function No(t){return!!t&&"function"==typeof t.subscribe}function Uo(t,e,n=!1,r){const i=ke(),o=Se(),a=Te();return function(t,e,n,r,i,o,a=!1,s){const l=$t(r),u=t.firstCreatePass&&Qi(t),c=Ji(e);let d=!0;if(3&r.type){const f=me(r,e),h=s?s(f):kt,p=h.target||f,g=c.length,v=s?t=>s(ge(t[r.index])).target:r.index;if(he(n)){let a=null;if(!s&&l&&(a=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==a)(a.__ngLastListenerFn__||a).__ngNextListenerFn__=o,a.__ngLastListenerFn__=o,d=!1;else{o=Xo(r,e,o,!1);const t=n.listen(h.name||p,i,o);c.push(o,t),u&&u.push(i,v,g,g+1)}}else o=Xo(r,e,o,!0),p.addEventListener(i,o,a),c.push(o),u&&u.push(i,v,g,a)}else o=Xo(r,e,o,!1);const f=r.outputs;let h;if(d&&null!==f&&(h=f[i])){const t=h.length;if(t)for(let n=0;n<t;n+=2){const t=e[h[n]][h[n+1]].subscribe(o),a=c.length;c.push(o,t),u&&u.push(i,r.index,a,-(a+1))}}}(o,i,i[11],a,t,e,n,r),Uo}function Wo(t,e,n){try{return!1!==e(n)}catch(r){return qi(t,r),!1}}function Xo(t,e,n,r){return function i(o){if(o===Function)return n;const a=2&t.flags?be(t.index,e):e;0==(32&e[2])&&Ui(a);let s=Wo(e,n,o),l=i.__ngNextListenerFn__;for(;l;)s=Wo(e,l,o)&&s,l=l.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Ho(t=1){return function(t){return(Me.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Me.lFrame.contextLView))[8]}(t)}function Ko(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?ni(t,o,!0):ri(r,o))return i}else n=i}return n}function Jo(t){const e=ke()[16][6];if(!e.projection){const n=e.projection=Nn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Ko(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Qo(t,e=0,n){const r=ke(),i=Se(),o=mi(i,Xt+t,16,null,n||null);null===o.projection&&(o.projection=e),Pe(),64!=(64&o.flags)&&function(t,e,n){Ur(e[11],0,e,n,Rr(t,n,e),Br(n.parent||e[6],n,e))}(i,r,o)}function qo(t,e,n){return $o(t,"",e,"",n),qo}function $o(t,e,n,r,i){const o=ke(),a=Oo(o,e,n,r);return a!==ai&&Ii(Se(),qe(),o,t,a,o[11],i,!1),$o}const ta=[];function ea(t,e,n,r,i){const o=t[n+1],a=null===e;let s=r?ci(o):fi(o),l=!1;for(;0!==s&&(!1===l||a);){const n=t[s+1];na(t[s],e)&&(l=!0,t[s+1]=r?pi(n):di(n)),s=r?ci(n):fi(n)}l&&(t[n+1]=r?di(o):pi(o))}function na(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Xn(t,e)>=0}function ra(t,e){return function(t,e,n,r){const i=ke(),o=Se(),a=function(t){const e=Me.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Je()],a=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Me.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=oa(n=ia(null,t,e,n,r),e.attrs,r),o=null);else{const a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=ia(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==fi(r))return t[ci(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=ia(null,t,e,n[1],r),n=oa(n,e.attrs,r),function(t,e,n,r){t[ci(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=oa(r,t[o].hostAttrs,true);return oa(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let a=e.classBindings,s=ci(a),l=fi(a);t[r]=n;let u,c=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||Xn(t,u)>0)&&(c=!0)}else u=n;if(i)if(0!==l){const e=ci(t[s+1]);t[r+1]=ui(e,s),0!==e&&(t[e+1]=hi(t[e+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=ui(s,0),0!==s&&(t[s+1]=hi(t[s+1],r)),s=r;else t[r+1]=ui(l,0),0===s?s=r:t[l+1]=hi(t[l+1],r),l=r;c&&(t[r+1]=di(t[r+1])),ea(t,u,r,!0),ea(t,u,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&Xn(o,e)>=0&&(n[r+1]=pi(n[r+1]))}(e,u,t,r),a=ui(s,l),e.classBindings=a}(i,o,e,n,a)}}(o,t,a,true),e!==ai&&To(i,a,e)&&function(t,e,n,r,i,o,a,s){if(!(3&e.type))return;const l=t.data,u=l[s+1];sa(1==(1&u)?aa(l,e,n,i,fi(u),a):void 0)||(sa(o)||function(t){return 2==(2&t)}(u)&&(o=aa(l,null,n,i,s,a)),function(t,e,n,r,i){const o=he(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,ve(Je(),n),i,o))}(o,o.data[Je()],i,i[11],t,i[a+1]=function(t,e){return null==t||"object"==typeof t&&(t=tt(ur(t))),t}(e),true,a)}(t,e),ra}function ia(t,e,n,r,i){let o=null;const a=n.directiveEnd;let s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(o=e[s],r=oa(r,o.hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function oa(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Un(t,a,!!n||e[++o]))}return void 0===t?null:t}function aa(t,e,n,r,i,o){const a=null===e;let s=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),l=o?e[1]:e,u=null===l;let c=n[i+1];c===ai&&(c=u?ta:void 0);let d=u?Wn(c,r):l===r?c:void 0;if(o&&!sa(d)&&(d=Wn(e,r)),sa(d)&&(s=d,a))return s;const f=t[i+1];i=a?ci(f):fi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(s=Wn(t,r))}return s}function sa(t){return void 0!==t}function la(t,e=""){const n=ke(),r=Se(),i=t+Xt,o=r.firstCreatePass?mi(r,i,1,e,null):r.data[i],a=n[i]=function(t,e){return he(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Gr(r,n,a,o),Oe(o,!1)}function ua(t){return ca("",t,""),ua}function ca(t,e,n){const r=ke(),i=Oo(r,t,e,n);return i!==ai&&function(t,e,n){const r=ve(e,t);!function(t,e,n){he(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,Je(),i),ca}const da=void 0;var fa=["en",[["a","p"],["AM","PM"],da],[["AM","PM"],da,da],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],da,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],da,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",da,"{1} 'at' {0}",da],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ha={};function pa(t){return t in ha||(ha[t]=Et.ng&&Et.ng.common&&Et.ng.common.locales&&Et.ng.common.locales[t]),ha[t]}var ga=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const va="en-US";let ma=va;function ya(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ma=t.toLowerCase().replace(/_/g,"-"))}function ba(t,e,n,r,i){if(t=it(t),Array.isArray(t))for(let o=0;o<t.length;o++)ba(t[o],e,n,r,i);else{const o=Se(),a=ke();let s=vo(t)?t:it(t.provide),l=ho(t);const u=Te(),c=1048575&u.providerIndexes,d=u.directiveStart,f=u.providerIndexes>>20;if(vo(t)||!t.multi){const r=new sn(l,i,Po),h=Ca(s,e,i?c:c+f,d);-1===h?(An(bn(u,a),o,s),xa(o,t,e.length),e.push(s),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),a.push(r)):(n[h]=r,a[h]=r)}else{const h=Ca(s,e,c+f,d),p=Ca(s,e,c,c+f),g=h>=0&&n[h],v=p>=0&&n[p];if(i&&!v||!i&&!g){An(bn(u,a),o,s);const c=function(t,e,n,r,i){const o=new sn(t,n,Po);return o.multi=[],o.index=e,o.componentProviders=0,wa(o,i,r&&!n),o}(i?_a:Aa,n.length,i,r,l);!i&&v&&(n[p].providerFactory=c),xa(o,t,e.length,0),e.push(s),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(c),a.push(c)}else xa(o,t,h>-1?h:p,wa(n[i?p:h],l,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function xa(t,e,n,r){const i=vo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=a.indexOf(n);-1===t?a.push(n,[r,o]):a[t+1].push(r,o)}else a.push(n,o)}}}function wa(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ca(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Aa(t,e,n,r){return Ma(this.multi,[])}function _a(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Tn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ma(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ma(i,o);return o}function Ma(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ea(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Se();if(r.firstCreatePass){const i=te(t);ba(n,r.data,r.blueprint,i,!0),ba(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ka{}class Sa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${tt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ia=(()=>{class t{}return t.NULL=new Sa,t})();function Ta(...t){}function La(t,e){return new Ra(me(t,e))}const Oa=function(){return La(Te(),ke())};let Ra=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Oa,t})();class Pa{}let Va=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Fa(),t})();const Fa=function(){const t=ke(),e=be(Te().index,t);return function(t){return t[11]}(Kt(e)?e:t)};let Da=(()=>{class t{}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>null}),t})();class Ba{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Za=new Ba("11.0.9");class Ga{constructor(){}supports(t){return So(t)}create(t){return new ja(t)}}const za=(t,e)=>e;class ja{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||za}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Wa(n,r,i)?e:n,a=Wa(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=a-r,e=s-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}a!==s&&t(o,a,s)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!So(t))throw new Error(`Error trying to diff '${tt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Eo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ya(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ua),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ua),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ya{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Na{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ua{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Na,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Xa{constructor(){}supports(t){return t instanceof Map||Io(t)}create(){return new Ha}}class Ha{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Io(t)))throw new Error(`Error trying to diff '${tt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ka(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ka{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ja=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Qn,new Kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new t([new Ga])}),t})(),Qa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Qn,new Kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new t([new Xa])}),t})();function qa(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(ge(o)),Jt(o))for(let t=Ht;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&qa(e[1],e,n,r)}const a=n.type;if(8&a)qa(t,e,n.child,r);else if(32&a){const t=Cr(n,e);let i;for(;i=t();)r.push(i)}else if(16&a){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Ar(t);qa(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class $a{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return qa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Jt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Tr(t,n),Yn(e,n))}this._attachedToViewContainer=!1}Lr(this._lView[1],this._lView)}onDestroy(t){!function(t,e,n,r){const i=Ji(e);i.push(r)}(0,this._lView,0,t)}markForCheck(){Ui(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Wi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Fe(!0);try{Wi(t,e,n)}finally{Fe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Nr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ts extends $a{constructor(t){super(t),this._view=t}detectChanges(){Xi(this._view)}checkNoChanges(){!function(t){Fe(!0);try{Xi(t)}finally{Fe(!1)}}(this._view)}get context(){return null}}const es=rs;let ns=(()=>{class t{}return t.__NG_ELEMENT_ID__=es,t.__ChangeDetectorRef__=!0,t})();function rs(t=!1){return function(t,e,n){if(!n&&qt(t)){const n=be(t.index,e);return new $a(n,n)}return 47&t.type?new $a(e[16],e):null}(Te(),ke(),t)}const is=[new Xa],os=new Ja([new Ga]),as=new Qa(is),ss=function(){return ds(Te(),ke())};let ls=(()=>{class t{}return t.__NG_ELEMENT_ID__=ss,t})();const us=ls,cs=class extends us{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=vi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),bi(e,n,t),new $a(n)}};function ds(t,e){return 4&t.type?new cs(e,t,La(t,e)):null}class fs{}class hs{}const ps=function(){return function(t,e){let n;const r=e[t.index];if(Jt(r))n=r;else{let i;if(8&t.type)i=ge(r);else{const n=e[11];i=n.createComment("");const r=me(t,e);Pr(n,Dr(n,r),i,function(t,e){return he(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Gi(r,e,i,t),Ni(e,n)}return new ms(n,t,e)}(Te(),ke())};let gs=(()=>{class t{}return t.__NG_ELEMENT_ID__=ps,t})();const vs=gs,ms=class extends vs{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return La(this._hostTNode,this._hostLView)}get injector(){return new Rn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Cn(this._hostTNode,this._hostLView);if(hn(t)){const e=gn(t,this._hostLView),n=pn(t);return new Rn(e[1].data[n+8],e)}return new Rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ys(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Ht}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(fs,null);t&&(i=t)}const a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a}insert(t,e){const n=t._lView,r=n[1];if(Jt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ms(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Ht+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Ht?(e[4]=n[i],jn(n,Ht+r,e)):(n.push(e),e[4]=null),e[3]=n;const a=e[17];null!==a&&n!==a&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);const s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,n,o,i);const a=jr(i,o),s=n[11],l=Dr(s,o[7]);return null!==l&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Nr(t,r,n,1,i,o)}(r,o[6],s,n,l,a),t.attachToViewContainerRef(),jn(bs(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ys(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Tr(this._lContainer,e);n&&(Yn(bs(this._lContainer),e),Lr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Tr(this._lContainer,e);return n&&null!=Yn(bs(this._lContainer),e)?new $a(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ys(t){return t[8]}function bs(t){return t[8]||(t[8]=[])}const xs={};class ws extends Ia{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Ut(t);return new _s(e,this.ngModule)}}function Cs(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const As=new Bn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>br});class _s extends ka{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(oi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Cs(this.componentDef.inputs)}get outputs(){return Cs(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,xs,i);return o!==xs||r===xs?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Pa,pe),a=i.get(Da,null),s=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(he(t))return t.selectRootElement(e,n===wt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(s,n,this.componentDef.encapsulation):Sr(o.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),c=this.componentDef.onPush?576:528,d={components:[],scheduler:br,clean:Ki,playerHandler:null,flags:0},f=ki(0,null,null,1,0,null,null,null,null,null),h=vi(null,f,d,c,null,null,o,s,a,i);let p,g;Ne(h);try{const t=function(t,e,n,r,i,o){const a=n[1];n[20]=t;const s=mi(a,20,2,"#host",null),l=s.mergedAttrs=e.hostAttrs;null!==l&&(to(s,l,!0),null!==t&&(ln(i,t,l),null!==s.classes&&Xr(i,t,s.classes),null!==s.styles&&Wr(i,t,s.styles)));const u=r.createRenderer(t,e),c=vi(n,Ei(e),null,e.onPush?64:16,n[20],s,r,u,null,null);return a.firstCreatePass&&(An(bn(s,n),a,e.type),Ri(a,s),Vi(s,n.length,1)),Ni(n,c),n[20]=c}(u,this.componentDef,h,o,s);if(u)if(n)ln(s,u,["ng-version",Za.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ti(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&ln(s,u,t),e&&e.length>0&&Xr(s,u,e.join(" "))}if(g=ye(f,Xt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],a=function(t,e,n){const r=Te();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Fi(t,r,e,yi(t,e,1,null),n));const i=Tn(e,t,r.directiveStart,r);yr(i,e);const o=me(r,e);return o&&yr(o,e),i}(o,n,e);if(r.components.push(a),t[8]=a,i&&i.forEach(t=>t(a,e)),e.contentQueries){const t=Te();e.contentQueries(1,a,t.directiveStart)}const s=Te();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Qe(s.index),Li(n[1],s,0,s.directiveStart,s.directiveEnd,e),Oi(e,a)),a}(t,this.componentDef,h,d,[bo]),bi(f,h,null)}finally{Ke()}return new Ms(this.componentType,p,La(g,h),h,g)}}class Ms extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ts(r),this.componentType=t}get injector(){return new Rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Es=new Map;class ks extends fs{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ws(this);const n=Wt(t),r=t[Rt]||null;r&&ya(r),this._bootstrapComponents=xr(n.bootstrap),this._r3Injector=uo(t,e,[{provide:fs,useValue:this},{provide:Ia,useValue:this.componentFactoryResolver}],tt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=yo.THROW_IF_NOT_FOUND,n=gt.Default){return t===yo||t===fs||t===eo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ss extends hs{constructor(t){super(),this.moduleType=t,null!==Wt(t)&&function(t){const e=new Set;!function t(n){const r=Wt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${tt(e)} vs ${tt(e.name)}`)}(i,Es.get(i),n),Es.set(i,n));const o=xr(r.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(t)}(t)}create(t){return new ks(this.moduleType,t)}}function Is(t,e,n,r,i,o){const a=e+n;return To(t,a,i)?function(t,e,n){return t[e]=n}(t,a+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===ai?void 0:n}(t,a+1)}function Ts(t,e){const n=Se();let r;const i=t+Xt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new ne("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=ee(r.type)),a=mt(Po);try{const t=mn(!1),e=o();return mn(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,ke(),i,e),e}finally{mt(a)}}function Ls(t,e,n){const r=t+Xt,i=ke(),o=function(t,e){return t[e]}(i,r);return function(t,e){return ko.isWrapped(e)&&(e=ko.unwrap(e),t[Me.lFrame.bindingIndex]=ai),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Is(i,De(),e,o.transform,n,o):o.transform(n))}const Os=class extends A{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,i,o);return t instanceof d&&t.add(a),a}};function Rs(t,e){return ds(t,e)}const Ps=new Bn("Application Initializer");let Vs=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ta,this.reject=Ta,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Yo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ar(Ps,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Fs=new Bn("AppId"),Ds={provide:Fs,useFactory:function(){return`${Bs()}${Bs()}${Bs()}`},deps:[]};function Bs(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zs=new Bn("Platform Initializer"),Gs=new Bn("Platform ID"),zs=new Bn("appBootstrapListener");let js=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Ys=new Bn("LocaleId"),Ns=new Bn("DefaultCurrencyCode");class Us{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Ws=function(t){return new Ss(t)},Xs=Ws,Hs=function(t){return Promise.resolve(Ws(t))},Ks=function(t){const e=Ws(t),n=xr(Wt(t).declarations).reduce((t,e)=>{const n=Ut(e);return n&&t.push(new _s(n)),t},[]);return new Us(e,n)},Js=Ks,Qs=function(t){return Promise.resolve(Ks(t))};let qs=(()=>{class t{constructor(){this.compileModuleSync=Xs,this.compileModuleAsync=Hs,this.compileModuleAndAllComponentsSync=Js,this.compileModuleAndAllComponentsAsync=Qs}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const $s=(()=>Promise.resolve(0))();function tl(t){"undefined"==typeof Zone?$s.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class el{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Os(!1),this.onMicrotaskEmpty=new Os(!1),this.onStable=new Os(!1),this.onError=new Os(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=Et.requestAnimationFrame,e=Et.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Et,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,il(t),rl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),il(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,a,s)=>{try{return ol(t),n.invokeTask(i,o,a,s)}finally{e&&"eventTask"===o.type&&e(),al(t)}},onInvoke:(e,n,r,i,o,a,s)=>{try{return ol(t),e.invoke(r,i,o,a,s)}finally{al(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,il(t),rl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!el.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(el.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,nl,Ta,Ta);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const nl={};function rl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function il(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function ol(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function al(t){t._nesting--,rl(t)}class sl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Os,this.onMicrotaskEmpty=new Os,this.onStable=new Os,this.onError=new Os}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ll=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{el.assertNotInAngularZone(),tl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())tl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ar(el))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),ul=(()=>{class t{constructor(){this._applications=new Map,fl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return fl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class cl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let dl,fl=new cl,hl=!0,pl=!1;function gl(){return pl=!0,hl}const vl=new Bn("AllowMultipleToken");class ml{constructor(t,e){this.name=t,this.token=e}}function yl(t,e,n=[]){const r="Platform: "+e,i=new Bn(r);return(e=[])=>{let o=bl();if(!o||o.injector.get(vl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ro,useValue:"platform"});!function(t){if(dl&&!dl.destroyed&&!dl.injector.get(vl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");dl=t.get(xl);const e=t.get(Zs,null);e&&e.forEach(t=>t())}(yo.create({providers:t,name:r}))}return function(t){const e=bl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function bl(){return dl&&!dl.destroyed?dl:null}let xl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new sl:("zone.js"===t?void 0:t)||new el({enableLongStackTrace:gl(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:el,useValue:n}];return n.run(()=>{const e=yo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(mr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Al(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Yo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Vs);return t.runInitializers(),t.donePromise.then(()=>(ya(i.injector.get(Ys,va)||va),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=wl({},e);return function(t,e,n){const r=new Ss(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Cl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${tt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ar(yo))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function wl(t,e){return Array.isArray(e)?e.reduce(wl,t):Object.assign(Object.assign({},t),e)}let Cl=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),s=new y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{el.assertNotInAngularZone(),tl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{el.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return M(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof y?t[0]:Y(e)(N(t,n))}(a,s.pipe(t=>{return U()((e=Q,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,K);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ka?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(fs),i=n.create(yo.NULL,[],e||n.selector,r),o=i.location.nativeElement,a=i.injector.get(ll,null),s=a&&i.injector.get(ul);return a&&s&&s.registerApplication(o,a),i.onDestroy(()=>{this.detachView(i.hostView),Al(this.components,i),s&&s.unregisterApplication(o)}),this._loadComponent(i),gl()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Al(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(zs,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ar(el),ar(js),ar(yo),ar(mr),ar(Ia),ar(Vs))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function Al(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class _l{}class Ml{}const El={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let kl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||El}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Sl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Sl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(ar(qs),ar(Ml,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function Sl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Il=yl(null,"core",[{provide:Gs,useValue:"unknown"},{provide:xl,deps:[yo]},{provide:ul,deps:[]},{provide:js,deps:[]}]),Tl=[{provide:Cl,useClass:Cl,deps:[el,js,yo,mr,Ia,Vs]},{provide:As,deps:[el],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Vs,useClass:Vs,deps:[[new Kn,Ps]]},{provide:qs,useClass:qs,deps:[]},Ds,{provide:Ja,useFactory:function(){return os},deps:[]},{provide:Qa,useFactory:function(){return as},deps:[]},{provide:Ys,useFactory:function(t){return ya(t=t||"undefined"!=typeof $localize&&$localize.locale||va),t},deps:[[new Hn(Ys),new Kn,new Qn]]},{provide:Ns,useValue:"USD"}];let Ll=(()=>{class t{constructor(t){}}return t.\u0275mod=zt({type:t}),t.\u0275inj=st({factory:function(e){return new(e||t)(ar(Cl))},providers:Tl}),t})();n("slli");let Ol=null;function Rl(){return Ol}const Pl=new Bn("DocumentToken");let Vl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:Fl,token:t,providedIn:"platform"}),t})();function Fl(){return ar(Bl)}const Dl=new Bn("Location Initialized");let Bl=(()=>{class t extends Vl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Rl().getLocation(),this._history=Rl().getHistory()}getBaseHrefFromDOM(){return Rl().getBaseHref(this._doc)}onPopState(t){Rl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Rl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Zl()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Zl()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(ar(Pl))},t.\u0275prov=at({factory:Gl,token:t,providedIn:"platform"}),t})();function Zl(){return!!window.history.pushState}function Gl(){return new Bl(ar(Pl))}function zl(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function jl(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Yl(t){return t&&"?"!==t[0]?"?"+t:t}let Nl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:Ul,token:t,providedIn:"root"}),t})();function Ul(t){const e=ar(Pl).location;return new Xl(ar(Vl),e&&e.origin||"")}const Wl=new Bn("appBaseHref");let Xl=(()=>{class t extends Nl{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return zl(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Yl(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+Yl(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+Yl(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(ar(Vl),ar(Wl,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Hl=(()=>{class t extends Nl{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=zl(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+Yl(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+Yl(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(ar(Vl),ar(Wl,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Kl=(()=>{class t{constructor(t,e){this._subject=new Os,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=jl(Ql(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Yl(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Ql(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yl(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yl(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(ar(Nl),ar(Vl))},t.normalizeQueryParams=Yl,t.joinWithSlash=zl,t.stripTrailingSlash=jl,t.\u0275prov=at({factory:Jl,token:t,providedIn:"root"}),t})();function Jl(){return new Kl(ar(Nl),ar(Vl))}function Ql(t){return t.replace(/\/index.html$/,"")}var ql=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class $l{}let tu=(()=>{class t extends $l{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=pa(e);if(n)return n;const r=e.split("-")[0];if(n=pa(r),n)return n;if("en"===r)return fa;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[ga.PluralCase]}(e||this.locale)(t)){case ql.Zero:return"zero";case ql.One:return"one";case ql.Two:return"two";case ql.Few:return"few";case ql.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(ar(Ys))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),eu=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(So(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+tt(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(Po(Ja),Po(Qa),Po(Ra),Po(Va))},t.\u0275dir=Yt({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class nu{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ru=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new nu(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new iu(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new iu(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Po(gs),Po(ls),Po(Ja))},t.\u0275dir=Yt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class iu{constructor(t,e){this.record=t,this.view=e}}let ou=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new au,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){su("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){su("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Po(gs),Po(ls))},t.\u0275dir=Yt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class au{constructor(){this.$implicit=null,this.ngIf=null}}function su(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${tt(e)}'.`)}class lu{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class uu{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const cu=new uu,du=new lu;let fu=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Yo(e))return cu;if(No(e))return du;throw Error(`InvalidPipeArgument: '${e}' for pipe '${tt(t)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(function(t=gt.Default){const e=rs(!0);if(null!=e||t&gt.Optional)return e;oe("ChangeDetectorRef")}())},t.\u0275pipe=Nt({name:"async",type:t,pure:!1}),t})(),hu=(()=>{class t{constructor(t){this.differs=t,this.keyValues=[]}transform(t,e=pu){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const n=this.differ.diff(t);return n&&(this.keyValues=[],n.forEachItem(t=>{this.keyValues.push({key:t.key,value:t.currentValue})}),this.keyValues.sort(e)),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(Po(Qa))},t.\u0275pipe=Nt({name:"keyvalue",type:t,pure:!1}),t})();function pu(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),o=String(r);return i==o?0:i<o?-1:1}let gu=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=st({factory:function(e){return new(e||t)},providers:[{provide:$l,useClass:tu}]}),t})(),vu=(()=>{class t{}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new mu(ar(Pl),window)}),t})();class mu{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=yu(this.window.history)||yu(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function yu(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class bu extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new bu,Ol||(Ol=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=wu||(wu=document.querySelector("base"),wu)?wu.getAttribute("href"):null;return null==e?null:(n=e,xu||(xu=document.createElement("a")),xu.setAttribute("href",n),"/"===xu.pathname.charAt(0)?xu.pathname:"/"+xu.pathname);var n}resetBaseElement(){wu=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let xu,wu=null;const Cu=new Bn("TRANSITION_ID"),Au=[{provide:Ps,useFactory:function(t,e,n){return()=>{n.get(Vs).donePromise.then(()=>{const n=Rl();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Cu,Pl,yo],multi:!0}];class _u{static init(){var t;t=new _u,fl=t}addToWindow(t){Et.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Et.getAllAngularTestabilities=()=>t.getAllTestabilities(),Et.getAllAngularRootElements=()=>t.getAllRootElements(),Et.frameworkStabilizers||(Et.frameworkStabilizers=[]),Et.frameworkStabilizers.push(t=>{const e=Et.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Rl().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Mu=new Bn("EventManagerPlugins");let Eu=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(ar(Mu),ar(el))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class ku{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Rl().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Su=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Iu=(()=>{class t extends Su{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Rl().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(ar(Pl))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Tu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Lu=/%COMP%/g;function Ou(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ou(t,i,n):(i=i.replace(Lu,t),n.push(i))}return n}function Ru(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Pu=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Vu(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case wt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Fu(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case wt.ShadowDom:return new Du(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Ou(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(ar(Eu),ar(Iu),ar(Fs))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class Vu{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Tu[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Tu[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Tu[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(wr.DashCase|wr.Important)?t.style.setProperty(e,n,r&wr.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&wr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ru(n)):this.eventManager.addEventListener(t,e,Ru(n))}}class Fu extends Vu{constructor(t,e,n,r){super(t),this.component=n;const i=Ou(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Lu,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Lu,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Du extends Vu{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Ou(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Bu=(()=>{class t extends ku{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(ar(Pl))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Zu=["alt","control","meta","shift"],Gu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ju={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Yu=(()=>{class t extends ku{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rl().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Zu.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&zu.hasOwnProperty(e)&&(e=zu[e]))}return Gu[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Zu.forEach(r=>{r!=n&&(0,ju[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(ar(Pl))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Nu=yl(Il,"browser",[{provide:Gs,useValue:"browser"},{provide:Zs,useValue:function(){bu.makeCurrent(),_u.init()},multi:!0},{provide:Pl,useFactory:function(){return function(t){fe=t}(document),document},deps:[]}]),Uu=[[],{provide:ro,useValue:"root"},{provide:mr,useFactory:function(){return new mr},deps:[]},{provide:Mu,useClass:Bu,multi:!0,deps:[Pl,el,Gs]},{provide:Mu,useClass:Yu,multi:!0,deps:[Pl]},[],{provide:Pu,useClass:Pu,deps:[Eu,Iu,Fs]},{provide:Pa,useExisting:Pu},{provide:Su,useExisting:Iu},{provide:Iu,useClass:Iu,deps:[Pl]},{provide:ll,useClass:ll,deps:[el]},{provide:Eu,useClass:Eu,deps:[Mu,el]},[]];let Wu=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Fs,useValue:e.appId},{provide:Cu,useExisting:Fs},Au]}}}return t.\u0275mod=zt({type:t}),t.\u0275inj=st({factory:function(e){return new(e||t)(ar(t,12))},providers:Uu,imports:[gu,Ll]}),t})();function Xu(t,e){return new y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,a=0;for(let s=0;s<r;s++){const l=F(t[s]);let u=!1;n.add(l.subscribe({next:t=>{u||(u=!0,a++),i[s]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&u||(a===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}"undefined"!=typeof window&&window;const Hu=new Bn("NgValueAccessor"),Ku={provide:Hu,useExisting:rt(()=>Ju),multi:!0};let Ju=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Po(Va),Po(Ra))},t.\u0275dir=Yt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Uo("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[Ea([Ku])]}),t})();const Qu={provide:Hu,useExisting:rt(()=>$u),multi:!0},qu=new Bn("CompositionEventMode");let $u=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Rl()?Rl().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(Po(Va),Po(Ra),Po(qu,8))},t.\u0275dir=Yt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Uo("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[Ea([Qu])]}),t})();function tc(t){return null==t||0===t.length}function ec(t){return null!=t&&"number"==typeof t.length}const nc=new Bn("NgValidators"),rc=new Bn("NgAsyncValidators"),ic=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class oc{static min(t){return e=>{if(tc(e.value)||tc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(tc(e.value)||tc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return tc(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return tc(t.value)||ic.test(t.value)?null:{email:!0}}static minLength(t){return e=>tc(e.value)||!ec(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>ec(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return oc.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(tc(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(ac);return 0==e.length?null:function(t){return lc(uc(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(ac);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(l(e))return Xu(e,null);if(u(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Xu(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Xu(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(E(t=>e(...t)))}return Xu(t,null)}(uc(t,e).map(sc)).pipe(E(lc))}}}function ac(t){return null!=t}function sc(t){const e=Yo(t)?F(t):t;return No(e),e}function lc(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function uc(t,e){return e.map(e=>e(t))}function cc(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function dc(t){return null!=t?oc.compose(cc(t)):null}function fc(t){return null!=t?oc.composeAsync(cc(t)):null}function hc(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let pc=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=dc(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=fc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Yt({type:t}),t})(),gc=(()=>{class t extends pc{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return vc(e||t)},t.\u0275dir=Yt({type:t,features:[xo]}),t})();const vc=Vn(gc);class mc extends pc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let yc=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Po(mc,2))},t.\u0275dir=Yt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&ra("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[xo]}),t})();const bc={provide:Hu,useExisting:rt(()=>xc),multi:!0};let xc=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Po(Va),Po(Ra))},t.\u0275dir=Yt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Uo("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[Ea([bc])]}),t})();const wc={provide:Hu,useExisting:rt(()=>Ac),multi:!0};let Cc=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Ac=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(mc),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(Po(Va),Po(Ra),Po(Cc),Po(yo))},t.\u0275dir=Yt({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Uo("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ea([wc])]}),t})();const _c={provide:Hu,useExisting:rt(()=>Mc),multi:!0};let Mc=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Po(Va),Po(Ra))},t.\u0275dir=Yt({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Uo("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[Ea([_c])]}),t})();const Ec={provide:Hu,useExisting:rt(()=>Sc),multi:!0};function kc(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Sc=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=kc(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(Po(Va),Po(Ra))},t.\u0275dir=Yt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Uo("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ea([Ec])]}),t})(),Ic=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(kc(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(Po(Ra),Po(Va),Po(Sc,9))},t.\u0275dir=Yt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Tc={provide:Hu,useExisting:rt(()=>Oc),multi:!0};function Lc(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Oc=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(Po(Va),Po(Ra))},t.\u0275dir=Yt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Uo("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ea([Tc])]}),t})(),Rc=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Lc(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Lc(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(Po(Ra),Po(Va),Po(Oc,9))},t.\u0275dir=Yt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Pc(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Vc(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Fc=[Ju,Mc,xc,Sc,Oc,Ac];function Dc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Bc="VALID",Zc="INVALID",Gc="PENDING",zc="DISABLED";function jc(t){return(Wc(t)?t.validators:t)||null}function Yc(t){return Array.isArray(t)?dc(t):t||null}function Nc(t,e){return(Wc(e)?e.asyncValidators:t)||null}function Uc(t){return Array.isArray(t)?fc(t):t||null}function Wc(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Xc{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Yc(this._rawValidators),this._composedAsyncValidatorFn=Uc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Bc}get invalid(){return this.status===Zc}get pending(){return this.status==Gc}get disabled(){return this.status===zc}get enabled(){return this.status!==zc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Yc(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Uc(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Gc,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=zc,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Bc,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Bc&&this.status!==Gc||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zc:Bc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Gc,this._hasOwnPendingAsyncValidator=!0;const e=sc(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Kc?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Jc&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Os,this.statusChanges=new Os}_calculateStatus(){return this._allControlsDisabled()?zc:this.errors?Zc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gc)?Gc:this._anyControlsHaveStatus(Zc)?Zc:Bc}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Wc(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Hc extends Xc{constructor(t=null,e,n){super(jc(e),Nc(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Dc(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Dc(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Kc extends Xc{constructor(t,e,n){super(jc(e),Nc(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Hc?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Jc extends Xc{constructor(t,e,n){super(jc(e),Nc(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Hc?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Qc={provide:mc,useExisting:rt(()=>$c)},qc=(()=>Promise.resolve(null))();let $c=(()=>{class t extends mc{constructor(t,e,n,r){super(),this.control=new Hc,this._registered=!1,this.update=new Os,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===$u?n=t:(e=t,Fc.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(hc(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(hc(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);{const n=()=>t.updateValueAndValidity();Pc(e._rawValidators,n),Pc(e._rawAsyncValidators,n)}})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Vc(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Vc(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){qc.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;qc.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(Po(gc,9),Po(nc,10),Po(rc,10),Po(Hu,10))},t.\u0275dir=Yt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ea([Qc]),xo,se]}),t})(),td=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=st({factory:function(e){return new(e||t)}}),t})(),ed=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=st({factory:function(e){return new(e||t)},providers:[Cc],imports:[td]}),t})();const nd='@import url("https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap");*[_ngcontent-%COMP%]{margin:0;padding:0}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:inherit}body[_ngcontent-%COMP%]{background-color:#f1f1f1;box-sizing:border-box}*[_ngcontent-%COMP%]{scrollbar-color:#fbeded #fff;scrollbar-width:9px}[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px;width:9px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent;background-clip:padding-box;background-color:initial}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:#fbeded;border-radius:100px;max-height:20px}[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-button:end:increment{display:block;height:50%}[_ngcontent-%COMP%]::-webkit-scrollbar-button:start:increment{display:block;height:17px}.box[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;box-shadow:0 2px 14px 0 hsla(0,0%,84.3%,.5)}.divider[_ngcontent-%COMP%]{border-bottom:1px solid #b1b1b1;opacity:.31}body[_ngcontent-%COMP%]{color:#32363b;font-family:Noto Sans,sans-serif;font-size:inherit}p[_ngcontent-%COMP%]{font-size:12px;line-height:17px}.txt-sm[_ngcontent-%COMP%]{font-size:14px;line-height:20px}.bold[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]{font-weight:700}.heading[_ngcontent-%COMP%]{font-family:Noto Sans,sans-serif;font-size:28px;line-height:38px}.heading-2[_ngcontent-%COMP%]{font-size:18px;font-weight:700;line-height:24px}.heading-3[_ngcontent-%COMP%]{font-size:24px;line-height:36px}.heading-4[_ngcontent-%COMP%]{font-size:20px;line-height:32px}.subheading[_ngcontent-%COMP%]{color:#7d7d7d;font-size:12px;font-weight:700;line-height:17px}.highlight[_ngcontent-%COMP%]{background-color:#eaf1fe}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:visited{text-decoration:none}.chip-date[_ngcontent-%COMP%]{background-color:#f3f3f4;border-radius:8px;color:#6e6d7a;display:inline-block;padding:5px 7px 7px 5px}.svg-black[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px}.svg-black[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#000}.svg-blue[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px}.svg-blue[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#00a3e5}.svg-gray[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#ddd;width:24px}.svg-gray-small[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#ddd;width:20px}.fixed-container[_ngcontent-%COMP%]{height:100vh;overflow:hidden;position:fixed;width:100%}.margin-bottom-lg[_ngcontent-%COMP%]{margin-bottom:24px}.margin-bottom-md[_ngcontent-%COMP%]{margin-bottom:16px}.margin-bottom-sm[_ngcontent-%COMP%]{margin-bottom:8px}.margin-right-sm[_ngcontent-%COMP%]{margin-right:17px}.margin-right-md[_ngcontent-%COMP%]{margin-right:24px}.float-right[_ngcontent-%COMP%]{display:block;float:right}.float-left[_ngcontent-%COMP%]{float:left}.flex[_ngcontent-%COMP%]{display:flex}.form__input[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.5);border:none;border-radius:2px;border-radius:3px solid transparent;color:inherit;display:block;font-family:inherit;font-size:1.5rem;padding:1.5rem 2rem;width:90%}.form__input[_ngcontent-%COMP%]:focus{border-bottom:3px solid #7d7d7d;box-shadow:0 1rem 2rem rgba(0,0,0,.2);outline:none}.form__input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#7d7d7d}.form__input[_ngcontent-%COMP%]:focus:invalid{border-bottom:3px solid #7d7d7d}.form__label[_ngcontent-%COMP%]{display:block;font-size:1.2rem;font-weight:700;margin-left:2rem;margin-top:.7rem;transition:all .2s}.widget[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:16px;box-shadow:0 2px 14px 0 hsla(0,0%,84.3%,.5);display:inline-block;height:auto;height:500px;margin:128px 32px 32px 366px;overflow:auto;padding:10px;position:relative;width:1000px}.search-panel[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:28px;float:right;height:56px;margin:10px 23px;width:993px}.search-panel__input[_ngcontent-%COMP%]{border:none;border-radius:3px solid transparent;color:inherit;float:left;font-family:inherit;font-size:16px;margin:16px}.search-panel__input[_ngcontent-%COMP%]:focus{outline:none}.search-panel__input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#7d7d7d;font-style:italic}.search-panel__input[_ngcontent-%COMP%]:focus:invalid{border-bottom:3px solid #7d7d7d}.search-panel__label[_ngcontent-%COMP%]{display:block;font-size:1.2rem;font-weight:700;margin-left:2rem;margin-top:.7rem;transition:all .2s}.search-panel__icon-search-container[_ngcontent-%COMP%]{float:left;margin:16px 16px 16px 23.7px}.search-panel__filters-container[_ngcontent-%COMP%]{border-left:1px solid #ddd;float:right;height:100%;position:relative;transition:all .8s ease-in-out;width:20%}.search-panel__filters-container--expanded[_ngcontent-%COMP%]{width:50%}.search-panel__icon-arrow-left[_ngcontent-%COMP%]{float:left;margin:16px}.search-panel__icon-container[_ngcontent-%COMP%]{float:right;margin:16px 16px 16px 0}.navbar-dashboard[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-bottom:none;box-shadow:0 2px 14px 0 hsla(0,0%,84.3%,.5);float:left;height:100vh;position:relative;width:64px;z-index:200}.navbar-dashboard__divider[_ngcontent-%COMP%]{border-bottom:1px solid #b1b1b1;opacity:.31}.navbar-dashboard__navlinks-flexbox[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;gap:18.5px;height:100%;padding:113px 0;position:relative;text-align:center}.navbar-dashboard__svg-nav[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:url(#linearGradient-1)}.navbar-dashboard__svg-nav[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px}.navlink-wrapper[_ngcontent-%COMP%]{border-radius:50%;height:48px;margin:0 auto;padding:10px;position:relative;width:48px}.navlink-wrapper[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,84.7%,.12941176470588237)}.navbar-dashboard-sub[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-bottom:none;border-left:none;box-shadow:0 2px 14px 0 hsla(0,0%,84.3%,.5);float:left;height:100vh;position:relative;width:212px;z-index:100}.navbar-dashboard-sub__heading-container[_ngcontent-%COMP%]{height:88px;padding:18px 16px}.navbar-dashboard-sub__text-container[_ngcontent-%COMP%]{float:left}.navbar-dashboard-sub__snippets-scrollbar-padding[_ngcontent-%COMP%]{height:100%;padding:0 16px}.navbar-dashboard-sub__snippets-flexbox[_ngcontent-%COMP%]{align-content:center;display:flex;flex-direction:column;height:100%;overflow:auto;padding:16px 16px 200px 0;pointer-events:auto}.navbar-dashboard-sub__snippets-flexbox[_ngcontent-%COMP%]:hover   .navbar-dashboard-sub__snippets-flexbox__scrollbar-cover[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,0)}.navbar-dashboard-sub__snippets-flexbox__scrollbar-cover[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;height:100%;pointer-events:none;position:absolute;right:0;transition:all .5s;width:15%}.navbar-dashboard-sub__icon[_ngcontent-%COMP%]{float:right;height:26px;width:26px}.navbar-dashboard-sub__icon[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,84.7%,.12941176470588237);border-radius:50%}.navbar-dashboard-sub__snippet-wrapper[_ngcontent-%COMP%]{margin-bottom:24px}.navbar-dashboard-sub__snippet-wrapper[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,84.7%,.12941176470588237);border-radius:8px;cursor:pointer}.navbar-dashboard-sub__snippet-container[_ngcontent-%COMP%]{height:73px;min-height:73px;padding:2px;position:relative}.navbar-dashboard-sub__snippet-container--textbox[_ngcontent-%COMP%]{display:block;float:left;height:68px;margin-left:8px;overflow:hidden;width:120px}.navbar-dashboard-sub__snippet-container--icon-box[_ngcontent-%COMP%]{display:block;float:left}.navbar-dark[_ngcontent-%COMP%]{align-content:center;background-color:#000;display:flex;flex-direction:column;height:100vh;position:fixed;width:6.6rem}.navbar-dark__divider[_ngcontent-%COMP%]{border-bottom:1px solid #505050;margin:0 16px}.navbar-dark__svg-nav[_ngcontent-%COMP%]{display:inline-block;margin:10px 0}.navbar-dark__svg-nav[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#7d7d7d}.navbar-dark__svg-nav[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:50px}.navlink-wrapper[_ngcontent-%COMP%]{text-align:center}.profile-box[_ngcontent-%COMP%]{border-top:1px solid #505050;bottom:16px;height:24px;margin:16px;position:absolute;width:24px}.profile-picture[_ngcontent-%COMP%]{background-position:top;background-size:cover;border-radius:100%;height:24px;margin:16px 0;position:relative;width:24px}.login[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:6px;height:356px;left:50%;padding:80px;position:absolute;text-align:center;top:40%;transform:translate(-50%,-50%);width:640px}.login__logo-box[_ngcontent-%COMP%]{background-image:url(../../assets/images/uvlogo.png);background-position:50%;background-size:cover;height:64px;margin:0 auto 20px;position:relative;width:64px}.btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:link, .btn[_ngcontent-%COMP%]:visited{background-color:#fff;border-radius:8px;cursor:pointer;display:inline-block;font-family:Noto sans,sans-serif;font-size:12px;font-weight:500;position:relative;text-align:center;text-decoration:none;transition:all .2s}.btn[_ngcontent-%COMP%]:active, .btn[_ngcontent-%COMP%]:focus{outline:none}.btn-icon[_ngcontent-%COMP%]{cursor:pointer}.btn-login[_ngcontent-%COMP%]{font-size:14px;height:48px;margin:25px;padding:12px;width:320px}.btn-chip[_ngcontent-%COMP%], .btn-login[_ngcontent-%COMP%]{border:1px solid #ddd}.btn-chip[_ngcontent-%COMP%]{color:#ff6969;font-weight:700;letter-spacing:.2px;line-height:16px;padding:8px 13px}.btn-round[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:100%;height:41px;padding:10.5px;width:41px}.btn-dropdown[_ngcontent-%COMP%]{padding:10px 16px}.btn-add-task[_ngcontent-%COMP%], .btn-dropdown[_ngcontent-%COMP%]{border:1px solid #ddd;font-weight:700}.btn-add-task[_ngcontent-%COMP%]{color:#00a3e5;font-size:18px;padding:6px}.btn-blue[_ngcontent-%COMP%]{color:#00a3e5;font-size:14px;font-weight:700;line-height:20px}.header-sbs[_ngcontent-%COMP%], .header-sbs-sub[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #8694a7;float:right;height:4.8rem;width:100%}.header-sbs-sub[_ngcontent-%COMP%]{border-top:none}.header-dashboard[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-left:none;display:flex;height:153px;justify-content:space-between;padding:24px 70px 26px;position:relative}.header-dashboard__heading-container[_ngcontent-%COMP%]{align-items:center;display:flex;float:left;justify-content:center}.header-dashboard__icon-wrapper[_ngcontent-%COMP%]{margin-right:16px;position:relative;top:4px}.header-dashboard__button-wrapper[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:100%;height:57px;margin-right:23px;padding:10.5px;position:relative;text-align:center;width:57px}.header-dashboard__help-button[_ngcontent-%COMP%]{color:#00a3e5!important;font-size:24px;font-weight:700}.header-dashboard__icon-position[_ngcontent-%COMP%]{position:relative;top:3px}.home-container[_ngcontent-%COMP%]{display:flex;height:80vh;padding:0 0 24px;position:relative;width:auto}.logo-splash-block[_ngcontent-%COMP%]{left:50%;position:absolute;text-align:center;top:35%;transform:translate(-50%,-50%);width:577px}.logo-splash-block__logo[_ngcontent-%COMP%]{margin:30px;width:100px}.tasks-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;height:100%;margin:24px 60px 0 79px;overflow:auto;position:relative}.compare-tasks-header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:24px 230px 0 79px}.compare-task-box[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:2px;display:inline-block;margin:0 32px 32px 0;min-height:228px;padding:24px;width:200px}.compare-task-box[_ngcontent-%COMP%]:hover{cursor:pointer}.app-side-bar[_ngcontent-%COMP%]{border-left:none;border-top:none;display:inline-block;height:100vh;position:absolute;width:336px;z-index:1}.app-side-bar__top-content[_ngcontent-%COMP%]{padding:24px}.app-side-bar__bottom-content[_ngcontent-%COMP%]{padding:12px 0 0}.app-bar[_ngcontent-%COMP%]{align-items:center;border-left:none;border-top:none;display:inline-flex;flex-direction:row;height:86px;justify-content:space-between;justify-items:center;padding:0 32px;position:absolute;width:100%;z-index:0}.tags-container[_ngcontent-%COMP%]{align-self:flex-start;height:100%;left:346px;position:relative;width:60%}.container-right[_ngcontent-%COMP%]{align-items:center;align-self:flex-end;display:flex;height:100%;justify-content:space-between;position:relative;width:64px}.tab[_ngcontent-%COMP%]{align-content:center;display:flex;padding:14px 24px}.tab[_ngcontent-%COMP%]:hover{background-color:#f3f3f4;border-right:4px solid #00a3e5;cursor:pointer;font-weight:700}.tab[_ngcontent-%COMP%]:hover, .tab[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#00a3e5}.tab[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#00a3e5}',rd=["*"];function id(t,e){if(1&t&&(Do(0,"span"),Do(1,"a"),la(2),Bo(),Bo()),2&t){const t=Ho();si(2),ua(t.buttonText)}}function od(t,e){if(1&t&&(Do(0,"span"),Do(1,"a"),Zo(2,"lib-icons",1),Bo(),Bo()),2&t){const t=Ho();si(2),qo("name",t.iconName)}}function ad(t,e){if(1&t&&(Do(0,"span"),Do(1,"select",2),Do(2,"option",3),la(3),Bo(),Zo(4,"option",4),Zo(5,"option",5),Zo(6,"option",6),Bo(),Bo()),2&t){const t=Ho();si(1),qo("name",t.dropdownName),qo("id",t.dropdownId),si(2),ua(t.dropdownPlaceholder)}}function sd(t,e){if(1&t&&(Do(0,"span",5),Do(1,"a",6),Zo(2,"lib-icons",7),Bo(),Bo()),2&t){const t=e.$implicit;si(1),qo("href",t.navlink,hr),si(1),qo("name",t.icon)}}function ld(t,e){if(1&t){const t=jo();Do(0,"div",12),Uo("click",function(){return Ie(t),Ho().snippetClicked()}),Do(1,"div",13),Do(2,"span",14),Zo(3,"lib-icons",15),Bo(),Do(4,"div",16),Do(5,"p",4),la(6),Bo(),Do(7,"p"),la(8),Bo(),Bo(),Bo(),Bo()}if(2&t){const t=e.$implicit;si(3),qo("name",t.icon),si(3),ua(t.snippetHeading),si(2),ua(t.snippetTxt)}}function ud(t,e){if(1&t){const t=jo();Do(0,"div",12),Do(1,"div",13),Do(2,"lib-filters-list",14),Uo("click",function(){return Ie(t),Ho().filterRemoveClicked()}),Bo(),Bo(),Bo()}if(2&t){const t=Ho();si(2),Vo("filters",t.filters)}}const cd=function(t){return{"search-panel__filters-container--expanded":t}};function dd(t,e){1&t&&(Go(0),Zo(1,"lib-icons"),zo())}function fd(t,e){if(1&t){const t=jo();Go(0),Do(1,"lib-badge",1),Uo("iconClick",function(){return Ie(t),Ho(3).onRemoveClick()}),Bo(),zo()}if(2&t){const t=e.$implicit,n=Ho(3);si(1),$o("badgeCSSClasses","badge badge-search-box d-flex justify-content-between align-items-center ",n.filterCSSClasses,""),Vo("badgeTitle",t)("badgeText",t)}}function hd(t,e){if(1&t&&(Go(0),Ro(1,fd,2,3,"ng-container",0),zo()),2&t){const t=Ho(2);si(1),Vo("ngForOf",t.filters)}}function pd(t,e){if(1&t&&(Go(0),Ro(1,hd,2,1,"ng-container",0),Ts(2,"keyvalue"),zo()),2&t){const t=e.$implicit;si(1),Vo("ngForOf",Ls(2,1,t))}}function gd(t,e){if(1&t){const t=jo();Do(0,"div",6),Uo("click",function(){return Ie(t),Ho().loadTask()}),Do(1,"button",7),la(2),Bo(),Do(3,"p",8),la(4),Bo(),Do(5,"p",9),la(6),Bo(),Do(7,"p",10),la(8),Bo(),Bo()}if(2&t){const t=e.$implicit;si(2),ua(t.started),si(2),ua(t.title),si(2),ua(t.description),si(2),ua(t.date)}}function vd(t,e){if(1&t&&(Do(0,"div",8),Do(1,"span"),Zo(2,"lib-icons",9),Bo(),Do(3,"a",10),la(4),Bo(),Bo()),2&t){const t=e.$implicit;si(2),qo("name",t.icon),si(1),qo("href",t.link,hr),si(1),ua(t.linkText)}}let md=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["lib-login"]],inputs:{header:"header"},ngContentSelectors:rd,decls:5,vars:1,consts:[[1,"login"],[1,"login__logo-box"],[1,"heading-3"]],template:function(t,e){1&t&&(Jo(),Do(0,"div",0),Zo(1,"div",1),Do(2,"p",2),la(3),Bo(),Qo(4),Bo()),2&t&&(si(3),ua(e.header))},styles:[nd]}),t})();const yd={linearGradient:'<svg><defs><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="linearGradient-1"><stop stop-color="#7F4DA0" offset="0%"></stop> <stop stop-color="#4DC2F0" offset="100%"></stop> </linearGradient></defs></svg>',dashboard:'<svg id="dashboard" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M9.71428571,13.1428571 L1.71428571,13.1428571 C1.08310314,13.1428571 0.571428571,13.6545317 0.571428571,14.2857143 L0.571428571,22.2857143 C0.571428571,22.9168969 1.08310314,23.4285714 1.71428571,23.4285714 L9.71428571,23.4285714 C10.3454683,23.4285714 10.8571429,22.9168969 10.8571429,22.2857143 L10.8571429,14.2857143 C10.8571429,13.6545317 10.3454683,13.1428571 9.71428571,13.1428571 Z M8.57142857,21.1428571 L2.85714286,21.1428571 L2.85714286,15.4285714 L8.57142857,15.4285714 L8.57142857,21.1428571 Z M22.2857143,0.571428571 L14.2857143,0.571428571 C13.6545317,0.571428571 13.1428571,1.08310314 13.1428571,1.71428571 L13.1428571,9.71428571 C13.1428571,10.3454683 13.6545317,10.8571429 14.2857143,10.8571429 L22.2857143,10.8571429 C22.9168969,10.8571429 23.4285714,10.3454683 23.4285714,9.71428571 L23.4285714,1.71428571 C23.4285714,1.08310314 22.9168969,0.571428571 22.2857143,0.571428571 Z M21.1428571,8.57142857 L15.4285714,8.57142857 L15.4285714,2.85714286 L21.1428571,2.85714286 L21.1428571,8.57142857 Z M22.2857143,13.1428571 L14.2857143,13.1428571 C13.6545317,13.1428571 13.1428571,13.6545317 13.1428571,14.2857143 L13.1428571,22.2857143 C13.1428571,22.9168969 13.6545317,23.4285714 14.2857143,23.4285714 L22.2857143,23.4285714 C22.9168969,23.4285714 23.4285714,22.9168969 23.4285714,22.2857143 L23.4285714,14.2857143 C23.4285714,13.6545317 22.9168969,13.1428571 22.2857143,13.1428571 Z M21.1428571,21.1428571 L15.4285714,21.1428571 L15.4285714,15.4285714 L21.1428571,15.4285714 L21.1428571,21.1428571 Z M9.71428571,0.571428571 L1.71428571,0.571428571 C1.08310314,0.571428571 0.571428571,1.08310314 0.571428571,1.71428571 L0.571428571,9.71428571 C0.571428571,10.3454683 1.08310314,10.8571429 1.71428571,10.8571429 L9.71428571,10.8571429 C10.3454683,10.8571429 10.8571429,10.3454683 10.8571429,9.71428571 L10.8571429,1.71428571 C10.8571429,1.08310314 10.3454683,0.571428571 9.71428571,0.571428571 Z M8.57142857,8.57142857 L2.85714286,8.57142857 L2.85714286,2.85714286 L8.57142857,2.85714286 L8.57142857,8.57142857 Z" id="path-dashboard"></path></svg>',inspect:'<svg id="inspect" viewBox="0 0 24 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <path d="M20.3532044,15.093551 C19.7046169,15.0968916 19.0730342,15.3013558 18.5455179,15.678759 L15.9854995,14.1634884 C16.1062891,13.7885227 16.1697,13.3974481 16.1735824,13.0035226 C16.16741,11.1024777 14.8793656,9.4450214 13.038866,8.96976769 L13.038866,6.54533469 C14.4782721,6.03637483 15.341704,4.56433652 15.0835325,3.0594462 C14.825361,1.55455588 13.5206812,0.454545455 11.9939605,0.454545455 C10.4672397,0.454545455 9.1625599,1.55455588 8.90438841,3.0594462 C8.64621691,4.56433652 9.50964886,6.03637483 10.949055,6.54533469 L10.949055,8.96976769 C9.10855536,9.4450214 7.82051094,11.1024777 7.81433848,13.0035226 C7.8182209,13.3974481 7.8816318,13.7885227 8.00242147,14.1634884 L5.442403,15.678759 C4.91488677,15.3013558 4.28330399,15.0968916 3.63471649,15.093551 C1.90346038,15.093551 0.5,16.4971574 0.5,18.2285937 C0.5,19.96003 1.90346038,21.3636364 3.63471649,21.3636364 C5.3659726,21.3636364 6.76943298,19.96003 6.76943298,18.2285937 C6.76556857,17.9455397 6.72338898,17.6643131 6.64404432,17.3925823 L9.04732696,15.9609128 C10.6775361,17.5816195 13.3103848,17.5816195 14.940594,15.9609128 L17.3438766,17.3925823 C16.984854,18.6903372 17.494539,20.0724314 18.6101409,20.8262651 C19.7257428,21.5800988 21.198065,21.5372852 22.2679869,20.7198987 C23.3379089,19.9025122 23.7664376,18.4931357 23.3326262,17.2184356 C22.8988149,15.9437355 21.6995657,15.0884467 20.3532044,15.093551 L20.3532044,15.093551 Z M3.63636364,19.2727273 C3.05897503,19.2727273 2.59090909,18.8046613 2.59090909,18.2272727 C2.59090909,17.6498841 3.05897503,17.1818182 3.63636364,17.1818182 C4.21375224,17.1818182 4.68181818,17.6498841 4.68181818,18.2272727 C4.68181818,18.8046613 4.21375224,19.2727273 3.63636364,19.2727273 Z M12,2.54545455 C12.5773886,2.54545455 13.0454545,3.01352049 13.0454545,3.59090909 C13.0454545,4.16829769 12.5773886,4.63636364 12,4.63636364 C11.4226114,4.63636364 10.9545455,4.16829769 10.9545455,3.59090909 C10.9545455,3.01352049 11.4226114,2.54545455 12,2.54545455 Z M12,15.0909091 C10.8452228,15.0909091 9.90909091,14.1547772 9.90909091,13 C9.90909091,11.8452228 10.8452228,10.9090909 12,10.9090909 C13.1547772,10.9090909 14.0909091,11.8452228 14.0909091,13 C14.0909091,14.1547772 13.1547772,15.0909091 12,15.0909091 Z M20.3636364,19.2727273 C19.7862478,19.2727273 19.3181818,18.8046613 19.3181818,18.2272727 C19.3181818,17.6498841 19.7862478,17.1818182 20.3636364,17.1818182 C20.941025,17.1818182 21.4090909,17.6498841 21.4090909,18.2272727 C21.4090909,18.8046613 20.941025,19.2727273 20.3636364,19.2727273 Z" id="Shape"></path> </g> </g> </g> </svg>',sideBySide:'<svg id="sideBySide" viewBox="0 0 24 25" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M22,6.94 C21.9895837,6.8481349 21.9694716,6.75763058 21.94,6.67 L21.94,6.58 C21.8919189,6.47717975 21.8277838,6.38266483 21.75,6.3 L21.75,6.3 L15.75,0.3 L15.75,0.3 C15.6673352,0.222216205 15.5728202,0.158081081 15.47,0.11 L15.38,0.11 C15.2784148,0.0517413546 15.1662233,0.0143442038 15.05,0 L9,0 C7.34314575,0 6,1.34314575 6,3 L6,17 C6,18.6568542 7.34314575,20 9,20 L19,20 C20.6568542,20 22,18.6568542 22,17 L22,7 C22,7 22,7 22,6.94 Z M3,8 C3.55228475,8 4,8.44771525 4,9 L4,9 L4,19 C4,20.6568542 5.34314575,22 7,22 L7,22 L15,22 C15.5522847,22 16,22.4477153 16,23 C16,23.5522847 15.5522847,24 15,24 L15,24 L7,24 C4.23857625,24 2,21.7614237 2,19 L2,19 L2,9 C2,8.44771525 2.44771525,8 3,8 Z M16,3.41 L18.59,6 L17,6 C16.4477153,6 16,5.55228475 16,5 L16,3.41 Z M20,17 C20,17.5522847 19.5522847,18 19,18 L9,18 C8.44771525,18 8,17.5522847 8,17 L8,3 C8,2.44771525 8.44771525,2 9,2 L14,2 L14,5 C14,6.65685425 15.3431458,8 17,8 L20,8 L20,17 Z"></path></svg>',designRipple:'<svg id="designRipple" viewBox="0 0 24 25" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M1.14285714,8.41142857 L11.4285714,14.3542857 C11.7821727,14.5584375 12.2178273,14.5584375 12.5714195,14.3542857 L22.8571429,8.41142857 C23.2086223,8.20851166 23.4261218,7.83441264 23.4285805,7.42857143 C23.4301989,7.01864599 23.2121534,6.63924682 22.8571429,6.43428571 L12.5714195,0.502857143 C12.2178273,0.298705377 11.7821727,0.298705377 11.4285714,0.502857143 L1.14285714,6.43428571 C0.787846637,6.63924682 0.569801136,7.01864599 0.571419525,7.42857143 C0.573878241,7.83441264 0.791377673,8.20851166 1.14285714,8.41142857 Z M12,2.85714286 L20,7.42857143 L12,12 L4,7.42857143 L12,2.85714286 Z M21.7142857,11.0514286 L12,16.5714286 L2.28571429,11.0057143 C2.02225859,10.8530914 1.70879281,10.8119043 1.41485296,10.8912895 C1.12091312,10.9706748 0.870801394,11.1640689 0.72,11.4285714 C0.409841938,11.9748333 0.598701238,12.6690189 1.14285714,12.9828571 L11.4285714,18.9257143 C11.7821727,19.1298661 12.2178273,19.1298661 12.5714286,18.9257143 L22.8571429,12.9828571 C23.4012988,12.6690189 23.5901581,11.9748333 23.28,11.4285714 C23.1291986,11.1640689 22.8790869,10.9706748 22.585147,10.8912895 C22.2912072,10.8119043 21.9777414,10.8530914 21.7142857,11.0057143 L21.7142857,11.0514286 Z M21.7142857,15.6228571 L12,21.1428571 L2.28571429,15.5771429 C2.02225859,15.42452 1.70879281,15.3833329 1.41485296,15.4627181 C1.12091312,15.5421033 0.870801394,15.7354975 0.72,16 C0.409841938,16.5462619 0.598701238,17.2404475 1.14285714,17.5542857 L11.4285714,23.4971429 C11.7821727,23.7012946 12.2178273,23.7012946 12.5714286,23.4971429 L22.8571429,17.5542857 C23.4012988,17.2404475 23.5901581,16.5462619 23.28,16 C23.1291986,15.7354975 22.8790869,15.5421033 22.585147,15.4627181 C22.2912072,15.3833329 21.9777414,15.42452 21.7142857,15.5771429 L21.7142857,15.6228571 Z" id="path-dr"></path> </defs> <g id="Templates" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Template-Dashboard-" transform="translate(-20.000000, -359.000000)"> <g id="Icons/DesignRipple" transform="translate(20.000000, 359.320000)"> <use fill="url(#linearGradient-1)" xlink:href="#path-dr"></use> </g> </g> </g> </svg>',ingestion:'<svg id="ingestion" viewBox="0 0 24 25" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <path d="M8.052,6.84601622 L10.8,4.08601622 L10.8,15.5940162 C10.8,16.2567579 11.3372583,16.7940162 12,16.7940162 C12.6627417,16.7940162 13.2,16.2567579 13.2,15.5940162 L13.2,4.08601622 L15.948,6.84601622 C16.1733199,7.0731914 16.480035,7.20097421 16.8,7.20097421 C17.119965,7.20097421 17.4266801,7.0731914 17.652,6.84601622 C17.8791752,6.6206963 18.006958,6.31398126 18.006958,5.99401622 C18.006958,5.67405117 17.8791752,5.36733614 17.652,5.14201622 L12.852,0.342016216 C12.7378755,0.232767461 12.6033016,0.147129482 12.456,0.0900162163 C12.1638464,-0.0300054054 11.8361536,-0.0300054054 11.544,0.0900162163 C11.3966984,0.147129482 11.2621245,0.232767461 11.148,0.342016216 L6.348,5.14201622 C6.04360971,5.4464065 5.92473177,5.890065 6.03614634,6.30586987 C6.14756092,6.72167473 6.47234149,7.0464553 6.88814635,7.15786987 C7.30395121,7.26928445 7.74760972,7.15040651 8.052,6.84601622 Z M22.8,11.9940162 C22.1372583,11.9940162 21.6,12.5312745 21.6,13.1940162 L21.6,20.3940162 C21.6,21.0567579 21.0627417,21.5940162 20.4,21.5940162 L3.6,21.5940162 C2.9372583,21.5940162 2.4,21.0567579 2.4,20.3940162 L2.4,13.1940162 C2.4,12.5312745 1.8627417,11.9940162 1.2,11.9940162 C0.5372583,11.9940162 0,12.5312745 0,13.1940162 L0,20.3940162 C0,22.3822413 1.6117749,23.9940162 3.6,23.9940162 L20.4,23.9940162 C22.3882251,23.9940162 24,22.3822413 24,20.3940162 L24,13.1940162 C24,12.5312745 23.4627417,11.9940162 22.8,11.9940162 Z" id="path-ing"></path> </defs></svg>',settings:'<svg id="settings" viewBox="0 0 24 25" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <defs> <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="linearGradient-1"> <stop stop-color="#7F4DA0" offset="0%"></stop> <stop stop-color="#4DC2F0" offset="100%"></stop> </linearGradient> <path d="M23.1839952,9.05999997 L20.915996,8.30400022 L21.9839956,6.16800094 C22.2058724,5.70980287 22.1144839,5.16147197 21.7559957,4.8000014 L19.1999966,2.24400226 C18.8364207,1.8800597 18.2813152,1.78834662 17.819997,2.01600234 L15.6839977,3.08400198 L14.927998,0.816002742 C14.7643334,0.331397727 14.3114802,0.00380182346 13.7999984,-1.01746208e-06 L10.1999996,-1.01746208e-06 C9.68410067,-0.00132869503 9.22508646,0.327228845 9.05999997,0.816002742 L8.30400022,3.08400198 L6.16800094,2.01600234 C5.70980287,1.79412555 5.16147197,1.88551403 4.8000014,2.24400226 L2.24400226,4.8000014 C1.8800597,5.16357728 1.78834662,5.71868274 2.01600234,6.18000094 L3.08400198,8.31600022 L0.816002742,9.07199997 C0.331397727,9.23566457 0.00380182345,9.68851773 -1.01746438e-06,10.1999996 L-1.01746438e-06,13.7999984 C-0.00132869503,14.3158973 0.327228845,14.7749115 0.816002742,14.939998 L3.08400198,15.6959977 L2.01600234,17.831997 C1.79412555,18.2901951 1.88551403,18.838526 2.24400226,19.1999966 L4.8000014,21.7559957 C5.16357728,22.1199383 5.71868274,22.2116513 6.18000094,21.9839956 L8.31600022,20.915996 L9.07199997,23.1839952 C9.23708645,23.6727691 9.69610066,24.0013267 10.2119996,23.999999 L13.8119984,23.999999 C14.3278973,24.0013267 14.7869115,23.6727691 14.951998,23.1839952 L15.7079977,20.915996 L17.843997,21.9839956 C18.299045,22.200169 18.8406678,22.1090997 19.1999966,21.7559957 L21.7559957,19.1999966 C22.1199383,18.8364207 22.2116513,18.2813152 21.9839956,17.819997 L20.915996,15.6839977 L23.1839952,14.927998 C23.6686002,14.7643334 23.9961961,14.3114802 23.999999,13.7999984 L23.999999,10.1999996 C24.0013267,9.68410067 23.6727691,9.22508646 23.1839952,9.05999997 Z M21.5999958,12.9359987 L20.1599962,13.4159985 C19.4898005,13.6333904 18.9489838,14.1342961 18.6809506,14.785894 C18.4129174,15.4374919 18.4447461,16.1739537 18.7679967,16.7999974 L19.4519965,18.1679969 L18.1319969,19.4879965 L16.7999974,18.7679967 C16.1773431,18.4577847 15.4507229,18.4330023 14.8083796,18.7000697 C14.1660364,18.9671371 13.6711754,19.4997756 13.4519985,20.1599962 L12.9719987,21.5999958 L11.0639993,21.5999958 L10.5839995,20.1599962 C10.3666076,19.4898005 9.8657019,18.9489838 9.214104,18.6809506 C8.5625061,18.4129174 7.82604422,18.4447461 7.2000006,18.7679967 L5.83200106,19.4519965 L4.5120015,18.1319969 L5.23200126,16.7999974 C5.55525191,16.1739537 5.58708053,15.4374919 5.31904736,14.785894 C5.05101418,14.1342961 4.51019749,13.6333904 3.84000173,13.4159985 L2.40000221,12.9359987 L2.40000221,11.0639993 L3.84000173,10.5839995 C4.51019749,10.3666076 5.05101418,9.8657019 5.31904736,9.214104 C5.58708053,8.5625061 5.55525191,7.82604422 5.23200126,7.2000006 L4.54800149,5.86800104 L5.86800104,4.54800149 L7.2000006,5.23200126 C7.82604422,5.55525191 8.5625061,5.58708053 9.214104,5.31904736 C9.8657019,5.05101418 10.3666076,4.51019749 10.5839995,3.84000173 L11.0639993,2.40000221 L12.9359987,2.40000221 L13.4159985,3.84000173 C13.6333904,4.51019749 14.1342961,5.05101418 14.785894,5.31904736 C15.4374919,5.58708053 16.1739537,5.55525191 16.7999974,5.23200126 L18.1679969,4.54800149 L19.4879965,5.86800104 L18.7679967,7.2000006 C18.4577847,7.82265487 18.4330023,8.5492751 18.7000697,9.19161833 C18.9671371,9.83396156 19.4997756,10.3288226 20.1599962,10.5479995 L21.5999958,11.0279993 L21.5999958,12.9359987 Z M11.999999,7.2000006 C9.34903307,7.2000006 7.2000006,9.34903307 7.2000006,11.999999 C7.2000006,14.6509649 9.34903307,16.7999974 11.999999,16.7999974 C14.6509649,16.7999974 16.7999974,14.6509649 16.7999974,11.999999 C16.7999974,10.7269603 16.2942847,9.50606189 15.3941104,8.60588757 C14.4939361,7.70571326 13.2730377,7.2000006 11.999999,7.2000006 Z M11.999999,14.3999982 C10.674516,14.3999982 9.59999979,13.3254819 9.59999979,11.999999 C9.59999979,10.674516 10.674516,9.59999979 11.999999,9.59999979 C13.3254819,9.59999979 14.3999982,10.674516 14.3999982,11.999999 C14.3999982,13.3254819 13.3254819,14.3999982 11.999999,14.3999982 Z" id="path-2"></path> </defs> <g id="Templates" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Template-Dashboard-" transform="translate(-20.000000, -503.000000)"> <g id="Icons/Settings" transform="translate(20.000000, 503.320000)"> <use fill="#FFFFFF" xlink:href="#path-2"></use> <use fill="url(#linearGradient-1)" xlink:href="#path-2"></use> </g> </g> </g> </svg>',moreHorizontal:'<svg id="moreHorizontal" preserveAspectRatio="xMinYMin slice" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M6,10 C4.9,10 4,10.9 4,12 C4,13.1 4.9,14 6,14 C7.1,14 8,13.1 8,12 C8,10.9 7.1,10 6,10 Z M18,10 C16.9,10 16,10.9 16,12 C16,13.1 16.9,14 18,14 C19.1,14 20,13.1 20,12 C20,10.9 19.1,10 18,10 Z M12,10 C10.9,10 10,10.9 10,12 C10,13.1 10.9,14 12,14 C13.1,14 14,13.1 14,12 C14,10.9 13.1,10 12,10 Z" id="Shape" fill="#00A3E5" fill-rule="nonzero"></path></svg>',fullScreen:'<svg id="fullScreen" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M7,14 L5,14 L5,19 L10,19 L10,17 L7,17 L7,14 Z M5,10 L7,10 L7,7 L10,7 L10,5 L5,5 L5,10 Z M17,17 L14,17 L14,19 L19,19 L19,14 L17,14 L17,17 Z M14,5 L14,7 L17,7 L17,10 L19,10 L19,5 L14,5 Z" id="Shape" fill="#00A3E5" fill-rule="nonzero"></path> </g> </g> </g> </g> </svg>',reorder:'<svg id="reorder" viewBox="0 0 26 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M3.06551205,15 L21.4585843,15 L21.4585843,13 L3.06551205,13 L3.06551205,15 Z M3.06551205,19 L21.4585843,19 L21.4585843,17 L3.06551205,17 L3.06551205,19 Z M3.06551205,11 L21.4585843,11 L21.4585843,9 L3.06551205,9 L3.06551205,11 Z M3.06551205,5 L3.06551205,7 L21.4585843,7 L21.4585843,5 L3.06551205,5 Z" id="Shape" fill="#00A3E5" fill-rule="nonzero"></path> </g> </g> </g> </g> </svg>',search:'<svg id="search" viewBox="0 0 25 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M22.4073092,20.3139246 L18.5820418,16.6333199 C21.6651599,12.9043519 21.205879,7.48809022 17.5360425,4.29793709 C13.866206,1.10778397 8.26582109,1.25643711 4.78132423,4.63649041 C1.29682737,8.01654372 1.14358085,13.449064 4.43230962,17.0089016 C7.72103839,20.5687392 13.3046624,21.0142537 17.1488554,18.0235483 L20.9431907,21.7041531 C21.1367911,21.8934968 21.4003282,22 21.67525,22 C21.9501718,22 22.2137088,21.8934968 22.4073092,21.7041531 C22.7936032,21.3164928 22.7936032,20.7015849 22.4073092,20.3139246 Z M11.3485149,18 C7.36003469,18 4.12673267,14.8659932 4.12673267,11 C4.12673267,7.13400675 7.36003469,4 11.3485149,4 C15.336995,4 18.570297,7.13400675 18.570297,11 C18.570297,12.8565154 17.8094329,14.6369928 16.455086,15.9497475 C15.1007391,17.2625021 13.2638506,18 11.3485149,18 Z" id="path-search"></path></svg>',filter:'<svg id="filter" viewBox="0 0 26 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M7.22178218,6 L6.19009901,6 L6.19009901,3 C6.19009901,2.44771525 5.72819872,2 5.15841584,2 C4.58863296,2 4.12673267,2.44771525 4.12673267,3 L4.12673267,6 L3.0950495,6 C2.52526662,6 2.06336634,6.44771525 2.06336634,7 C2.06336634,7.55228475 2.52526662,8 3.0950495,8 L7.22178218,8 C7.79156506,8 8.25346535,7.55228475 8.25346535,7 C8.25346535,6.44771525 7.79156506,6 7.22178218,6 Z M5.15841584,10 C4.58863296,10 4.12673267,10.4477153 4.12673267,11 L4.12673267,21 C4.12673267,21.5522847 4.58863296,22 5.15841584,22 C5.72819872,22 6.19009901,21.5522847 6.19009901,21 L6.19009901,11 C6.19009901,10.4477153 5.72819872,10 5.15841584,10 Z M12.380198,18 C11.8104151,18 11.3485149,18.4477153 11.3485149,19 L11.3485149,21 C11.3485149,21.5522847 11.8104151,22 12.380198,22 C12.9499809,22 13.4118812,21.5522847 13.4118812,21 L13.4118812,19 C13.4118812,18.4477153 12.9499809,18 12.380198,18 Z M21.6653465,10 L20.6336634,10 L20.6336634,3 C20.6336634,2.44771525 20.1717631,2 19.6019802,2 C19.0321973,2 18.570297,2.44771525 18.570297,3 L18.570297,10 L17.5386139,10 C16.968831,10 16.5069307,10.4477153 16.5069307,11 C16.5069307,11.5522847 16.968831,12 17.5386139,12 L21.6653465,12 C22.2351294,12 22.6970297,11.5522847 22.6970297,11 C22.6970297,10.4477153 22.2351294,10 21.6653465,10 Z M19.6019802,14 C19.0321973,14 18.570297,14.4477153 18.570297,15 L18.570297,21 C18.570297,21.5522847 19.0321973,22 19.6019802,22 C20.1717631,22 20.6336634,21.5522847 20.6336634,21 L20.6336634,15 C20.6336634,14.4477153 20.1717631,14 19.6019802,14 Z M14.4435644,14 L13.4118812,14 L13.4118812,3 C13.4118812,2.44771525 12.9499809,2 12.380198,2 C11.8104151,2 11.3485149,2.44771525 11.3485149,3 L11.3485149,14 L10.3168317,14 C9.7470488,14 9.28514851,14.4477153 9.28514851,15 C9.28514851,15.5522847 9.7470488,16 10.3168317,16 L14.4435644,16 C15.0133472,16 15.4752475,15.5522847 15.4752475,15 C15.4752475,14.4477153 15.0133472,14 14.4435644,14 Z" id="path-filter"></path></svg>',close:'<svg id="close" viewBox="0 0 25 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M20.9912303,3.66501104 C20.5557206,3.2394001 19.9628863,3 19.3444417,3 C18.7259972,3 18.1331629,3.2394001 17.6976532,3.66501104 L12.3861802,8.83584963 L7.0747073,3.66501104 C6.16521109,2.78344568 4.69062644,2.78344571 3.78113027,3.6650111 C2.87163409,4.54657649 2.87163406,5.97587639 3.7811302,6.85744182 L9.11579734,12.0057985 L3.7811302,17.1541552 C3.34203456,17.5762903 3.0950495,18.1509185 3.0950495,18.7503706 C3.0950495,19.3498226 3.34203456,19.9244508 3.7811302,20.346586 C4.2166399,20.7721969 4.80947419,21.011597 5.42791875,21.011597 C6.04636332,21.011597 6.6391976,20.7721969 7.0747073,20.346586 L12.3861802,15.1757474 L17.6976532,20.346586 C18.1331629,20.7721969 18.7259972,21.011597 19.3444417,21.011597 C19.9628863,21.011597 20.5557206,20.7721969 20.9912303,20.346586 C21.4303259,19.9244508 21.677311,19.3498226 21.677311,18.7503706 C21.677311,18.1509185 21.4303259,17.5762903 20.9912303,17.1541552 L15.6565631,12.0057985 L20.9912303,6.85744182 C21.4303259,6.4353067 21.677311,5.86067846 21.677311,5.26122643 C21.677311,4.6617744 21.4303259,4.08714616 20.9912303,3.66501104 Z" id="path-close"></path></svg>',profile:'<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M15.7133875,12.7092764 C17.7329422,11.1290677 18.5235657,8.44956553 17.6828355,6.03462029 C16.8421053,3.61967504 14.5547819,2 11.9850991,2 C9.41541638,2 7.12809299,3.61967504 6.28736276,6.03462029 C5.44663254,8.44956553 6.23725606,11.1290677 8.25681073,12.7092764 C4.81703446,14.0798266 2.41477063,17.2217521 2.00614933,20.8845286 C1.94509854,21.4364928 2.34552935,21.9331683 2.90053658,21.9938844 C3.45554381,22.0546004 3.95495751,21.6563651 4.0160083,21.1044009 C4.47288054,17.0594914 7.91240824,14.0015544 12.0051977,14.0015544 C16.0979872,14.0015544 19.5375149,17.0594914 19.9943871,21.1044009 C20.0509798,21.6130405 20.4847608,21.9969888 20.9993166,21.9938844 L21.1098588,21.9938844 C21.6581896,21.9311388 22.0530094,21.44032 21.9941968,20.8945228 C21.5836002,17.2209655 19.1678471,14.0727193 15.7133875,12.7092764 L15.7133875,12.7092764 Z M12,12 C9.790861,12 8,10.209139 8,8 C8,5.790861 9.790861,4 12,4 C14.209139,4 16,5.790861 16,8 C16,9.06086596 15.5785726,10.0782816 14.8284271,10.8284271 C14.0782816,11.5785726 13.060866,12 12,12 Z" id="path-profile"></path></svg>',leftArrow:'<svg id="leftArrow" viewBox="0 0 26 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <path d="M16.0323564,11.29 L10.1930297,5.64 C9.99931406,5.45068735 9.73562011,5.34420168 9.46053465,5.34420168 C9.1854492,5.34420168 8.92175524,5.45068735 8.7280396,5.64 C8.3280317,6.03003745 8.3280317,6.65996255 8.7280396,7.05 L13.8348713,12.05 L8.7280396,17 C8.3280317,17.3900375 8.3280317,18.0199625 8.7280396,18.41 C8.92103806,18.6008556 9.18482156,18.7088906 9.46053465,18.71 C9.73624775,18.7088906 10.0000313,18.6008556 10.1930297,18.41 L16.0323564,12.76 C16.2440694,12.5706844 16.3644892,12.3041989 16.3644892,12.025 C16.3644892,11.7458011 16.2440694,11.4793156 16.0323564,11.29 Z></path><use id="leftArrow" transform="translate(12.396261, 12.027101) scale(-1, 1) translate(-12.396261, -12.027101) " xlink:href="#leftArrow"></use></svg>',rightArrow:'<svg id="rightArrow" viewBox="0 0 26 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M16.0323564,11.29 L10.1930297,5.64 C9.99931406,5.45068735 9.73562011,5.34420168 9.46053465,5.34420168 C9.1854492,5.34420168 8.92175524,5.45068735 8.7280396,5.64 C8.3280317,6.03003745 8.3280317,6.65996255 8.7280396,7.05 L13.8348713,12.05 L8.7280396,17 C8.3280317,17.3900375 8.3280317,18.0199625 8.7280396,18.41 C8.92103806,18.6008556 9.18482156,18.7088906 9.46053465,18.71 C9.73624775,18.7088906 10.0000313,18.6008556 10.1930297,18.41 L16.0323564,12.76 C16.2440694,12.5706844 16.3644892,12.3041989 16.3644892,12.025 C16.3644892,11.7458011 16.2440694,11.4793156 16.0323564,11.29 Z"></path></svg>',circle:'<svg id="circle" viewBox="0 0 24 24"><circle cx="12" cy="12" r="12" /> </svg>'};let bd=(()=>{class t{constructor(t,e){this.element=t,this.renderer=e}set name(t){this.element.nativeElement.innerHTML=yd[t]||null}ngOnInit(){this.renderer.setAttribute(this.element.nativeElement,"id","lib-icon")}}return t.\u0275fac=function(e){return new(e||t)(Po(Ra),Po(Va))},t.\u0275cmp=Dt({type:t,selectors:[["lib-icons"]],inputs:{name:"name"},decls:0,vars:0,template:function(t,e){},styles:[nd]}),t})(),xd=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["lib-button"]],inputs:{buttonType:"buttonType",buttonText:"buttonText",iconName:"iconName",dropdownName:"dropdownName",dropdownId:"dropdownId",dropdownPlaceholder:"dropdownPlaceholder"},decls:3,vars:3,consts:[[4,"ngIf"],[1,"btn-icon",3,"name"],[1,"btn","btn-dropdown",3,"name","id"],["value","1"],["value","2"],["value","3"],["value","4"]],template:function(t,e){1&t&&(Ro(0,id,3,1,"span",0),Ro(1,od,3,1,"span",0),Ro(2,ad,7,3,"span",0)),2&t&&(Vo("ngIf","text"==e.buttonType),si(1),Vo("ngIf","icon"==e.buttonType),si(1),Vo("ngIf","dropdown"==e.buttonType))},directives:[ou,bd,Ic,Rc],styles:[nd]}),t})(),wd=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["lib-navbar-dashboard"]],inputs:{navlinks:"navlinks",userPic:"userPic",userLink:"userLink"},decls:5,vars:1,consts:[[1,"navbar-dashboard"],["name","uv-logo"],[1,"navbar-dashboard__navlinks-flexbox"],[1,"navbar-dashboard__divider"],["class","navlink-wrapper",4,"ngFor","ngForOf"],[1,"navlink-wrapper"],[3,"href"],[1,"navbar-dashboard__svg-nav",3,"name"]],template:function(t,e){1&t&&(Do(0,"div",0),Zo(1,"lib-icons",1),Do(2,"div",2),Zo(3,"div",3),Ro(4,sd,3,2,"span",4),Bo(),Bo()),2&t&&(si(4),Vo("ngForOf",e.navlinks))},directives:[bd,ru],styles:[nd]}),t})(),Cd=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["lib-header-dashboard"]],inputs:{headerText:"headerText",iconName:"iconName",profileBtnClicked:"profileBtnClicked",helpBtnClicked:"helpBtnClicked"},ngContentSelectors:rd,decls:12,vars:2,consts:[[1,"header-dashboard"],[1,"header-dashboard__heading-container"],[1,"header-dashboard__icon-wrapper"],[1,"svg-gray",3,"name"],[1,"header"],[1,"header-dashboard__button-wrapper"],["buttonType","text","buttonText","?",1,"header-dashboard__help-button",3,"click"],["buttonType","icon","iconName","profile",1,"header-dashboard__icon-position","svg-blue",3,"click"]],template:function(t,e){1&t&&(Jo(),Do(0,"div",0),Do(1,"div",1),Do(2,"span",2),Zo(3,"lib-icons",3),Bo(),Do(4,"h1",4),la(5),Bo(),Bo(),Do(6,"div",1),Qo(7),Do(8,"span",5),Do(9,"lib-button",6),Uo("click",function(){return e.helpBtnClicked()}),Bo(),Bo(),Do(10,"span",5),Do(11,"lib-button",7),Uo("click",function(){return e.profileBtnClicked()}),Bo(),Bo(),Bo(),Bo()),2&t&&(si(3),qo("name",e.iconName),si(2),ua(e.headerText))},directives:[bd,xd],styles:[nd]}),t})(),Ad=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["lib-navbar-dashboard-sub"]],inputs:{snippets:"snippets",headingTxt:"headingTxt",subHeadingTxt:"subHeadingTxt",snippetTxt:"snippetTxt",snippetHeading:"snippetHeading",snippetClicked:"snippetClicked"},decls:14,vars:3,consts:[[1,"navbar-dashboard-sub"],[1,"navbar-dashboard-sub__heading-container"],[1,"navbar-dashboard-sub__text-container"],[1,"heading-2"],[1,"subheading"],["buttonType","icon","iconName","moreHorizontal",1,"svg-blue","navbar-dashboard-sub__icon"],[1,"divider"],[1,"navbar-dashboard-sub__snippets-scrollbar-padding"],[1,"navbar-dashboard-sub__snippets-flexbox"],[1,"navbar-dashboard-sub__snippets-flexbox__spacer"],[1,"navbar-dashboard-sub__snippets-flexbox__scrollbar-cover"],["class","navbar-dashboard-sub__snippet-wrapper",3,"click",4,"ngFor","ngForOf"],[1,"navbar-dashboard-sub__snippet-wrapper",3,"click"],[1,"navbar-dashboard-sub__snippet-container"],[1,"navbar-dashboard-sub__snippet-container--icon-box"],[1,"svg-gray-small",3,"name"],[1,"navbar-dashboard-sub__snippet-container--textbox"]],template:function(t,e){1&t&&(Do(0,"div",0),Do(1,"div",1),Do(2,"div",2),Do(3,"p",3),la(4),Bo(),Do(5,"p",4),la(6),Bo(),Bo(),Zo(7,"lib-button",5),Bo(),Zo(8,"div",6),Do(9,"div",7),Do(10,"div",8),Zo(11,"div",9),Zo(12,"div",10),Ro(13,ld,9,3,"div",11),Bo(),Bo(),Bo()),2&t&&(si(4),ua(e.headingTxt),si(2),ua(e.subHeadingTxt),si(7),Vo("ngForOf",e.snippets))},directives:[xd,ru,bd],styles:[nd]}),t})(),_d=(()=>{class t{constructor(){this.data=""}ngOnInit(){}expandFiltersContainer(){return this.expanded=!this.expanded,this.expanded}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["lib-search-panel"]],inputs:{clearBtnClicked:"clearBtnClicked",expandFiltersClicked:"expandFiltersClicked",filterRemoveClicked:"filterRemoveClicked",searchBtnClicked:"searchBtnClicked",rightArrowBtnClicked:"rightArrowBtnClicked",filterBtnClicked:"filterBtnClicked"},decls:15,vars:4,consts:[[1,"search-panel"],[1,"search-panel__icon-search-container"],["buttonType","icon","id","search-button","iconName","search",1,"svg-black",3,"click"],["type","text","placeholder","Search...",1,"search-panel__input",3,"ngModel","ngModelChange"],["id","search-panel-filters-container",1,"search-panel__filters-container",3,"ngClass"],[1,"search-panel__icon-arrow-left"],["buttonType","icon","id","leftArrow-button","iconName","leftArrow",1,"svg-gray",3,"click"],["expandedFiltersTemplate",""],[1,"search-panel__icon-container"],["buttonType","icon","iconName","close",1,"svg-gray",3,"click"],["buttonType","icon","iconName","filter",1,"svg-blue",3,"click"],["buttonType","icon","iconName","rightArrow",1,"svg-gray",3,"click"],[1,"expanded-filters-container","border","input-group","input-group-sm","w-100"],[1,"expanded-filters"],[3,"filters","click"]],template:function(t,e){var n,r;1&t&&(Do(0,"div",0),Do(1,"span",1),Do(2,"lib-button",2),Uo("click",function(){return e.searchBtnClicked()}),Bo(),Bo(),Do(3,"input",3),Uo("ngModelChange",function(t){return e.data=t}),Bo(),Do(4,"div",4),Do(5,"span",5),Do(6,"lib-button",6),Uo("click",function(){return e.expandFiltersContainer(),e.expandFiltersClicked()}),Bo(),Bo(),Ro(7,ud,3,1,"ng-template",null,7,Rs),Do(9,"span",8),Do(10,"lib-button",9),Uo("click",function(){return e.clearBtnClicked()}),Bo(),Bo(),Do(11,"span",8),Do(12,"lib-button",10),Uo("click",function(){return e.filterBtnClicked(),e.shortFilters()}),Bo(),Bo(),Do(13,"span",8),Do(14,"lib-button",11),Uo("click",function(){return e.rightArrowBtnClicked()}),Bo(),Bo(),Bo(),Bo()),2&t&&(si(3),Vo("ngModel",e.data),si(1),Vo("ngClass",(2,n=cd,r=e.expanded,Is(ke(),De(),2,n,r,undefined))))},directives:function(){return[xd,$u,yc,$c,eu,Ed]},styles:[nd]}),t})(),Md=(()=>{class t{constructor(){this.iconClick=new Os,this.mouseOver=new Os,this.mouseLeave=new Os}onIconClick(t){this.iconClick.emit(t)}onMouseOver(){this.mouseOver.emit()}onMouseLeave(){this.mouseLeave.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["lib-badge"]],inputs:{badgeText:"badgeText",badgeTitle:"badgeTitle",badgeCSSClasses:"badgeCSSClasses",iconType:"iconType",iconTitle:"iconTitle",isDisabled$:"isDisabled$"},outputs:{iconClick:"iconClick",mouseOver:"mouseOver",mouseLeave:"mouseLeave"},decls:6,vars:8,consts:[[3,"ngClass","mouseover","mouseleave"],[1,"text-part"],[4,"ngIf"]],template:function(t,e){1&t&&(Do(0,"div",0),Uo("mouseover",function(){return e.onMouseOver()})("mouseleave",function(){return e.onMouseLeave()}),Ts(1,"async"),Do(2,"div",1),Do(3,"span"),la(4),Bo(),Bo(),Ro(5,dd,2,0,"ng-container",2),Bo()),2&t&&(ra("badge-unselected",Ls(1,6,e.isDisabled$)),Vo("ngClass",e.badgeCSSClasses),Lo("title",e.badgeTitle),si(4),ua(e.badgeText),si(1),Vo("ngIf",e.iconType))},directives:[eu,ou,bd],pipes:[fu],styles:[nd],changeDetection:0}),t})(),Ed=(()=>{class t{constructor(){this.removeClick=new Os}onRemoveClick(t,e){this.removeClick.emit({filterName:t,concept:e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["lib-filters-list"]],inputs:{filters:"filters",filterCSSClasses:"filterCSSClasses"},outputs:{removeClick:"removeClick"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["iconTitle","Remove concept","iconType","close",3,"badgeCSSClasses","badgeTitle","badgeText","iconClick"]],template:function(t,e){1&t&&Ro(0,pd,3,3,"ng-container",0),2&t&&Vo("ngForOf",e.filters)},directives:[ru,Md],pipes:[hu],styles:[nd]}),t})(),kd=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["lib-home-container"]],ngContentSelectors:rd,decls:2,vars:0,consts:[[1,"home-container"]],template:function(t,e){1&t&&(Jo(),Do(0,"div",0),Qo(1),Bo())},styles:[nd]}),t})(),Sd=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["lib-side-by-side-landing"]],inputs:{loadTask:"loadTask",tasks:"tasks",addTaskClicked:"addTaskClicked",switchFilterClicked:"switchFilterClicked"},decls:8,vars:1,consts:[[1,"compare-tasks-header-container"],[1,"heading-4"],["buttonType","text","buttonText","+",1,"btn","btn-round","btn-add-task","margin-right-md",3,"click"],["buttonType","dropdown","dropdownPlaceholder","Switch filter","buttonText","Switch filter",3,"click"],[1,"tasks-container"],["class","compare-task-box",3,"click",4,"ngFor","ngForOf"],[1,"compare-task-box",3,"click"],[1,"btn","btn-chip","margin-bottom-md"],[1,"txt-sm","bold","margin-bottom-sm"],[1,"txt-sm","margin-bottom-md"],[1,"chip-date"]],template:function(t,e){1&t&&(Do(0,"div",0),Do(1,"p",1),la(2,"Comparison Tasks"),Bo(),Do(3,"div"),Do(4,"lib-button",2),Uo("click",function(){return e.addTaskClicked()}),Bo(),Do(5,"lib-button",3),Uo("click",function(){return e.switchFilterClicked()}),Bo(),Bo(),Bo(),Do(6,"div",4),Ro(7,gd,9,4,"div",5),Bo()),2&t&&(si(7),Vo("ngForOf",e.tasks))},directives:[xd,ru],styles:[nd]}),t})(),Id=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["lib-app-side-bar"]],inputs:{titleText:"titleText",descriptionText:"descriptionText",tabs:"tabs"},decls:10,vars:3,consts:[[1,"box","app-side-bar"],[1,"app-side-bar__top-content"],["buttonType","text","buttonText","Back",1,"btn","btn-blue","margin-bottom-lg"],[1,"heading-4","margin-bottom-lg"],[1,"txt-sm","margin-bottom-lg"],[1,"divider"],[1,"app-side-bar__bottom-content"],["class","tab",4,"ngFor","ngForOf"],[1,"tab"],[1,"svg-black","margin-right-sm",3,"name"],[3,"href"]],template:function(t,e){1&t&&(Do(0,"div",0),Do(1,"div",1),Zo(2,"lib-button",2),Do(3,"p",3),la(4),Bo(),Do(5,"p",4),la(6),Bo(),Bo(),Zo(7,"div",5),Do(8,"div",6),Ro(9,vd,5,3,"div",7),Bo(),Bo()),2&t&&(si(4),ua(e.titleText),si(2),ua(e.descriptionText),si(3),Vo("ngForOf",e.tabs))},directives:[xd,ru,bd],styles:[nd]}),t})(),Td=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["lib-app-bar"]],decls:5,vars:0,consts:[[1,"box","app-bar"],[1,"tags-container"],[1,"container-right"],["buttonType","icon","iconName","fullScreen",1,"svg-blue"],["buttonType","icon","iconName","moreHorizontal",1,"svg-blue"]],template:function(t,e){1&t&&(Do(0,"div",0),Zo(1,"div",1),Do(2,"div",2),Zo(3,"lib-button",3),Zo(4,"lib-button",4),Bo(),Bo())},directives:[xd],styles:[nd]}),t})(),Ld=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=st({factory:function(e){return new(e||t)},imports:[[gu,ed]]}),t})();function Od(...t){let e=t[t.length-1];return M(e)?(t.pop(),V(t,e)):N(t)}class Rd extends A{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value}next(t){super.next(this._value=t)}}class Pd extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Vd extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function Fd(t,e,n,r,i=new Vd(t,n,r)){if(!i.closed)return e instanceof y?e.subscribe(i):P(e)(i)}const Dd={};class Bd{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Zd(t,this.resultSelector))}}class Zd extends Pd{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Dd),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Fd(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Dd?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Gd=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function zd(...t){return Y(1)(Od(...t))}const jd=new y(t=>t.complete());function Yd(t){return t?function(t){return new y(e=>t.schedule(()=>e.complete()))}(t):jd}function Nd(t){return new y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?F(n):Yd()).subscribe(e)})}function Ud(t,e){return"function"==typeof e?n=>n.pipe(Ud((n,r)=>F(t(n,r)).pipe(E((t,i)=>e(n,t,r,i))))):e=>e.lift(new Wd(t))}class Wd{constructor(t){this.project=t}call(t,e){return e.subscribe(new Xd(t,this.project))}}class Xd extends B{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new D(this),r=this.destination;r.add(n),this.innerSubscription=Z(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Hd=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Kd(t){return e=>0===t?Yd():e.lift(new Jd(t))}class Jd{constructor(t){if(this.total=t,this.total<0)throw new Hd}call(t,e){return e.subscribe(new Qd(t,this.total))}}class Qd extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function qd(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new $d(t,e,n))}}class $d{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new tf(t,this.accumulator,this.seed,this.hasSeed))}}class tf extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ef(t,e){return function(n){return n.lift(new nf(t,e))}}class nf{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new rf(t,this.predicate,this.thisArg))}}class rf extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function of(t){return function(e){const n=new af(t),r=e.lift(n);return n.caught=r}}class af{constructor(t){this.selector=t}call(t,e){return e.subscribe(new sf(t,this.selector,this.caught))}}class sf extends B{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new D(this);this.add(r);const i=Z(n,r);i!==r&&this.add(i)}}}function lf(t,e){return G(t,e,1)}function uf(t){return function(e){return 0===t?Yd():e.lift(new cf(t))}}class cf{constructor(t){if(this.total=t,this.total<0)throw new Hd}call(t,e){return e.subscribe(new df(t,this.total))}}class df extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ff(t=gf){return e=>e.lift(new hf(t))}class hf{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new pf(t,this.errorFactory))}}class pf extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function gf(){return new Gd}function vf(t=null){return e=>e.lift(new mf(t))}class mf{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new yf(t,this.defaultValue))}}class yf extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function bf(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ef((e,n)=>t(e,n,r)):m,Kd(1),n?vf(e):ff(()=>new Gd))}function xf(){}function wf(t,e,n){return function(r){return r.lift(new Cf(t,e,n))}}class Cf{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Af(t,this.nextOrObserver,this.error,this.complete))}}class Af extends p{constructor(t,e,n,i){super(t),this._tapNext=xf,this._tapError=xf,this._tapComplete=xf,this._tapError=n||xf,this._tapComplete=i||xf,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||xf,this._tapError=e.error||xf,this._tapComplete=e.complete||xf)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class _f{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Mf(t,this.callback))}}class Mf extends p{constructor(t,e){super(t),this.add(new d(e))}}class Ef{constructor(t,e){this.id=t,this.url=e}}class kf extends Ef{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sf extends Ef{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class If extends Ef{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tf extends Ef{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lf extends Ef{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Of extends Ef{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rf extends Ef{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pf extends Ef{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vf extends Ef{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ff{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Df{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bf{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zf{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gf{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zf{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jf{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Yf="primary";class Nf{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Uf(t){return new Nf(t)}function Wf(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Xf(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Hf(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Kf(t[i],e[i]))return!1;return!0}function Kf(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Jf(t){return Array.prototype.concat.apply([],t)}function Qf(t){return t.length>0?t[t.length-1]:null}function qf(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function $f(t){return No(t)?t:Yo(t)?F(Promise.resolve(t)):Od(t)}function th(t,e,n){return n?function(t,e){return Hf(t,e)}(t.queryParams,e.queryParams)&&eh(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Kf(t[n],e[n]))}(t.queryParams,e.queryParams)&&nh(t.root,e.root)}function eh(t,e){if(!sh(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!eh(t.children[n],e.children[n]))return!1}return!0}function nh(t,e){return rh(t,e,e.segments)}function rh(t,e,n){if(t.segments.length>n.length)return!!sh(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!sh(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!nh(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!sh(t.segments,r)&&!!t.children.primary&&rh(t.children.primary,e,i)}}class ih{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uf(this.queryParams)),this._queryParamMap}toString(){return ch.serialize(this)}}class oh{constructor(t,e){this.segments=t,this.children=e,this.parent=null,qf(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dh(this)}}class ah{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Uf(this.parameters)),this._parameterMap}toString(){return yh(this)}}function sh(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class lh{}class uh{parse(t){const e=new Ah(t);return new ih(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+fh(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${ph(e)}=${ph(t)}`).join("&"):`${ph(e)}=${ph(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const ch=new uh;function dh(t){return t.segments.map(t=>yh(t)).join("/")}function fh(t,e){if(!t.hasChildren())return dh(t);if(e){const e=t.children.primary?fh(t.children.primary,!1):"",n=[];return qf(t.children,(t,e)=>{e!==Yf&&n.push(`${e}:${fh(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return qf(t.children,(t,r)=>{r===Yf&&(n=n.concat(e(t,r)))}),qf(t.children,(t,r)=>{r!==Yf&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Yf?[fh(t.children.primary,!1)]:[`${n}:${fh(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${dh(t)}/${e[0]}`:`${dh(t)}/(${e.join("//")})`}}function hh(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ph(t){return hh(t).replace(/%3B/gi,";")}function gh(t){return hh(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vh(t){return decodeURIComponent(t)}function mh(t){return vh(t.replace(/\+/g,"%20"))}function yh(t){return`${gh(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${gh(t)}=${gh(e[t])}`).join("")}`;var e}const bh=/^[^\/()?;=#]+/;function xh(t){const e=t.match(bh);return e?e[0]:""}const wh=/^[^=?&#]+/,Ch=/^[^?&#]+/;class Ah{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new oh([],{}):new oh([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new oh(t,e)),n}parseSegment(){const t=xh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ah(vh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=xh(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=xh(this.remaining);t&&(n=t,this.capture(n))}t[vh(e)]=vh(n)}parseQueryParam(t){const e=function(t){const e=t.match(wh);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ch);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=mh(e),i=mh(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=xh(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Yf);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new oh([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class _h{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Mh(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Mh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Eh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Eh(t,this._root).map(t=>t.value)}}function Mh(t,e){if(t===e.value)return e;for(const n of e.children){const e=Mh(t,n);if(e)return e}return null}function Eh(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Eh(t,n);if(r.length)return r.unshift(e),r}return[]}class kh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Sh(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Ih extends _h{constructor(t,e){super(t),this.snapshot=e,Vh(this,t)}toString(){return this.snapshot.toString()}}function Th(t,e){const n=function(t,e){const n=new Rh([],{},{},"",{},Yf,e,null,t.root,-1,{});return new Ph("",new kh(n,[]))}(t,e),r=new Rd([new ah("",{})]),i=new Rd({}),o=new Rd({}),a=new Rd({}),s=new Rd(""),l=new Lh(r,i,a,s,o,Yf,e,n.root);return l.snapshot=n.root,new Ih(new kh(l,[]),n)}class Lh{constructor(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(E(t=>Uf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(E(t=>Uf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Oh(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Rh{constructor(t,e,n,r,i,o,a,s,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Uf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ph extends _h{constructor(t,e){super(e),this.url=t,Vh(this,e)}toString(){return Fh(this._root)}}function Vh(t,e){e.value._routerState=t,e.children.forEach(e=>Vh(t,e))}function Fh(t){const e=t.children.length>0?` { ${t.children.map(Fh).join(", ")} } `:"";return`${t.value}${e}`}function Dh(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Hf(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Hf(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Hf(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Hf(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Bh(t,e){var n,r;return Hf(t.params,e.params)&&sh(n=t.url,r=e.url)&&n.every((t,e)=>Hf(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Bh(t.parent,e.parent))}function Zh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Zh(t,e,r);return Zh(t,e)})}(t,e,n);return new kh(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Gh(e,t),t}{const n=new Lh(new Rd((r=e.value).url),new Rd(r.params),new Rd(r.queryParams),new Rd(r.fragment),new Rd(r.data),r.outlet,r.component,r),i=e.children.map(e=>Zh(t,e));return new kh(n,i)}}var r}function Gh(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Gh(t.children[n],e.children[n])}function zh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function jh(t){return"object"==typeof t&&null!=t&&t.outlets}function Yh(t,e,n,r,i){let o={};return r&&qf(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new ih(n.root===t?e:Nh(n.root,t,e),o,i)}function Nh(t,e,n){const r={};return qf(t.children,(t,i)=>{r[i]=t===e?n:Nh(t,e,n)}),new oh(t.segments,r)}class Uh{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&zh(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(jh);if(r&&r!==Qf(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wh{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Xh(t,e,n){if(t||(t=new oh([],{})),0===t.segments.length&&t.hasChildren())return Hh(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],a=n[r];if(jh(a))break;const s=""+a,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&l&&"object"==typeof l&&void 0===l.outlets){if(!qh(s,l,e))return o;r+=2}else{if(!qh(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new oh(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new oh(t.segments.slice(r.pathIndex),t.children),Hh(e,0,i)}return r.match&&0===i.length?new oh(t.segments,{}):r.match&&!t.hasChildren()?Kh(t,e,n):r.match?Hh(t,0,i):Kh(t,e,n)}function Hh(t,e,n){if(0===n.length)return new oh(t.segments,{});{const r=function(t){return jh(t[0])?t[0].outlets:{[Yf]:t}}(n),i={};return qf(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Xh(t.children[r],e,n))}),qf(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new oh(t.segments,i)}}function Kh(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(jh(o)){const t=Jh(o.outlets);return new oh(r,t)}if(0===i&&zh(n[0])){r.push(new ah(t.segments[e].path,n[0])),i++;continue}const a=jh(o)?o.outlets.primary:""+o,s=i<n.length-1?n[i+1]:null;a&&s&&zh(s)?(r.push(new ah(a,Qh(s))),i+=2):(r.push(new ah(a,{})),i++)}return new oh(r,{})}function Jh(t){const e={};return qf(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Kh(new oh([],{}),0,t))}),e}function Qh(t){const e={};return qf(t,(t,n)=>e[n]=""+t),e}function qh(t,e,n){return t==n.path&&Hf(e,n.parameters)}class $h{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Dh(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Sh(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),qf(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Sh(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Sh(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new zf(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Zf(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Dh(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),tp(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function tp(t){Dh(t.value),t.children.forEach(tp)}class ep{constructor(t,e){this.routes=t,this.module=e}}function np(t){return"function"==typeof t}function rp(t){return t instanceof ih}const ip=Symbol("INITIAL_VALUE");function op(){return Ud(t=>function(...t){let e=void 0,n=void 0;return M(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),N(t,n).lift(new Bd(e))}(t.map(t=>t.pipe(Kd(1),function(...t){const e=t[t.length-1];return M(e)?(t.pop(),n=>zd(t,n,e)):e=>zd(t,e)}(ip)))).pipe(qd((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ip)return t;if(r===ip&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||rp(r))return r}return t},t)},ip),ef(t=>t!==ip),E(t=>rp(t)?t:!0===t),Kd(1)))}let ap=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Zo(0,"router-outlet")},directives:function(){return[Qp]},encapsulation:2}),t})();function sp(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];lp(r,up(e,r))}}function lp(t,e){t.children&&sp(t.children,e)}function up(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function cp(t){const e=t.children&&t.children.map(cp),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Yf&&(n.component=ap),n}function dp(t){return t.outlet||Yf}function fp(t,e){const n=t.filter(t=>dp(t)===e);return n.push(...t.filter(t=>dp(t)!==e)),n}const hp={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function pp(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},hp):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Xf)(n,t,e);if(!i)return Object.assign({},hp);const o={};qf(i.posParams,(t,e)=>{o[e]=t.path});const a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function gp(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>vp(t,e,n)&&dp(n)!==Yf)}(t,n,r)){const i=new oh(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&dp(o)!==Yf){const n=new oh([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[dp(o)]=n}return i}(t,e,r,new oh(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>vp(t,e,n))}(t,n,r)){const o=new oh(t.segments,function(t,e,n,r,i,o){const a={};for(const s of r)if(vp(t,n,s)&&!i[dp(s)]){const n=new oh([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,a[dp(s)]=n}return Object.assign(Object.assign({},i),a)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new oh(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function vp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function mp(t,e,n,r){return!!(dp(t)===r||r!==Yf&&vp(e,n,t))&&("**"===t.path||pp(e,t,n).matched)}function yp(t,e,n){return 0===e.length&&!t.children[n]}class bp{constructor(t){this.segmentGroup=t||null}}class xp{constructor(t){this.urlTree=t}}function wp(t){return new y(e=>e.error(new bp(t)))}function Cp(t){return new y(e=>e.error(new xp(t)))}function Ap(t){return new y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class _p{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(fs)}apply(){const t=gp(this.urlTree.root,[],[],this.config).segmentGroup,e=new oh(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Yf).pipe(E(t=>this.createUrlTree(Mp(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(of(t=>{if(t instanceof xp)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof bp)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Yf).pipe(E(e=>this.createUrlTree(Mp(e),t.queryParams,t.fragment))).pipe(of(t=>{if(t instanceof bp)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new oh([],{[Yf]:t}):t;return new ih(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(E(t=>new oh([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return F(r).pipe(lf(r=>{const i=n.children[r],o=fp(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(E(t=>({segment:t,outlet:r})))}),qd((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ef((e,n)=>t(e,n,r)):m,uf(1),n?vf(e):ff(()=>new Gd))}())}expandSegment(t,e,n,r,i,o){return F(n).pipe(lf(a=>this.expandSegmentAgainstRoute(t,e,n,a,r,i,o).pipe(of(t=>{if(t instanceof bp)return Od(null);throw t}))),bf(t=>!!t),of((t,n)=>{if(t instanceof Gd||"EmptyError"===t.name){if(yp(e,r,i))return Od(new oh([],{}));throw new bp(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,a){return mp(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):wp(e):wp(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Cp(i):this.lineralizeSegments(n,i).pipe(G(n=>{const i=new oh(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:a,consumedSegments:s,lastChild:l,positionalParamSegments:u}=pp(e,r,i);if(!a)return wp(e);const c=this.applyRedirectCommands(s,r.redirectTo,u);return r.redirectTo.startsWith("/")?Cp(c):this.lineralizeSegments(r,c).pipe(G(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(E(t=>(n._loadedConfig=t,new oh(r,{})))):Od(new oh(r,{}));const{matched:o,consumedSegments:a,lastChild:s}=pp(e,n,r);if(!o)return wp(e);const l=r.slice(s);return this.getChildConfig(t,n,r).pipe(G(t=>{const r=t.module,o=t.routes,{segmentGroup:s,slicedSegments:u}=gp(e,a,l,o),c=new oh(s.segments,s.children);if(0===u.length&&c.hasChildren())return this.expandChildren(r,o,c).pipe(E(t=>new oh(a,t)));if(0===o.length&&0===u.length)return Od(new oh(a,{}));const d=dp(n)===i;return this.expandSegment(r,c,o,u,d?Yf:i,!0).pipe(E(t=>new oh(a.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Od(new ep(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Od(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(G(n=>n?this.configLoader.load(t.injector,e).pipe(E(t=>(e._loadedConfig=t,t))):function(t){return new y(e=>e.error(Wf(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Od(new ep([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?Od(r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&np(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!np(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return $f(o)})).pipe(op(),wf(t=>{if(!rp(t))return;const e=Wf(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),E(t=>!0===t)):Od(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Od(n);if(r.numberOfChildren>1||!r.children.primary)return Ap(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new ih(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return qf(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return qf(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new oh(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Mp(t){const e={};for(const n of Object.keys(t.children)){const r=Mp(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new oh(t.segments.concat(e.segments),e.children)}return t}(new oh(t.segments,e))}class Ep{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class kp{constructor(t,e){this.component=t,this.route=e}}function Sp(t,e,n){const r=t._root;return Tp(r,e?e._root:null,n,[r.value])}function Ip(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Tp(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Sh(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!sh(t.url,e.url);case"pathParamsOrQueryParamsChange":return!sh(t.url,e.url)||!Hf(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bh(t,e)||!Hf(t.queryParams,e.queryParams);case"paramsChange":default:return!Bh(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ep(r)):(o.data=a.data,o._resolvedData=a._resolvedData),Tp(t,e,o.component?s?s.children:null:n,r,i),l&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new kp(s.outlet.component,a))}else a&&Lp(e,s,i),i.canActivateChecks.push(new Ep(r)),Tp(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),qf(o,(t,e)=>Lp(t,n.getContext(e),i)),i}function Lp(t,e,n){const r=Sh(t),i=t.value;qf(r,(t,r)=>{Lp(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new kp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Op{}function Rp(t){return new y(e=>e.error(t))}class Pp{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=gp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Yf);if(null===e)return null;const n=new Rh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Yf,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new kh(n,e),i=new Ph(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Oh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=fp(t,i),a=this.processSegmentGroup(o,r,i);if(null===a)return null;n.push(...a)}const r=function(t){const e=[];for(const n of t){if(!Vp(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Yf?-1:e.value.outlet===Yf?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return yp(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!mp(t,e,n,r))return null;let i,o=[],a=[];if("**"===t.path){const r=n.length>0?Qf(n).parameters:{};i=new Rh(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bp(t),dp(t),t.component,t,Fp(e),Dp(e)+n.length,Zp(t))}else{const r=pp(e,t,n);if(!r.matched)return null;o=r.consumedSegments,a=n.slice(r.lastChild),i=new Rh(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bp(t),dp(t),t.component,t,Fp(e),Dp(e)+o.length,Zp(t))}const s=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:u}=gp(e,o,a,s.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const t=this.processChildren(s,l);return null===t?null:[new kh(i,t)]}if(0===s.length&&0===u.length)return[new kh(i,[])];const c=dp(t)===r,d=this.processSegment(s,l,u,c?Yf:r);return null===d?null:[new kh(i,d)]}}function Vp(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Fp(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Dp(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Bp(t){return t.data||{}}function Zp(t){return t.resolve||{}}function Gp(t){return Ud(e=>{const n=t(e);return n?F(n).pipe(E(()=>e)):Od(e)})}class zp extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const jp=new Bn("ROUTES");class Yp{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(E(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new ep(Jf(r.injector.get(jp)).map(cp),r)}))}loadModuleFactory(t){return"string"==typeof t?F(this.loader.load(t)):$f(t()).pipe(G(t=>t instanceof hs?Od(t):F(this.compiler.compileModuleAsync(t))))}}class Np{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Up,this.attachRef=null}}class Up{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Np,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Wp{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Xp(t){throw t}function Hp(t,e,n){return e.parse("/")}function Kp(t,e){return Od(null)}let Jp=(()=>{class t{constructor(t,e,n,r,i,o,a,s){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=s,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new A,this.errorHandler=Xp,this.malformedUriErrorHandler=Hp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Kp,afterPreactivation:Kp},this.urlHandlingStrategy=new Wp,this.routeReuseStrategy=new zp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=i.get(fs),this.console=i.get(js);const l=i.get(el);this.isNgZoneEnabled=l instanceof el&&el.isInAngularZone(),this.resetConfig(s),this.currentUrlTree=new ih(new oh([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Yp(o,a,t=>this.triggerEvent(new Ff(t)),t=>this.triggerEvent(new Df(t))),this.routerState=Th(this.currentUrlTree,this.rootComponentType),this.transitions=new Rd({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ef(t=>0!==t.id),E(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Ud(t=>{let n=!1,r=!1;return Od(t).pipe(wf(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ud(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Od(t).pipe(Ud(t=>{const n=this.transitions.getValue();return e.next(new kf(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?jd:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,a=this.config,Ud(t=>function(t,e,n,r,i){return new _p(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(E(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),wf(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return G(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const a=new Pp(t,e,n,r,i,o).recognize();return null===a?Rp(new Op):Od(a)}catch(a){return Rp(a)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(E(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),wf(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Lf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:a}=t,s=new kf(n,this.serializeUrl(r),i,o);e.next(s);const l=Th(r,this.rootComponentType).snapshot;return Od(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),jd}),Gp(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:a}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!a})}),wf(t=>{const e=new Of(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),E(t=>Object.assign(Object.assign({},t),{guards:Sp(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return G(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return 0===a.length&&0===o.length?Od(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return F(t).pipe(G(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Od(o.map(o=>{const a=Ip(o,e,i);let s;if(function(t){return t&&np(t.canDeactivate)}(a))s=$f(a.canDeactivate(t,e,n,r));else{if(!np(a))throw new Error("Invalid CanDeactivate guard");s=$f(a(t,e,n,r))}return s.pipe(bf())})).pipe(op()):Od(!0)}(t.component,t.route,n,e,r)),bf(t=>!0!==t,!0))}(a,r,i,t).pipe(G(n=>n&&"boolean"==typeof n?function(t,e,n,r){return F(e).pipe(lf(e=>zd(function(t,e){return null!==t&&e&&e(new Bf(t)),Od(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Gf(t)),Od(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Nd(()=>Od(e.guards.map(i=>{const o=Ip(i,e.node,n);let a;if(function(t){return t&&np(t.canActivateChild)}(o))a=$f(o.canActivateChild(r,t));else{if(!np(o))throw new Error("Invalid CanActivateChild guard");a=$f(o(r,t))}return a.pipe(bf())})).pipe(op())));return Od(i).pipe(op())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Od(r.map(r=>Nd(()=>{const i=Ip(r,e,n);let o;if(function(t){return t&&np(t.canActivate)}(i))o=$f(i.canActivate(e,t));else{if(!np(i))throw new Error("Invalid CanActivate guard");o=$f(i(e,t))}return o.pipe(bf())}))).pipe(op()):Od(!0)}(t,e.route,n))),bf(t=>!0!==t,!0))}(r,o,t,e):Od(n)),E(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),wf(t=>{if(rp(t.guardsResult)){const e=Wf(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Rf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ef(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new If(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Gp(t=>{if(t.guards.canActivateChecks.length)return Od(t).pipe(wf(t=>{const e=new Pf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Ud(t=>{let n=!1;return Od(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,G(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Od(t);let o=0;return F(n).pipe(lf(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Od({});const o={};return F(i).pipe(G(i=>function(t,e,n,r){const i=Ip(t,e,r);return $f(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(wf(t=>{o[i]=t}))),uf(1),G(()=>Object.keys(o).length===i.length?Od(o):jd))}(t._resolve,t,e,r).pipe(E(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Oh(t,n).resolve),null)))}(t.route,e,r,i)),wf(()=>o++),uf(1),G(e=>o===n.length?Od(t):jd))})),wf({next:()=>n=!0,complete:()=>{if(!n){const n=new If(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),wf(t=>{const e=new Vf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Gp(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:a}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!a})}),E(t=>{const e=function(t,e,n){const r=Zh(t,e._root,n?n._root:void 0);return new Ih(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),wf(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,a=this.routeReuseStrategy,s=t=>this.triggerEvent(t),E(t=>(new $h(a,t.targetRouterState,t.currentRouterState,s).activate(o),t))),wf({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new If(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new _f(i))),of(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=rp(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new If(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Tf(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return jd}));var i,o,a,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){sp(t),this.config=t.map(cp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:a}=e,s=n||this.routerState.root,l=a?this.currentUrlTree.fragment:i;let u=null;switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return Yh(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Uh(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return qf(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Uh(n,e,r)}(n);if(o.toRoot())return Yh(e.root,new oh([],{}),e,r,i);const a=function(t,e,n){if(t.isAbsolute)return new Wh(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Wh(t,t===e.root,0)}const r=zh(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Wh(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?Hh(a.segmentGroup,a.index,o.commands):Xh(a.segmentGroup,a.index,o.commands);return Yh(a.segmentGroup,s,e,r,i)}(s,this.currentUrlTree,t,u,l)}navigateByUrl(t,e={skipLocationChange:!1}){const n=rp(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(rp(t))return th(this.currentUrlTree,t,e);const n=this.parseUrl(t);return th(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Sf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),a="imperative"!==e&&"imperative"===(null==o?void 0:o.source),s=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(a&&s)return Promise.resolve(!0);let l,u,c;i?(l=i.resolve,u=i.reject,c=i.promise):c=new Promise((t,e)=>{l=t,u=e});const d=++this.navigationId;return this.setTransition({id:d,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:l,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(ar(Gn),ar(lh),ar(Up),ar(Kl),ar(yo),ar(_l),ar(qs),ar(void 0))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Qp=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Os,this.deactivateEvents=new Os,this.name=r||Yf,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new qp(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Po(Up),Po(gs),Po(Ia),("name",function(t,e){const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(un(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Te(),"name")),Po(ns))},t.\u0275dir=Yt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class qp{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Lh?this.route:t===Up?this.childContexts:this.parent.get(t,e)}}class $p{}class tg{preload(t,e){return Od(null)}}let eg=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Yp(e,n,e=>t.triggerEvent(new Ff(e)),e=>t.triggerEvent(new Df(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ef(t=>t instanceof Sf),lf(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(fs);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return F(n).pipe(Y(),E(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(G(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(ar(Jp),ar(_l),ar(qs),ar(yo),ar($p))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),ng=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof kf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Sf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof jf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new jf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(ar(Jp),ar(vu),ar(void 0))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const rg=new Bn("ROUTER_CONFIGURATION"),ig=new Bn("ROUTER_FORROOT_GUARD"),og=[Kl,{provide:lh,useClass:uh},{provide:Jp,useFactory:function(t,e,n,r,i,o,a,s={},l,u){const c=new Jp(null,t,e,n,r,i,o,Jf(a));if(l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(s,c),s.enableTracing){const t=Rl();c.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c},deps:[lh,Up,Kl,yo,_l,qs,jp,rg,[class{},new Kn],[class{},new Kn]]},Up,{provide:Lh,useFactory:function(t){return t.routerState.root},deps:[Jp]},{provide:_l,useClass:kl},eg,tg,class{preload(t,e){return e().pipe(of(()=>Od(null)))}},{provide:rg,useValue:{enableTracing:!1}}];function ag(){return new ml("Router",Jp)}let sg=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[og,dg(e),{provide:ig,useFactory:cg,deps:[[Jp,new Kn,new Qn]]},{provide:rg,useValue:n||{}},{provide:Nl,useFactory:ug,deps:[Vl,[new Hn(Wl),new Kn],rg]},{provide:ng,useFactory:lg,deps:[Jp,vu,rg]},{provide:$p,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:tg},{provide:ml,multi:!0,useFactory:ag},[fg,{provide:Ps,multi:!0,useFactory:hg,deps:[fg]},{provide:gg,useFactory:pg,deps:[fg]},{provide:zs,multi:!0,useExisting:gg}]]}}static forChild(e){return{ngModule:t,providers:[dg(e)]}}}return t.\u0275mod=zt({type:t}),t.\u0275inj=st({factory:function(e){return new(e||t)(ar(ig,8),ar(Jp,8))}}),t})();function lg(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ng(t,e,n)}function ug(t,e,n={}){return n.useHash?new Hl(t,e):new Xl(t,e)}function cg(t){return"guarded"}function dg(t){return[{provide:Zn,multi:!0,useValue:t},{provide:jp,multi:!0,useValue:t}]}let fg=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new A}appInitializer(){return this.injector.get(Dl,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Jp),r=this.injector.get(rg);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Od(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(rg),n=this.injector.get(eg),r=this.injector.get(ng),i=this.injector.get(Jp),o=this.injector.get(Cl);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(ar(yo))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function hg(t){return t.appInitializer.bind(t)}function pg(t){return t.bootstrapListener.bind(t)}const gg=new Bn("Router Initializer");let vg=(()=>{class t{constructor(){this.title="project"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&Zo(0,"router-outlet")},directives:[Qp],styles:[""]}),t})(),mg=(()=>{class t{constructor(t){this.route=t}ngOnInit(){}btnFunctionCall(){console.log("function was called",event),this.route.navigate(["/start-page"])}}return t.\u0275fac=function(e){return new(e||t)(Po(Jp))},t.\u0275cmp=Dt({type:t,selectors:[["app-login"]],decls:2,vars:0,consts:[["header","Welcome to UV"],["buttonType","text","buttonText","Login",1,"btn","btn-login",3,"click"]],template:function(t,e){1&t&&(Do(0,"lib-login",0),Do(1,"lib-button",1),Uo("click",function(){return e.btnFunctionCall()}),Bo(),Bo())},directives:[md,xd],styles:[""]}),t})(),yg=(()=>{class t{constructor(t){this.route=t,this.nav=[{icon:"dashboard",navlink:"/uv-platform-ui-sandbox/start-page/home-splash",classes:["",""]},{icon:"inspect",navlink:"/uv-platform-ui-sandbox/start-page/gwu",classes:["",""]},{icon:"sideBySide",navlink:"/uv-platform-ui-sandbox/start-page/side-by-side",classes:["",""]},{icon:"designRipple",navlink:"/uv-platform-ui-sandbox/start-page",classes:["",""]},{icon:"ingestion",navlink:"/uv-platform-ui-sandbox/start-page",classes:["",""]},{icon:"settings",navlink:"/uv-platform-ui-sandbox/start-page",classes:["",""]}],this.snippetBox=[{icon:"circle",snippetHeading:"Heading",snippetTxt:"Snippet will go here on three lines. And is clickable"},{icon:"circle",snippetHeading:"Heading",snippetTxt:"Snippet will go here on three lines. And is clickable"},{icon:"circle",snippetHeading:"Heading",snippetTxt:"Snippet will go here on three lines. And is clickable"},{icon:"circle",snippetHeading:"Heading",snippetTxt:"Snippet will go here on three lines. And is clickable"},{icon:"circle",snippetHeading:"Heading",snippetTxt:"Snippet will go here on three lines. And is clickable"},{icon:"circle",snippetHeading:"Heading",snippetTxt:"Snippet will go here on three lines. And is clickable"},{icon:"circle",snippetHeading:"Heading",snippetTxt:"Snippet will go here on three lines. And is clickable"},{icon:"circle",snippetHeading:"Heading",snippetTxt:"Snippet will go here on three lines. And is clickable"},{icon:"circle",snippetHeading:"Heading",snippetTxt:"Snippet will go here on three lines. And is clickable"},{icon:"circle",snippetHeading:"Heading",snippetTxt:"Snippet will go here on three lines. And is clickable"},{icon:"circle",snippetHeading:"Heading",snippetTxt:"Snippet will go here on three lines. And is clickable"},{icon:"circle",snippetHeading:"Heading",snippetTxt:"Snippet will go here on three lines. And is clickable"},{icon:"circle",snippetHeading:"Heading",snippetTxt:"Snippet will go here on three lines. And is clickable"},{icon:"circle",snippetHeading:"Heading",snippetTxt:"Snippet will go here on three lines. And is clickable"}]}ngOnInit(){}clear(){console.log("clear button clicked")}expandFilters(){console.log("expand button clicked")}moveRight(){console.log("move right")}showFilters(){console.log("show filters")}search(){console.log("search something")}snippetClick(){console.log("snippet was clicked")}profileClick(){console.log("profile was clicked")}helpBtnClick(){console.log("help button was clicked")}}return t.\u0275fac=function(e){return new(e||t)(Po(Jp))},t.\u0275cmp=Dt({type:t,selectors:[["app-start-page"]],decls:7,vars:10,consts:[[1,"fixed-container"],[3,"navlinks"],["headingTxt","Heading","subHeadingTxt","Subheading",3,"snippets","snippetClicked"],["headerText","Dashboard","iconName","dashboard",3,"profileBtnClicked","helpBtnClicked"],[3,"rightArrowBtnClicked","filterBtnClicked","searchBtnClicked","clearBtnClicked","expandFiltersClicked"]],template:function(t,e){1&t&&(Do(0,"div",0),Zo(1,"lib-navbar-dashboard",1),Zo(2,"lib-navbar-dashboard-sub",2),Do(3,"lib-header-dashboard",3),Zo(4,"lib-search-panel",4),Bo(),Do(5,"lib-home-container"),Zo(6,"router-outlet"),Bo(),Bo()),2&t&&(si(1),Vo("navlinks",e.nav),si(1),Vo("snippets",e.snippetBox)("snippetClicked",e.snippetClick),si(1),Vo("profileBtnClicked",e.profileClick)("helpBtnClicked",e.helpBtnClick),si(1),Vo("rightArrowBtnClicked",e.moveRight)("filterBtnClicked",e.showFilters)("searchBtnClicked",e.search)("clearBtnClicked",e.clear)("expandFiltersClicked",e.expandFilters))},directives:[wd,Ad,Cd,_d,kd,Qp],styles:[""]}),t})(),bg=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["app-home-splash"]],decls:6,vars:0,consts:[[1,"logo-splash-block"],["src","./assets/uvlogo.png",1,"logo-splash-block__logo"],[1,"heading"],[1,"heading-4"]],template:function(t,e){1&t&&(Do(0,"div",0),Zo(1,"img",1),Do(2,"p",2),la(3,"Welcome to Ultraviolet"),Bo(),Do(4,"p",3),la(5,"Click on a module below to get started."),Bo(),Bo())},styles:[""]}),t})();const xg=[{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"},{started:"Not Started",link:"",title:"Gasket Aluminum Exchangers",description:"Lorem ipsum dolor sit amet consectetur ",date:"Mar, 02"}];let wg=(()=>{class t{constructor(){this.compareTasks=xg}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["app-side-by-side"]],decls:1,vars:1,consts:[[3,"tasks"]],template:function(t,e){1&t&&Zo(0,"lib-side-by-side-landing",0),2&t&&Vo("tasks",e.compareTasks)},directives:[Sd],styles:[""]}),t})();const Cg=["*"];let Ag=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["app-widget-sandbox"]],ngContentSelectors:Cg,decls:2,vars:0,consts:[[1,"widget-sandbox"]],template:function(t,e){1&t&&(Jo(),Do(0,"div",0),Qo(1),Bo())},styles:[".widget-sandbox[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 2px 14px 0 hsla(0,0%,84.3%,.5);background-color:#fff;border-radius:16px;position:relative;display:inline-block;width:auto;height:auto;padding:10px;margin:128px 32px 32px 366px;overflow:auto}"]}),t})(),_g=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["app-data-viewer"]],decls:1,vars:0,consts:[[2,"height","500px","width","1000px"]],template:function(t,e){1&t&&Zo(0,"div",0)},styles:[""]}),t})();const Mg=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"",component:vg,children:[{path:"login",component:mg},{path:"start-page",component:yg,children:[{path:"home-splash",component:bg},{path:"side-by-side",component:wg},{path:"gwu",component:(()=>{class t{constructor(){this.gwuTabs=[{icon:"moreHorizontal",link:"/",linkText:"Link"},{icon:"moreHorizontal",link:"/",linkText:"Link"},{icon:"moreHorizontal",link:"/",linkText:"Link"}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Dt({type:t,selectors:[["app-global-where-used"]],decls:4,vars:1,consts:[["titleText","Title Can Go Here","descriptionText","Lorem ipsum dolor sit amet consectetur eiusmod tempor adipiscing elit sed do incididunt ut labore",3,"tabs"]],template:function(t,e){1&t&&(Zo(0,"lib-app-side-bar",0),Zo(1,"lib-app-bar"),Do(2,"app-widget-sandbox"),Zo(3,"app-data-viewer"),Bo()),2&t&&Vo("tabs",e.gwuTabs)},directives:[Id,Td,Ag,_g],styles:[""]}),t})()}]}]}];let Eg=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=st({factory:function(e){return new(e||t)},imports:[[sg.forRoot(Mg)],sg]}),t})(),kg=(()=>{class t{}return t.\u0275mod=zt({type:t,bootstrap:[vg]}),t.\u0275inj=st({factory:function(e){return new(e||t)},providers:[],imports:[[Wu,Eg,Ld]]}),t})();(function(){if(pl)throw new Error("Cannot enable prod mode after platform setup.");hl=!1})(),Nu().bootstrapModule(kg).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);